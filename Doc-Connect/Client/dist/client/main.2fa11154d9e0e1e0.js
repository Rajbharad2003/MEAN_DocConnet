"use strict";(self.webpackChunkClient=self.webpackChunkClient||[]).push([[179],{58:(rs,_i,rt)=>{rt.d(_i,{BH:()=>tn,G6:()=>Ao,L:()=>yt,LL:()=>J,Pz:()=>Ft,Sg:()=>or,UG:()=>ce,ZB:()=>Fe,ZR:()=>de,aH:()=>hn,b$:()=>Yn,eu:()=>X,hl:()=>Y,jU:()=>Tn,m9:()=>ll,ne:()=>ss,pd:()=>Ac,r3:()=>zi,ru:()=>fn,tV:()=>ue,uI:()=>ri,vZ:()=>os,w1:()=>So,xO:()=>Sc,xb:()=>Dr,z$:()=>ut,zd:()=>lo});const Ye=function(P){const M=[];let R=0;for(let re=0;re<P.length;re++){let U=P.charCodeAt(re);U<128?M[R++]=U:U<2048?(M[R++]=U>>6|192,M[R++]=63&U|128):55296==(64512&U)&&re+1<P.length&&56320==(64512&P.charCodeAt(re+1))?(U=65536+((1023&U)<<10)+(1023&P.charCodeAt(++re)),M[R++]=U>>18|240,M[R++]=U>>12&63|128,M[R++]=U>>6&63|128,M[R++]=63&U|128):(M[R++]=U>>12|224,M[R++]=U>>6&63|128,M[R++]=63&U|128)}return M},Cn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,M){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let U=0;U<P.length;U+=3){const ie=P[U],Qe=U+1<P.length,dt=Qe?P[U+1]:0,Pt=U+2<P.length,pn=Pt?P[U+2]:0;let Ei=(15&dt)<<2|pn>>6,Qt=63&pn;Pt||(Qt=64,Qe||(Ei=64)),re.push(R[ie>>2],R[(3&ie)<<4|dt>>4],R[Ei],R[Qt])}return re.join("")},encodeString(P,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(P):this.encodeByteArray(Ye(P),M)},decodeString(P,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(P):function(P){const M=[];let R=0,re=0;for(;R<P.length;){const U=P[R++];if(U<128)M[re++]=String.fromCharCode(U);else if(U>191&&U<224){const ie=P[R++];M[re++]=String.fromCharCode((31&U)<<6|63&ie)}else if(U>239&&U<365){const Pt=((7&U)<<18|(63&P[R++])<<12|(63&P[R++])<<6|63&P[R++])-65536;M[re++]=String.fromCharCode(55296+(Pt>>10)),M[re++]=String.fromCharCode(56320+(1023&Pt))}else{const ie=P[R++],Qe=P[R++];M[re++]=String.fromCharCode((15&U)<<12|(63&ie)<<6|63&Qe)}}return M.join("")}(this.decodeStringToByteArray(P,M))},decodeStringToByteArray(P,M){this.init_();const R=M?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let U=0;U<P.length;){const ie=R[P.charAt(U++)],dt=U<P.length?R[P.charAt(U)]:0;++U;const pn=U<P.length?R[P.charAt(U)]:64;++U;const Oe=U<P.length?R[P.charAt(U)]:64;if(++U,null==ie||null==dt||null==pn||null==Oe)throw new Pn;re.push(ie<<2|dt>>4),64!==pn&&(re.push(dt<<4&240|pn>>2),64!==Oe&&re.push(pn<<6&192|Oe))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class Pn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yt=function(P){return function(P){const M=Ye(P);return Cn.encodeByteArray(M,!0)}(P).replace(/\./g,"")},ue=function(P){try{return Cn.decodeString(P,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function Fe(P,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return M}for(const R in M)!M.hasOwnProperty(R)||!gt(R)||(P[R]=Fe(P[R],M[R]));return P}function gt(P){return"__proto__"!==P}const ct=()=>{try{return function kt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=P&&ue(P[1]);return M&&JSON.parse(M)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},hn=()=>{var P;return null===(P=ct())||void 0===P?void 0:P.config},Ft=P=>{var M;return null===(M=ct())||void 0===M?void 0:M[`_${P}`]};class tn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,R)=>{this.resolve=M,this.reject=R})}wrapCallback(M){return(R,re)=>{R?this.reject(R):this.resolve(re),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(R):M(R,re))}}}function or(P,M){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=M||"demo-project",U=P.iat||0,ie=P.sub||P.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:U,exp:U+3600,auth_time:U,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},P);return[yt(JSON.stringify({alg:"none",type:"JWT"})),yt(JSON.stringify(Qe)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ri(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function ce(){var P;const M=null===(P=ct())||void 0===P?void 0:P.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Tn(){return"object"==typeof self&&self.self===self}function fn(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function Yn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function So(){const P=ut();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function Ao(){return!ce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y(){try{return"object"==typeof indexedDB}catch{return!1}}function X(){return new Promise((P,M)=>{try{let R=!0;const re="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(re);U.onsuccess=()=>{U.result.close(),R||self.indexedDB.deleteDatabase(re),P(!0)},U.onupgradeneeded=()=>{R=!1},U.onerror=()=>{var ie;M((null===(ie=U.error)||void 0===ie?void 0:ie.message)||"")}}catch(R){M(R)}})}class de extends Error{constructor(M,R,re){super(R),this.code=M,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(M,R,re){this.service=M,this.serviceName=R,this.errors=re}create(M,...R){const re=R[0]||{},U=`${this.service}/${M}`,ie=this.errors[M],Qe=ie?function Te(P,M){return P.replace(It,(R,re)=>{const U=M[re];return null!=U?String(U):`<${re}?>`})}(ie,re):"Error";return new de(U,`${this.serviceName}: ${Qe} (${U}).`,re)}}const It=/\{\$([^}]+)}/g;function zi(P,M){return Object.prototype.hasOwnProperty.call(P,M)}function Dr(P){for(const M in P)if(Object.prototype.hasOwnProperty.call(P,M))return!1;return!0}function os(P,M){if(P===M)return!0;const R=Object.keys(P),re=Object.keys(M);for(const U of R){if(!re.includes(U))return!1;const ie=P[U],Qe=M[U];if(Ln(ie)&&Ln(Qe)){if(!os(ie,Qe))return!1}else if(ie!==Qe)return!1}for(const U of re)if(!R.includes(U))return!1;return!0}function Ln(P){return null!==P&&"object"==typeof P}function Sc(P){const M=[];for(const[R,re]of Object.entries(P))Array.isArray(re)?re.forEach(U=>{M.push(encodeURIComponent(R)+"="+encodeURIComponent(U))}):M.push(encodeURIComponent(R)+"="+encodeURIComponent(re));return M.length?"&"+M.join("&"):""}function lo(P){const M={};return P.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[U,ie]=re.split("=");M[decodeURIComponent(U)]=decodeURIComponent(ie)}}),M}function Ac(P){const M=P.indexOf("?");if(!M)return"";const R=P.indexOf("#",M);return P.substring(M,R>0?R:void 0)}function ss(P,M){const R=new Ss(P,M);return R.subscribe.bind(R)}class Ss{constructor(M,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{M(this)}).catch(re=>{this.error(re)})}next(M){this.forEachObserver(R=>{R.next(M)})}error(M){this.forEachObserver(R=>{R.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,R,re){let U;if(void 0===M&&void 0===R&&void 0===re)throw new Error("Missing Observer.");U=function va(P,M){if("object"!=typeof P||null===P)return!1;for(const R of M)if(R in P&&"function"==typeof P[R])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:R,complete:re},void 0===U.next&&(U.next=ln),void 0===U.error&&(U.error=ln),void 0===U.complete&&(U.complete=ln);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),ie}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,M)}sendOne(M,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{R(this.observers[M])}catch(re){typeof console<"u"&&console.error&&console.error(re)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}function ll(P){return P&&P._delegate?P._delegate:P}},898:(rs,_i,rt)=>{function I(n){return"function"==typeof n}function Ge(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const te=Ge(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ye(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(I(i))try{i()}catch(o){e=o instanceof te?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{yi(o)}catch(s){e=e??[],s instanceof te?e=[...e,...s.errors]:e.push(s)}}if(e)throw new te(e)}}add(e){var t;if(e&&e!==this)if(this.closed)yi(e);else{if(e instanceof Tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ye(t,e)}remove(e){const{_finalizers:t}=this;t&&Ye(t,e),e instanceof Tt&&e._removeParent(this)}}Tt.EMPTY=(()=>{const n=new Tt;return n.closed=!0,n})();const Cn=Tt.EMPTY;function Pn(n){return n instanceof Tt||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function yi(n){I(n)?n():n.unsubscribe()}const yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ue={setTimeout(n,e,...t){const{delegate:i}=ue;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ue;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ye(n){ue.setTimeout(()=>{const{onUnhandledError:e}=yt;if(!e)throw n;e(n)})}function Fe(){}const gt=Nt("C",void 0,void 0);function Nt(n,e,t){return{kind:n,value:e,error:t}}let Je=null;function ct(n){if(yt.useDeprecatedSynchronousErrorHandling){const e=!Je;if(e&&(Je={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Je;if(Je=null,t)throw i}}else n()}class wi extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pn(e)&&e.add(this)):this.destination=Tn}static create(e,t,i){return new or(e,t,i)}next(e){this.isStopped?ce(function vi(n){return Nt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ce(function kt(n){return Nt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ce(gt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const hn=Function.prototype.bind;function Ft(n,e){return hn.call(n,e)}class tn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){ut(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){ut(i)}else ut(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ut(t)}}}class or extends wi{constructor(e,t,i){let r;if(super(),I(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&yt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Ft(e.next,o),error:e.error&&Ft(e.error,o),complete:e.complete&&Ft(e.complete,o)}):r=e}this.destination=new tn(r)}}function ut(n){yt.useDeprecatedSynchronousErrorHandling?function bi(n){yt.useDeprecatedSynchronousErrorHandling&&Je&&(Je.errorThrown=!0,Je.error=n)}(n):ye(n)}function ce(n,e){const{onStoppedNotification:t}=yt;t&&ue.setTimeout(()=>t(n,e))}const Tn={closed:!0,next:Fe,error:function ri(n){throw n},complete:Fe},fn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Yn(n){return n}function So(n){return 0===n.length?Yn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let pt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Y(n){return n&&n instanceof wi||function Ao(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&Pn(n)}(t)?t:new or(t,i,r);return ct(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=ya(i))((r,o)=>{const s=new or({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[fn](){return this}pipe(...t){return So(t)(this)}toPromise(t){return new(t=ya(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function ya(n){var e;return null!==(e=n??yt.Promise)&&void 0!==e?e:Promise}const X=Ge(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let W=(()=>{class n extends pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new se(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new X}next(t){ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Cn:(this.currentObservers=null,o.push(t),new Tt(()=>{this.currentObservers=null,Ye(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new pt;return t.source=this,t}}return n.create=(e,t)=>new se(e,t),n})();class se extends W{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Cn}}function de(n){return I(n?.lift)}function J(n){return e=>{if(de(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(n,e,t,i,r){return new It(n,e,t,i,r)}class It extends wi{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Re(n,e){return J((t,i)=>{let r=0;t.subscribe(Te(i,o=>{i.next(n.call(e,o,r++))}))})}var Ve=rt(582);const Dt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function In(n){return I(n?.then)}function an(n){return I(n[fn])}function Ri(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function oi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sr=function zi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Dr(n){return I(n?.[sr])}function Dc(n){return(0,Ve.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Ve.qq)(t.read());if(r)return yield(0,Ve.qq)(void 0);yield yield(0,Ve.qq)(i)}}finally{t.releaseLock()}})}function os(n){return I(n?.getReader)}function Ln(n){if(n instanceof pt)return n;if(null!=n){if(an(n))return function il(n){return new pt(e=>{const t=n[fn]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Dt(n))return function Sc(n){return new pt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(In(n))return function lo(n){return new pt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ye)})}(n);if(Ri(n))return ar(n);if(Dr(n))return function Ac(n){return new pt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(os(n))return function ss(n){return ar(Dc(n))}(n)}throw oi(n)}function ar(n){return new pt(e=>{(function Ss(n,e){var t,i,r,o;return(0,Ve.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ve.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Oi(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ln(n,e,t=1/0){return I(e)?ln((i,r)=>Re((o,s)=>e(i,o,r,s))(Ln(n(i,r))),t):("number"==typeof e&&(t=e),J((i,r)=>function va(n,e,t,i,r,o,s,a){const l=[];let c=0,h=0,m=!1;const y=()=>{m&&!l.length&&!c&&e.complete()},b=T=>c<i?C(T):l.push(T),C=T=>{o&&e.next(T),c++;let D=!1;Ln(t(T,h++)).subscribe(Te(e,F=>{r?.(F),o?b(F):e.next(F)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<i;){const F=l.shift();s?Oi(e,s,()=>C(F)):C(F)}y()}catch(F){e.error(F)}}))};return n.subscribe(Te(e,b,()=>{m=!0,y()})),()=>{a?.()}}(i,r,n,t)))}function co(n=1/0){return ln(Yn,n)}const si=new pt(n=>n.complete());function Sr(n){return n&&I(n.schedule)}function As(n){return n[n.length-1]}function ol(n){return I(As(n))?n.pop():void 0}function Ms(n){return Sr(As(n))?n.pop():void 0}function qi(n,e=0){return J((t,i)=>{t.subscribe(Te(i,r=>Oi(i,n,()=>i.next(r),e),()=>Oi(i,n,()=>i.complete(),e),r=>Oi(i,n,()=>i.error(r),e)))})}function lr(n,e=0){return J((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function ll(n,e){if(!n)throw new Error("Iterable cannot be null");return new pt(t=>{Oi(t,e,()=>{const i=n[Symbol.asyncIterator]();Oi(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function R(n,e){return e?function M(n,e){if(null!=n){if(an(n))return function ks(n,e){return Ln(n).pipe(lr(e),qi(e))}(n,e);if(Dt(n))return function pd(n,e){return new pt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(In(n))return function al(n,e){return Ln(n).pipe(lr(e),qi(e))}(n,e);if(Ri(n))return ll(n,e);if(Dr(n))return function Mc(n,e){return new pt(t=>{let i;return Oi(t,e,()=>{i=n[sr](),Oi(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>I(i?.return)&&i.return()})}(n,e);if(os(n))return function P(n,e){return ll(Dc(n),e)}(n,e)}throw oi(n)}(n,e):Ln(n)}function re(...n){const e=Ms(n),t=function sl(n,e){return"number"==typeof As(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Ln(i[0]):co(t)(R(i,e)):si}class U extends W{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function ie(...n){return R(n,Ms(n))}function Qe(n={}){const{connector:e=(()=>new W),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,h=!1,m=!1;const y=()=>{a?.unsubscribe(),a=void 0},b=()=>{y(),s=l=void 0,h=m=!1},C=()=>{const T=s;b(),T?.unsubscribe()};return J((T,D)=>{c++,!m&&!h&&y();const F=l=l??e();D.add(()=>{c--,0===c&&!m&&!h&&(a=dt(C,r))}),F.subscribe(D),!s&&c>0&&(s=new or({next:O=>F.next(O),error:O=>{m=!0,y(),a=dt(b,t,O),F.error(O)},complete:()=>{h=!0,y(),a=dt(b,i),F.complete()}}),Ln(T).subscribe(s))})(o)}}function dt(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new or({next:()=>{i.unsubscribe(),n()}});return Ln(e(...t)).subscribe(i)}function Pt(n,e){return J((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(Te(i,l=>{r?.unsubscribe();let c=0;const h=o++;Ln(n(l,h)).subscribe(r=Te(i,m=>i.next(e?e(l,m,h,c++):m),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function pn(n,e=Yn){return n=n??ai,J((t,i)=>{let r,o=!0;t.subscribe(Te(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function ai(n,e){return n===e}function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function Ei(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Qt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Qt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Mo(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const md=Oe({__forward_ref__:Oe});function q(n){return n.__forward_ref__=q,n.toString=function(){return Qt(this())},n}function N(n){return pe(n)?n():n}function pe(n){return"function"==typeof n&&n.hasOwnProperty(md)&&n.__forward_ref__===q}function Ae(n){return n&&!!n.\u0275providers}const vt="https://g.co/ng/security#xss";class $ extends Error{constructor(e,t){super(function Rn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ne(n){return"string"==typeof n?n:null==n?"":String(n)}function kc(n,e){throw new $(-201,!1)}function Zr(n,e){null==n&&function qe(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ve(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ht(n){return{providers:n.providers||[],imports:n.imports||[]}}function yd(n){return xp(n,Pc)||xp(n,ba)}function xp(n,e){return n.hasOwnProperty(e)?n[e]:null}function vd(n){return n&&(n.hasOwnProperty(Dp)||n.hasOwnProperty(Uy))?n[Dp]:null}const Pc=Oe({\u0275prov:Oe}),Dp=Oe({\u0275inj:Oe}),ba=Oe({ngInjectableDef:Oe}),Uy=Oe({ngInjectorDef:Oe});var mt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(mt||{});let Sp;function cr(n){const e=Sp;return Sp=n,e}function wd(n,e,t){const i=yd(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&mt.Optional?null:void 0!==e?e:void kc(Qt(n))}const Wt=globalThis;class fe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ve({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Oc={},Nc="__NG_DI_FLAG__",Rs="ngTempTokenPath",Rp=/\n/gm,uo="__source";let ul;function Os(n){const e=ul;return ul=n,e}function Np(n,e=mt.Default){if(void 0===ul)throw new $(-203,!1);return null===ul?wd(n,void 0,e):ul.get(n,e&mt.Optional?null:void 0,e)}function B(n,e=mt.Default){return(function bd(){return Sp}()||Np)(N(n),e)}function Ie(n,e=mt.Default){return B(n,Td(e))}function Td(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Fc(n){const e=[];for(let t=0;t<n.length;t++){const i=N(n[t]);if(Array.isArray(i)){if(0===i.length)throw new $(900,!1);let r,o=mt.Default;for(let s=0;s<i.length;s++){const a=i[s],l=yC(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(B(r,o))}else e.push(B(i))}return e}function ho(n,e){return n[Nc]=e,n.prototype[Nc]=e,n}function yC(n){return n[Nc]}function Ns(n){return{toString:n}.toString()}var dl=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(dl||{}),zn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(zn||{});const Gi={},bt=[],Vc=Oe({\u0275cmp:Oe}),Id=Oe({\u0275dir:Oe}),xd=Oe({\u0275pipe:Oe}),qy=Oe({\u0275mod:Oe}),ur=Oe({\u0275fac:Oe}),Bc=Oe({__NG_ELEMENT_ID__:Oe}),Uc=Oe({__NG_ENV_ID__:Oe});function Fp(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Dd(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];Mr(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Sd(n){return 3===n||4===n||6===n}function Mr(n){return 64===n.charCodeAt(0)}function hl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Gy(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Gy(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Ad="ng-template";function Md(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==Fp(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Lp(n){return 4===n.type&&n.value!==Ad}function Wy(n,e,t){return e===(4!==n.type||t?n.value:Ad)}function bC(n,e,t){let i=4;const r=n.attrs||[],o=function Bp(n){for(let e=0;e<n.length;e++)if(Sd(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Wy(n,l,t)||""===l&&1===e.length){if(kr(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!Md(n.attrs,c,t)){if(kr(i))return!1;s=!0}continue}const m=Vp(8&i?"class":l,r,Lp(n),t);if(-1===m){if(kr(i))return!1;s=!0;continue}if(""!==c){let y;y=m>o?"":r[m+1].toLowerCase();const b=8&i?y:null;if(b&&-1!==Fp(b,c,0)||2&i&&c!==y){if(kr(i))return!1;s=!0}}}}else{if(!s&&!kr(i)&&!kr(l))return!1;if(s&&kr(l))continue;s=!1,i=l|1&i}}return kr(i)||s}function kr(n){return 0==(1&n)}function Vp(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Zy(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function kd(n,e,t=!1){for(let i=0;i<e.length;i++)if(bC(n,e[i],t))return!0;return!1}function Up(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function jp(n,e){return n?":not("+e.trim()+")":e}function Hp(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!kr(s)&&(e+=jp(o,r),r=""),i=s,o=o||!kr(i);t++}return""!==r&&(e+=jp(o,r)),e}function Ut(n){return Ns(()=>{const e=Qy(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zn.Emulated,styles:n.styles||bt,_:null,schemas:n.schemas||null,tView:null,id:""};Od(t);const i=n.dependencies;return t.directiveDefs=Nd(i,!1),t.pipeDefs=Nd(i,!0),t.id=function wC(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Ky(n){return Et(n)||Qn(n)}function qp(n){return null!==n}function nn(n){return Ns(()=>({type:n.type,bootstrap:n.bootstrap||bt,declarations:n.declarations||bt,imports:n.imports||bt,exports:n.exports||bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Yy(n,e){if(null==n)return Gi;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function ze(n){return Ns(()=>{const e=Qy(n);return Od(e),e})}function li(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Et(n){return n[Vc]||null}function Qn(n){return n[Id]||null}function ci(n){return n[xd]||null}function Wi(n,e){const t=n[qy]||null;if(!t&&!0===e)throw new Error(`Type ${Qt(n)} does not have '\u0275mod' property.`);return t}function Qy(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Gi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yy(n.inputs,e),outputs:Yy(n.outputs)}}function Od(n){n.features?.forEach(e=>e(n))}function Nd(n,e){if(!n)return null;const t=e?ci:Ky;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(qp)}const gn=0,xe=1,et=2,_n=3,Pr=4,jc=5,ui=6,fl=7,Vn=8,ko=9,pl=10,tt=11,wa=12,Xy=13,Ls=14,Bn=15,Ea=16,ml=17,Kr=18,Hc=19,Fd=20,Vs=21,fo=22,$c=23,Ca=24,wt=25,Ld=1,Vd=2,Po=7,Ta=9,Ci=11;function dr(n){return Array.isArray(n)&&"object"==typeof n[Ld]}function Zi(n){return Array.isArray(n)&&!0===n[Ld]}function Jy(n){return 0!=(4&n.flags)}function gl(n){return n.componentOffset>-1}function Zp(n){return 1==(1&n.flags)}function Rr(n){return!!n.template}function Kp(n){return 0!=(512&n[et])}function Ia(n,e){return n.hasOwnProperty(ur)?n[ur]:null}let Ni=null,po=!1;function Yr(n){const e=Ni;return Ni=n,e}const rv={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ov(n){if(!Us(n)||n.dirty){if(!n.producerMustRecompute(n)&&!sv(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Ud(n){n.dirty=!0,function Un(n){if(void 0===n.liveConsumerNode)return;const e=po;po=!0;try{for(const t of n.liveConsumerNode)t.dirty||Ud(t)}finally{po=e}}(n),n.consumerMarkedDirty?.(n)}function Jp(n){return n&&(n.nextProducerIndex=0),Yr(n)}function qc(n,e){if(Yr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Us(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)jd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function sv(n){xa(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(ov(t),i!==t.version))return!0}return!1}function av(n){if(xa(n),Us(n))for(let e=0;e<n.producerNode.length;e++)jd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function jd(n,e){if(function vl(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),xa(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)jd(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];xa(r),r.producerIndexOfThis[i]=e}}function Us(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function xa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Hd=null;const fv=()=>{},rm=(()=>({...rv,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:fv}))();class AC{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Or(){return pv}function pv(n){return n.type.prototype.ngOnChanges&&(n.setInput=MC),mv}function mv(){const n=_v(this),e=n?.current;if(e){const t=n.previous;if(t===Gi)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function MC(n,e,t,i){const r=this.declaredInputs[t],o=_v(n)||function om(n,e){return n[gv]=e}(n,{previous:Gi,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new AC(l&&l.currentValue,e,a===Gi),n[i]=e}Or.ngInherit=!0;const gv="__ngSimpleChanges__";function _v(n){return n[gv]||null}const Ro=function(n,e,t){},qd="svg";function Zt(n){for(;Array.isArray(n);)n=n[gn];return n}function wl(n,e){return Zt(e[n])}function hr(n,e){return Zt(e[n.index])}function El(n,e){return n.data[e]}function Qr(n,e){return n[e]}function Ki(n,e){const t=e[n];return dr(t)?t:t[gn]}function Oo(n,e){return null==e?null:n[e]}function cm(n){n[ml]=0}function OC(n){1024&n[et]||(n[et]|=1024,Gd(n,1))}function vv(n){1024&n[et]&&(n[et]&=-1025,Gd(n,-1))}function Gd(n,e){let t=n[_n];if(null===t)return;t[jc]+=e;let i=t;for(t=t[_n];null!==t&&(1===e&&1===i[jc]||-1===e&&0===i[jc]);)t[jc]+=e,i=t,t=t[_n]}const We={lFrame:Mv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ev(){return We.bindingsEnabled}function js(){return null!==We.skipHydrationRootTNode}function he(){return We.lFrame.lView}function St(){return We.lFrame.tView}function le(n){return We.lFrame.contextLView=n,n[Vn]}function oe(n){return We.lFrame.contextLView=null,n}function Ti(){let n=Tv();for(;null!==n&&64===n.type;)n=n.parent;return n}function Tv(){return We.lFrame.currentTNode}function No(n,e){const t=We.lFrame;t.currentTNode=n,t.isParent=e}function pm(){return We.lFrame.isParent}function Zc(){We.lFrame.isParent=!1}function Ii(){const n=We.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Cl(){return We.lFrame.bindingIndex++}function Lo(n){const e=We.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function BC(n,e){const t=We.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yc(e)}function Yc(n){We.lFrame.currentDirectiveIndex=n}function Sv(){return We.lFrame.currentQueryIndex}function _m(n){We.lFrame.currentQueryIndex=n}function ym(n){const e=n[xe];return 2===e.type?e.declTNode:1===e.type?n[ui]:null}function Av(n,e,t){if(t&mt.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&mt.Host||(r=ym(o),null===r||(o=o[Ls],10&r.type))););if(null===r)return!1;e=r,n=o}const i=We.lFrame=bm();return i.currentTNode=e,i.lView=n,!0}function vm(n){const e=bm(),t=n[xe];We.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function bm(){const n=We.lFrame,e=null===n?null:n.child;return null===e?Mv(n):e}function Mv(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Qc(){const n=We.lFrame;return We.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const kv=Qc;function wm(){const n=Qc();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Yi(){return We.lFrame.selectedIndex}function Sa(n){We.lFrame.selectedIndex=n}function xn(){const n=We.lFrame;return El(n.tView,n.selectedIndex)}function Fi(){We.lFrame.currentNamespace=qd}function Li(){!function HC(){We.lFrame.currentNamespace=null}()}let Rv=!0;function Kd(){return Rv}function cs(n){Rv=n}function Yd(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Qd(n,e,t){Jd(n,e,3,t)}function Xd(n,e,t,i){(3&n[et])===t&&Jd(n,e,t,i)}function Cm(n,e){let t=n[et];(3&t)===e&&(t&=8191,t+=1,n[et]=t)}function Jd(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[ml]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[ml]+=65536),(a<o||-1==o)&&(zC(n,t,e,l),n[ml]=(4294901760&n[ml])+l+2),l++}function eh(n,e){Ro(4,n,e);const t=Yr(null);try{e.call(n)}finally{Yr(t),Ro(5,n,e)}}function zC(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[et]>>13<n[ml]>>16&&(3&n[et])===e&&(n[et]+=8192,eh(a,o)):eh(a,o)}const Hs=-1;class Xc{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function th(n){return n!==Hs}function Tl(n){return 32767&n}function eu(n,e){let t=function GC(n){return n>>16}(n),i=e;for(;t>0;)i=i[Ls],t--;return i}let xm=!0;function nh(n){const e=xm;return xm=n,e}const Dm=255,Nv=5;let Bk=0;const Vo={};function ih(n,e){const t=rh(n,e);if(-1!==t)return t;const i=e[xe];i.firstCreatePass&&(n.injectorIndex=e.length,Sm(i.data,n),Sm(e,null),Sm(i.blueprint,null));const r=oh(n,e),o=n.injectorIndex;if(th(r)){const s=Tl(r),a=eu(r,e),l=a[xe].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function Sm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function rh(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function oh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=jv(r),null===i)return Hs;if(t++,r=r[Ls],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Hs}function tu(n,e,t){!function Aa(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Bc)&&(i=t[Bc]),null==i&&(i=t[Bc]=Bk++);const r=i&Dm;e.data[n+(r>>Nv)]|=1<<r}(n,e,t)}function Fv(n,e,t){if(t&mt.Optional||void 0!==n)return n;kc()}function sh(n,e,t,i){if(t&mt.Optional&&void 0===i&&(i=null),!(t&(mt.Self|mt.Host))){const r=n[ko],o=cr(void 0);try{return r?r.get(e,i,t&mt.Optional):wd(e,i,t&mt.Optional)}finally{cr(o)}}return Fv(i,0,t)}function Lv(n,e,t,i=mt.Default,r){if(null!==n){if(2048&e[et]&&!(i&mt.Self)){const s=function YC(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[et]&&!(512&s[et]);){const a=Vv(o,s,t,i|mt.Self,Vo);if(a!==Vo)return a;let l=o.parent;if(!l){const c=s[Fd];if(c){const h=c.get(t,Vo,i);if(h!==Vo)return h}l=jv(s),s=s[Ls]}o=l}return r}(n,e,t,i,Vo);if(s!==Vo)return s}const o=Vv(n,e,t,i,Vo);if(o!==Vo)return o}return sh(e,t,i,r)}function Vv(n,e,t,i,r){const o=function ZC(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Bc)?n[Bc]:void 0;return"number"==typeof e?e>=0?e&Dm:KC:e}(t);if("function"==typeof o){if(!Av(e,n,i))return i&mt.Host?Fv(r,0,i):sh(e,t,i,r);try{let s;if(s=o(i),null!=s||i&mt.Optional)return s;kc()}finally{kv()}}else if("number"==typeof o){let s=null,a=rh(n,e),l=Hs,c=i&mt.Host?e[Bn][ui]:null;for((-1===a||i&mt.SkipSelf)&&(l=-1===a?oh(n,e):e[a+8],l!==Hs&&Uv(i,!1)?(s=e[xe],a=Tl(l),e=eu(l,e)):a=-1);-1!==a;){const h=e[xe];if(Bv(o,a,h.data)){const m=Am(a,e,t,s,i,c);if(m!==Vo)return m}l=e[a+8],l!==Hs&&Uv(i,e[xe].data[a+8]===c)&&Bv(o,a,e)?(s=h,a=Tl(l),e=eu(l,e)):a=-1}}return r}function Am(n,e,t,i,r,o){const s=e[xe],a=s.data[n+8],h=ah(a,s,t,null==i?gl(a)&&xm:i!=s&&0!=(3&a.type),r&mt.Host&&o===a);return null!==h?Ma(e,s,h,a):Vo}function ah(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,h=o>>20,y=r?a+h:n.directiveEnd;for(let b=i?a:a+h;b<y;b++){const C=s[b];if(b<l&&t===C||b>=l&&C.type===t)return b}if(r){const b=s[l];if(b&&Rr(b)&&b.type===t)return l}return null}function Ma(n,e,t,i){let r=n[t];const o=e.data;if(function Ov(n){return n instanceof Xc}(r)){const s=r;s.resolving&&function cl(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new $(-200,`Circular dependency in DI detected for ${n}${t}`)}(function _t(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ne(n)}(o[t]));const a=nh(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?cr(s.injectImpl):null;Av(n,i,mt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function $C(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=pv(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&cr(c),nh(a),s.resolving=!1,kv()}}return r}function Bv(n,e,t){return!!(t[e+(n>>Nv)]&1<<n)}function Uv(n,e){return!(n&mt.Self||n&mt.Host&&e)}class Qi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Lv(this._tNode,this._lView,e,Td(i),t)}}function KC(){return new Qi(Ti(),he())}function Xn(n){return Ns(()=>{const e=n.prototype.constructor,t=e[ur]||nu(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[ur]||nu(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function nu(n){return pe(n)?()=>{const e=nu(N(n));return e&&e()}:Ia(n)}function jv(n){const e=n[xe],t=e.type;return 2===t?e.declTNode:1===t?n[ui]:null}const Dl="__parameters__";function Al(n,e,t){return Ns(()=>{const i=function Pm(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,h){const m=l.hasOwnProperty(Dl)?l[Dl]:Object.defineProperty(l,Dl,{value:[]})[Dl];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function di(n,e){n.forEach(t=>Array.isArray(t)?di(t,e):e(t))}function kl(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ru(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ou(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Nr(n,e,t){let i=Pa(n,e);return i>=0?n[1|i]=t:(i=~i,function JC(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Bo(n,e){const t=Pa(n,e);if(t>=0)return n[1|t]}function Pa(n,e){return function qv(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Pl=ho(Al("Optional"),8),Rl=ho(Al("SkipSelf"),4);function t0(n){return 128==(128&n.flags)}var Ol=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ol||{});const EH=/^>|^->|<!--|-->|--!>|<!-$/g,CH=/(<|>)/g,TH="\u200b$1\u200b";const aT=new Map;let IH=0;const cT="__ngContext__";function mr(n,e){dr(e)?(n[cT]=e[Hc],function DH(n){aT.set(n[Hc],n)}(e)):n[cT]=e}let uT;function dT(n,e){return uT(n,e)}function jm(n){const e=n[_n];return Zi(e)?e[_n]:e}function aP(n){return cP(n[wa])}function lP(n){return cP(n[Pr])}function cP(n){for(;null!==n&&!Zi(n);)n=n[Pr];return n}function hh(n,e,t,i,r){if(null!=i){let o,s=!1;Zi(i)?o=i:dr(i)&&(s=!0,i=i[gn]);const a=Zt(i);0===n&&null!==t?null==r?fP(e,t,a):cu(e,t,a,r||null,!0):1===n&&null!==t?cu(e,t,a,r||null,!0):2===n?function c0(n,e,t){const i=a0(n,e);i&&function GH(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function KH(n,e,t,i,r){const o=t[Po];o!==Zt(t)&&hh(e,n,i,o,r);for(let a=Ci;a<t.length;a++){const l=t[a];$m(l[xe],l,n,e,i,o)}}(e,n,o,t,r)}}function hT(n,e){return n.createComment(function Jk(n){return n.replace(EH,e=>e.replace(CH,TH))}(e))}function o0(n,e,t){return n.createElement(e,t)}function dP(n,e){const t=n[Ta],i=t.indexOf(e);vv(e),t.splice(i,1)}function s0(n,e){if(n.length<=Ci)return;const t=Ci+e,i=n[t];if(i){const r=i[Ea];null!==r&&r!==n&&dP(r,i),e>0&&(n[t-1][Pr]=i[Pr]);const o=ru(n,Ci+e);!function VH(n,e){$m(n,e,e[tt],2,null,null),e[gn]=null,e[ui]=null}(i[xe],i);const s=o[Kr];null!==s&&s.detachView(o[xe]),i[_n]=null,i[Pr]=null,i[et]&=-129}return i}function fT(n,e){if(!(256&e[et])){const t=e[tt];e[$c]&&av(e[$c]),e[Ca]&&av(e[Ca]),t.destroyNode&&$m(n,e,t,3,null,null),function jH(n){let e=n[wa];if(!e)return pT(n[xe],n);for(;e;){let t=null;if(dr(e))t=e[wa];else{const i=e[Ci];i&&(t=i)}if(!t){for(;e&&!e[Pr]&&e!==n;)dr(e)&&pT(e[xe],e),e=e[_n];null===e&&(e=n),dr(e)&&pT(e[xe],e),t=e&&e[Pr]}e=t}}(e)}}function pT(n,e){if(!(256&e[et])){e[et]&=-129,e[et]|=256,function qH(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Xc)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Ro(4,a,l);try{l.call(a)}finally{Ro(5,a,l)}}else{Ro(4,r,o);try{o.call(r)}finally{Ro(5,r,o)}}}}}(n,e),function zH(n,e){const t=n.cleanup,i=e[fl];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[fl]=null);const r=e[Vs];if(null!==r){e[Vs]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[xe].type&&e[tt].destroy();const t=e[Ea];if(null!==t&&Zi(e[_n])){t!==e[_n]&&dP(t,e);const i=e[Kr];null!==i&&i.detachView(n)}!function SH(n){aT.delete(n[Hc])}(e)}}function mT(n,e,t){return function hP(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[gn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===zn.None||o===zn.Emulated)return null}return hr(i,t)}}(n,e.parent,t)}function cu(n,e,t,i,r){n.insertBefore(e,t,i,r)}function fP(n,e,t){n.appendChild(e,t)}function pP(n,e,t,i,r){null!==i?cu(n,e,t,i,r):fP(n,e,t)}function a0(n,e){return n.parentNode(e)}function mP(n,e,t){return _P(n,e,t)}let gT,bT,d0,_P=function gP(n,e,t){return 40&n.type?hr(n,t):null};function l0(n,e,t,i){const r=mT(n,i,e),o=e[tt],a=mP(i.parent||e[ui],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)pP(o,r,t[l],a,!1);else pP(o,r,t,a,!1);void 0!==gT&&gT(o,i,e,t,r)}function Hm(n,e){if(null!==e){const t=e.type;if(3&t)return hr(e,n);if(4&t)return _T(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Hm(n,i);{const r=n[e.index];return Zi(r)?_T(-1,r):Zt(r)}}if(32&t)return dT(e,n)()||Zt(n[e.index]);{const i=vP(n,e);return null!==i?Array.isArray(i)?i[0]:Hm(jm(n[Bn]),i):Hm(n,e.next)}}return null}function vP(n,e){return null!==e?n[Bn][ui].projection[e.projection]:null}function _T(n,e){const t=Ci+n+1;if(t<e.length){const i=e[t],r=i[xe].firstChild;if(null!==r)return Hm(i,r)}return e[Po]}function yT(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&mr(Zt(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)yT(n,e,t.child,i,r,o,!1),hh(e,n,r,a,o);else if(32&l){const c=dT(t,i);let h;for(;h=c();)hh(e,n,r,h,o);hh(e,n,r,a,o)}else 16&l?wP(n,e,i,t,r,o):hh(e,n,r,a,o);t=s?t.projectionNext:t.next}}function $m(n,e,t,i,r,o){yT(t,i,n.firstChild,e,r,o,!1)}function wP(n,e,t,i,r,o){const s=t[Bn],l=s[ui].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)hh(e,n,r,l[c],o);else{let c=l;const h=s[_n];t0(i)&&(c.flags|=128),yT(n,e,c,h,r,o,!0)}}function EP(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function CP(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Dd(n,e,i),null!==r&&EP(n,e,r),null!==o&&function QH(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function xP(n){return function wT(){if(void 0===d0&&(d0=null,Wt.trustedTypes))try{d0=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return d0}()?.createScriptURL(n)||n}class DP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vt})`}}function Nl(n){return n instanceof DP?n.changingThisBreaksApplicationSecurity:n}function zm(n,e){const t=function a7(n){return n instanceof DP&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${vt})`)}return t===e}const d7=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var mh=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(mh||{});function eo(n){const e=Gm();return e?e.sanitize(mh.URL,n)||"":zm(n,"URL")?Nl(n):function ET(n){return(n=String(n)).match(d7)?n:"unsafe:"+n}(Ne(n))}function OP(n){const e=Gm();if(e)return xP(e.sanitize(mh.RESOURCE_URL,n)||"");if(zm(n,"ResourceURL"))return xP(Nl(n));throw new $(904,!1)}function Gm(){const n=he();return n&&n[pl].sanitizer}const Wm=new fe("ENVIRONMENT_INITIALIZER"),FP=new fe("INJECTOR",-1),LP=new fe("INJECTOR_DEF_TYPES");class xT{get(e,t=Oc){if(t===Oc){const i=new Error(`NullInjectorError: No provider for ${Qt(e)}!`);throw i.name="NullInjectorError",i}return t}}function T7(...n){return{\u0275providers:VP(0,n),\u0275fromNgModule:!0}}function VP(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return di(e,s=>{const a=s;f0(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&BP(r,o),t}function BP(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];ST(r,o=>{e(o,i)})}}function f0(n,e,t,i){if(!(n=N(n)))return!1;let r=null,o=vd(n);const s=!o&&Et(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=vd(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)f0(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{di(o.imports,h=>{f0(h,e,t,i)&&(c||=[],c.push(h))})}finally{}void 0!==c&&BP(c,e)}if(!a){const c=Ia(r)||(()=>new r);e({provide:r,useFactory:c,deps:bt},r),e({provide:LP,useValue:r,multi:!0},r),e({provide:Wm,useValue:()=>B(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;ST(l,h=>{e(h,c)})}}}return r!==n&&void 0!==n.providers}function ST(n,e){for(let t of n)Ae(t)&&(t=t.\u0275providers),Array.isArray(t)?ST(t,e):e(t)}const I7=Oe({provide:String,useValue:Oe});function AT(n){return null!==n&&"object"==typeof n&&I7 in n}function uu(n){return"function"==typeof n}const MT=new fe("Set Injector scope."),p0={},D7={};let kT;function m0(){return void 0===kT&&(kT=new xT),kT}class go{}class gh extends go{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,RT(e,s=>this.processProvider(s)),this.records.set(FP,_h(void 0,this)),r.has("environment")&&this.records.set(go,_h(void 0,this));const o=this.records.get(MT);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(LP.multi,bt,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Os(this),i=cr(void 0);try{return e()}finally{Os(t),cr(i)}}get(e,t=Oc,i=mt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Uc))return e[Uc](this);i=Td(i);const o=Os(this),s=cr(void 0);try{if(!(i&mt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function P7(n){return"function"==typeof n||"object"==typeof n&&n instanceof fe}(e)&&yd(e);l=c&&this.injectableDefInScope(c)?_h(PT(e),p0):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&mt.Self?m0():this.parent).get(e,t=i&mt.Optional&&t===Oc?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Rs]=a[Rs]||[]).unshift(Qt(e)),o)throw a;return function vC(n,e,t,i){const r=n[Rs];throw e[uo]&&r.unshift(e[uo]),n.message=function Lc(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Qt(e);if(Array.isArray(e))r=e.map(Qt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Qt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Rp,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Rs]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{cr(s),Os(o)}}resolveInjectorInitializers(){const e=Os(this),t=cr(void 0);try{const r=this.get(Wm.multi,bt,mt.Self);for(const o of r)o()}finally{Os(e),cr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Qt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){let t=uu(e=N(e))?e:N(e&&e.provide);const i=function A7(n){return AT(n)?_h(void 0,n.useValue):_h(HP(n),p0)}(e);if(uu(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=_h(void 0,p0,!0),r.factory=()=>Fc(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===p0&&(t.value=D7,t.value=t.factory()),"object"==typeof t.value&&t.value&&function k7(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=N(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function PT(n){const e=yd(n),t=null!==e?e.factory:Ia(n);if(null!==t)return t;if(n instanceof fe)throw new $(204,!1);if(n instanceof Function)return function S7(n){const e=n.length;if(e>0)throw ou(e,"?"),new $(204,!1);const t=function By(n){return n&&(n[Pc]||n[ba])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new $(204,!1)}function HP(n,e,t){let i;if(uu(n)){const r=N(n);return Ia(r)||PT(r)}if(AT(n))i=()=>N(n.useValue);else if(function jP(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Fc(n.deps||[]));else if(function UP(n){return!(!n||!n.useExisting)}(n))i=()=>B(N(n.useExisting));else{const r=N(n&&(n.useClass||n.provide));if(!function M7(n){return!!n.deps}(n))return Ia(r)||PT(r);i=()=>new r(...Fc(n.deps))}return i}function _h(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function RT(n,e){for(const t of n)Array.isArray(t)?RT(t,e):t&&Ae(t)?RT(t.\u0275providers,e):e(t)}const g0=new fe("AppId",{providedIn:"root",factory:()=>R7}),R7="ng",$P=new fe("Platform Initializer"),us=new fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zm=new fe("AnimationModuleType"),OT=new fe("CSP nonce",{providedIn:"root",factory:()=>function ph(){if(void 0!==bT)return bT;if(typeof document<"u")return document;throw new $(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zP=(n,e,t)=>null;function HT(n,e,t=!1){return zP(n,e,t)}class $7{}class WP{}class q7{resolveComponentFactory(e){throw function z7(n){const e=Error(`No component factory found for ${Qt(n)}.`);return e.ngComponent=n,e}(e)}}let bh=(()=>{class n{static#e=this.NULL=new q7}return n})();function G7(){return wh(Ti(),he())}function wh(n,e){return new xi(hr(n,e))}let xi=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=G7}return n})();function W7(n){return n instanceof xi?n.nativeElement:n}class Qm{}let Oa=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Z7(){const n=he(),t=Ki(Ti().index,n);return(dr(t)?t:n)[tt]}()}return n})(),K7=(()=>{class n{static#e=this.\u0275prov=ve({token:n,providedIn:"root",factory:()=>null})}return n})();class Fl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const KP=new Fl("16.2.12"),qT={};function JP(n,e=null,t=null,i){const r=eR(n,e,t,i);return r.resolveInjectorInitializers(),r}function eR(n,e=null,t=null,i,r=new Set){const o=[t||bt,T7(n)];return i=i||("object"==typeof n?void 0:Qt(n)),new gh(o,e||m0(),i||null,r)}let Di=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Oc;static#t=this.NULL=new xT;static create(t,i){if(Array.isArray(t))return JP({name:""},i,t,"");{const r=t.name??"";return JP({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=ve({token:n,providedIn:"any",factory:()=>B(FP)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function WT(n){return n.ngOriginalError}class Na{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&WT(e);for(;t&&WT(t);)t=WT(t);return t||null}}function KT(n){return e=>{setTimeout(n,void 0,e)}}const Kt=class n$ extends W{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=KT(o),r&&(r=KT(r)),s&&(s=KT(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof Tt&&e.add(a),a}};function nR(...n){}class Ze{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function i$(){const n="function"==typeof Wt.requestAnimationFrame;let e=Wt[n?"requestAnimationFrame":"setTimeout"],t=Wt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function s$(n){const e=()=>{!function o$(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,QT(n),n.isCheckStableRunning=!0,YT(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),QT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function l$(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return iR(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),rR(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return iR(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),rR(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,QT(n),YT(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new $(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,r$,nR,nR);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const r$={};function YT(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function QT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function iR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rR(n){n._nesting--,YT(n)}class a${constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const oR=new fe("",{providedIn:"root",factory:sR});function sR(){const n=Ie(Ze);let e=!0;return re(new pt(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new pt(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Qe()))}function Fa(n){return n instanceof Function?n():n}let XT=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ve({token:n,providedIn:"root",factory:()=>new n})}return n})();function Xm(n){for(;n;){n[et]|=64;const e=jm(n);if(Kp(n)&&!e)return n;n=e}return null}const dR=new fe("",{providedIn:"root",factory:()=>!1});let C0=null;function mR(n,e){return n[e]??yR()}function gR(n,e){const t=yR();t.producerNode?.length&&(n[e]=C0,t.lView=n,C0=_R())}const y$={...rv,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Xm(n.lView)},lView:null};function _R(){return Object.create(y$)}function yR(){return C0??=_R(),C0}const at={};function x(n){vR(St(),he(),Yi()+n,!1)}function vR(n,e,t,i){if(!i)if(3==(3&e[et])){const o=n.preOrderCheckHooks;null!==o&&Qd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Xd(e,o,0,t)}Sa(t)}function V(n,e=mt.Default){const t=he();return null===t?B(n,e):Lv(Ti(),t,N(n),e)}function JT(){throw new Error("invalid")}function T0(n,e,t,i,r,o,s,a,l,c,h){const m=e.blueprint.slice();return m[gn]=r,m[et]=140|i,(null!==c||n&&2048&n[et])&&(m[et]|=2048),cm(m),m[_n]=m[Ls]=n,m[Vn]=t,m[pl]=s||n&&n[pl],m[tt]=a||n&&n[tt],m[ko]=l||n&&n[ko]||null,m[ui]=o,m[Hc]=function xH(){return IH++}(),m[fo]=h,m[Fd]=c,m[Bn]=2==e.type?n[Bn]:m,m}function Th(n,e,t,i,r){let o=n.data[e];if(null===o)o=function e1(n,e,t,i,r){const o=Tv(),s=pm(),l=n.data[e]=function x$(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return js()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function xv(){return We.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Da(){const n=We.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return No(o,!0),o}function Jm(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function bR(n,e,t,i,r){const o=mR(e,$c),s=Yi(),a=2&i;try{Sa(-1),a&&e.length>wt&&vR(n,e,wt,!1),Ro(a?2:0,r);const c=a?o:null,h=Jp(c);try{null!==c&&(c.dirty=!1),t(i,r)}finally{qc(c,h)}}finally{a&&null===e[$c]&&gR(e,$c),Sa(s),Ro(a?3:1,r)}}function t1(n,e,t){if(Jy(e)){const i=Yr(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Yr(i)}}}function n1(n,e,t){Ev()&&(function R$(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;gl(t)&&function U$(n,e,t){const i=hr(e,n),r=wR(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=I0(n,T0(n,r,null,s,i,e,null,n[pl].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ih(t,e),mr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Ma(e,n,a,t);mr(c,e),null!==s&&j$(0,a-r,c,l,0,s),Rr(l)&&(Ki(t.index,e)[Vn]=Ma(e,n,a,t))}}(n,e,t,hr(t,e)),64==(64&t.flags)&&xR(n,e,t))}function r1(n,e,t=hr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function wR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=o1(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function o1(n,e,t,i,r,o,s,a,l,c,h){const m=wt+i,y=m+r,b=function b$(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:at);return t}(m,y),C="function"==typeof c?c():c;return b[xe]={type:n,blueprint:b,template:t,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:h}}let ER=n=>null;function CR(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?TR(t,e,r,o):i.hasOwnProperty(r)&&TR(t,e,i[r],o)}return t}function TR(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function _o(n,e,t,i,r,o,s,a){const l=hr(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[i])?(u1(n,t,h,i,r),gl(e)&&function A$(n,e){const t=Ki(e,n);16&t[et]||(t[et]|=64)}(t,e.index)):3&e.type&&(i=function S$(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function s1(n,e,t,i){if(Ev()){const r=null===i?null:{"":-1},o=function N$(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(kd(e,s.selectors,!1))if(i||(i=[]),Rr(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),a1(n,e,a.length)}else i.unshift(s),a1(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&IR(n,e,t,s,r,a),r&&function F$(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new $(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=hl(t.mergedAttrs,t.attrs)}function IR(n,e,t,i,r,o){for(let c=0;c<i.length;c++)tu(ih(t,e),n,i[c].type);!function V$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const h=i[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=Jm(n,e,i.length,null);for(let c=0;c<i.length;c++){const h=i[c];t.mergedAttrs=hl(t.mergedAttrs,h.hostAttrs),B$(n,t,e,l,h),L$(l,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const m=h.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function D$(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let h=e.directiveStart;h<r;h++){const m=o[h],y=t?t.get(m):null,C=y?y.outputs:null;l=CR(m.inputs,h,l,y?y.inputs:null),c=CR(m.outputs,h,c,C);const T=null===l||null===s||Lp(e)?null:H$(l,h,s);a.push(T)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function xR(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function Dv(){return We.lFrame.currentDirectiveIndex}();try{Sa(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];Yc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&O$(l,c)}}finally{Sa(-1),Yc(s)}}function O$(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function a1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function L$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Rr(e)&&(t[""]=n)}}function B$(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=Ia(r.type)),s=new Xc(o,Rr(r),V);n.blueprint[i]=s,t[i]=s,function k$(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function P$(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Jm(n,t,r.hostVars,at),r)}function zs(n,e,t,i,r,o){const s=hr(n,e);!function l1(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ne(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[tt],s,o,n.value,t,i,r)}function j$(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)DR(i,t,s[a++],s[a++],s[a++])}function DR(n,e,t,i,r){const o=Yr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Yr(o)}}function H$(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function SR(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function AR(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];_m(t[i]),s.contentQueries(2,e[o],o)}}}function I0(n,e){return n[wa]?n[Xy][Pr]=e:n[wa]=e,n[Xy]=e,e}function c1(n,e,t){_m(0);const i=Yr(null);try{e(n,t)}finally{Yr(i)}}function MR(n){return n[fl]||(n[fl]=[])}function kR(n){return n.cleanup||(n.cleanup=[])}function RR(n,e){const t=n[ko],i=t?t.get(Na,null):null;i&&i.handleError(e)}function u1(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];DR(n.data[s],e[s],i,a,r)}}function $$(n,e){const t=Ki(e,n),i=t[xe];!function z$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[gn];null!==r&&null===t[fo]&&(t[fo]=HT(r,t[ko])),d1(i,t,t[Vn])}function d1(n,e,t){vm(e);try{const i=n.viewQuery;null!==i&&c1(1,i,t);const r=n.template;null!==r&&bR(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&AR(n,e),n.staticViewQueries&&c1(2,n.viewQuery,t);const o=n.components;null!==o&&function q$(n,e){for(let t=0;t<e.length;t++)$$(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[et]&=-5,wm()}}let OR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function SC(n,e,t){const i=Object.create(rm);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Ud(i),run:()=>{if(i.dirty=!1,i.hasRun&&!sv(i))return;i.hasRun=!0;const s=Jp(i);try{i.cleanupFn(),i.cleanupFn=fv,i.fn(r)}finally{qc(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ve({token:n,providedIn:"root",factory:()=>new n})}return n})();function x0(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Mo(r,a):2==o&&(i=Mo(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function eg(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Zt(o)),Zi(o)&&NR(o,i);const s=t.type;if(8&s)eg(n,e,t.child,i);else if(32&s){const a=dT(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=vP(e,t);if(Array.isArray(a))i.push(...a);else{const l=jm(e[Bn]);eg(l[xe],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function NR(n,e){for(let t=Ci;t<n.length;t++){const i=n[t],r=i[xe].firstChild;null!==r&&eg(i[xe],i,r,e)}n[Po]!==n[gn]&&e.push(n[Po])}function D0(n,e,t,i=!0){const r=e[pl],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{FR(n,e,n.template,t)}catch(l){throw i&&RR(e,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function FR(n,e,t,i){const r=e[et];if(256!=(256&r)){e[pl].effectManager?.flush(),vm(e);try{cm(e),function Zd(n){return We.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&bR(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&Qd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Xd(e,c,0,null),Cm(e,0)}if(function Z$(n){for(let e=aP(n);null!==e;e=lP(e)){if(!e[Vd])continue;const t=e[Ta];for(let i=0;i<t.length;i++){OC(t[i])}}}(e),LR(e,2),null!==n.contentQueries&&AR(n,e),s){const c=n.contentCheckHooks;null!==c&&Qd(e,c)}else{const c=n.contentHooks;null!==c&&Xd(e,c,1),Cm(e,1)}!function v$(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=mR(e,Ca);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)Sa(~o);else{const s=o,a=t[++r],l=t[++r];BC(a,s),i.dirty=!1;const c=Jp(i);try{l(2,e[s])}finally{qc(i,c)}}}}finally{null===e[Ca]&&gR(e,Ca),Sa(-1)}}(n,e);const a=n.components;null!==a&&BR(e,a,0);const l=n.viewQuery;if(null!==l&&c1(2,l,i),s){const c=n.viewCheckHooks;null!==c&&Qd(e,c)}else{const c=n.viewHooks;null!==c&&Xd(e,c,2),Cm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[et]&=-73,vv(e)}finally{wm()}}}function LR(n,e){for(let t=aP(n);null!==t;t=lP(t))for(let i=Ci;i<t.length;i++)VR(t[i],e)}function K$(n,e,t){VR(Ki(e,n),t)}function VR(n,e){if(!function PC(n){return 128==(128&n[et])}(n))return;const t=n[xe],i=n[et];if(80&i&&0===e||1024&i||2===e)FR(t,n,t.template,n[Vn]);else if(n[jc]>0){LR(n,1);const r=t.components;null!==r&&BR(n,r,1)}}function BR(n,e,t){for(let i=0;i<e.length;i++)K$(n,e[i],t)}class tg{get rootNodes(){const e=this._lView,t=e[xe];return eg(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(e){this._lView[Vn]=e}get destroyed(){return 256==(256&this._lView[et])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[_n];if(Zi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(s0(e,i),ru(t,i))}this._attachedToViewContainer=!1}fT(this._lView[xe],this._lView)}onDestroy(e){!function bv(n,e){if(256==(256&n[et]))throw new $(911,!1);null===n[Vs]&&(n[Vs]=[]),n[Vs].push(e)}(this._lView,e)}markForCheck(){Xm(this._cdRefInjectingView||this._lView)}detach(){this._lView[et]&=-129}reattach(){this._lView[et]|=128}detectChanges(){D0(this._lView[xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function UH(n,e){$m(n,e,e[tt],2,null,null)}(this._lView[xe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e}}class Y$ extends tg{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;D0(e[xe],e,e[Vn],!1)}checkNoChanges(){}get context(){return null}}class UR extends bh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Et(e);return new ng(t,this.ngModule)}}function jR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class X${constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Td(i);const r=this.injector.get(e,qT,i);return r!==qT||t===qT?r:this.parentInjector.get(e,t,i)}}class ng extends WP{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=jR(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return jR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Rd(n){return n.map(Hp).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof go?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new X$(e,o):e,a=s.get(Qm,null);if(null===a)throw new $(407,!1);const m={rendererFactory:a,sanitizer:s.get(K7,null),effectManager:s.get(OR,null),afterRenderEventManager:s.get(XT,null)},y=a.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",C=i?function w$(n,e,t,i){const o=i.get(dR,!1)||t===zn.ShadowDom,s=n.selectRootElement(e,o);return function E$(n){ER(n)}(s),s}(y,i,this.componentDef.encapsulation,s):o0(y,b,function Q$(n){const e=n.toLowerCase();return"svg"===e?qd:"math"===e?"math":null}(b)),F=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let O=null;null!==C&&(O=HT(C,s,!0));const H=o1(0,null,null,1,0,null,null,null,null,null,null),ne=T0(null,H,null,F,null,null,m,y,s,null,O);let be,Le;vm(ne);try{const Ke=this.componentDef;let jt,Pi=null;Ke.findHostDirectiveDefs?(jt=[],Pi=new Map,Ke.findHostDirectiveDefs(Ke,jt,Pi),jt.push(Ke)):jt=[Ke];const gi=function ez(n,e){const t=n[xe],i=wt;return n[i]=e,Th(t,i,2,"#host",null)}(ne,C),Ip=function tz(n,e,t,i,r,o,s){const a=r[xe];!function nz(n,e,t,i){for(const r of n)e.mergedAttrs=hl(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(x0(e,e.mergedAttrs,!0),null!==t&&CP(i,t,e))}(i,n,e,s);let l=null;null!==e&&(l=HT(e,r[ko]));const c=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const m=T0(r,wR(t),null,h,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&a1(a,n,i.length-1),I0(r,m),r[n.index]=m}(gi,C,Ke,jt,ne,m,y);Le=El(H,wt),C&&function rz(n,e,t,i){if(i)Dd(n,t,["ng-version",KP.full]);else{const{attrs:r,classes:o}=function $p(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!kr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Dd(n,t,r),o&&o.length>0&&EP(n,t,o.join(" "))}}(y,Ke,C,i),void 0!==t&&function oz(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Le,this.ngContentSelectors,t),be=function iz(n,e,t,i,r,o){const s=Ti(),a=r[xe],l=hr(s,r);IR(a,r,s,t,null,i);for(let h=0;h<t.length;h++)mr(Ma(r,a,s.directiveStart+h,s),r);xR(a,r,s),l&&mr(l,r);const c=Ma(r,a,s.directiveStart+s.componentOffset,s);if(n[Vn]=r[Vn]=c,null!==o)for(const h of o)h(c,e);return t1(a,s,n),c}(Ip,Ke,jt,Pi,ne,[sz]),d1(H,ne,null)}finally{wm()}return new J$(this.componentType,be,wh(Le,ne),ne,Le)}}class J$ extends $7{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Y$(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;u1(o[xe],o,r,e,t),this.previousInputValues.set(e,t),Xm(Ki(this._tNode.index,o))}}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function sz(){const n=Ti();Yd(he()[xe],n)}function Lt(n){let e=function HR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Rr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=S0(n.inputs),s.inputTransforms=S0(n.inputTransforms),s.declaredInputs=S0(n.declaredInputs),s.outputs=S0(n.outputs);const a=r.hostBindings;a&&uz(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&lz(n,l),c&&cz(n,c),Ei(n.inputs,r.inputs),Ei(n.declaredInputs,r.declaredInputs),Ei(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Ei(s.inputTransforms,r.inputTransforms)),Rr(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Lt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function az(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=hl(r.hostAttrs,t=hl(t,r.hostAttrs))}}(i)}function S0(n){return n===Gi?{}:n===bt?[]:n}function lz(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function cz(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function uz(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function GR(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function A0(n){return!!h1(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function h1(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function qs(n,e,t){return n[e]=t}function ig(n,e){return n[e]}function gr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function du(n,e,t,i){const r=gr(n,e,t);return gr(n,e+1,i)||r}function to(n,e,t,i){const r=he();return gr(r,Cl(),e)&&(St(),zs(xn(),r,n,e,t,i)),to}function xh(n,e,t,i){return gr(n,Cl(),t)?e+Ne(t)+i:at}function ge(n,e,t,i,r,o,s,a){const l=he(),c=St(),h=n+wt,m=c.firstCreatePass?function Nz(n,e,t,i,r,o,s,a,l){const c=e.consts,h=Th(e,n,4,s||null,Oo(c,a));s1(e,t,h,Oo(c,l)),Yd(e,h);const m=h.tView=o1(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,h),m.queries=e.queries.embeddedTView(h)),h}(h,c,l,e,t,i,r,o,s):c.data[h];No(m,!1);const y=s2(c,l,m,n);Kd()&&l0(c,l,y,m),mr(y,l),I0(l,l[h]=SR(y,l,y,m)),Zp(m)&&n1(c,l,m),null!=s&&r1(l,m,a)}let s2=function a2(n,e,t,i){return cs(!0),e[tt].createComment("")};function _r(n){return Qr(function VC(){return We.lFrame.contextLView}(),wt+n)}function S(n,e,t){const i=he();return gr(i,Cl(),e)&&_o(St(),xn(),i,n,e,i[tt],t,!1),S}function y1(n,e,t,i,r){const s=r?"class":"style";u1(n,t,e.inputs[s],s,i)}function g(n,e,t,i){const r=he(),o=St(),s=wt+n,a=r[tt],l=o.firstCreatePass?function Bz(n,e,t,i,r,o){const s=e.consts,l=Th(e,n,2,i,Oo(s,r));return s1(e,t,l,Oo(s,o)),null!==l.attrs&&x0(l,l.attrs,!1),null!==l.mergedAttrs&&x0(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,e,t,i):o.data[s],c=l2(o,r,l,a,e,n);r[s]=c;const h=Zp(l);return No(l,!0),CP(a,c,l),32!=(32&l.flags)&&Kd()&&l0(o,r,c,l),0===function NC(){return We.lFrame.elementDepthCount}()&&mr(c,r),function Wc(){We.lFrame.elementDepthCount++}(),h&&(n1(o,r,l),t1(o,l,r)),null!==i&&r1(r,l),g}function _(){let n=Ti();pm()?Zc():(n=n.parent,No(n,!1));const e=n;(function dm(n){return We.skipHydrationRootTNode===n})(e)&&function Cv(){We.skipHydrationRootTNode=null}(),function FC(){We.lFrame.elementDepthCount--}();const t=St();return t.firstCreatePass&&(Yd(t,n),Jy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Lk(n){return 0!=(8&n.flags)}(e)&&y1(t,e,he(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Tm(n){return 0!=(16&n.flags)}(e)&&y1(t,e,he(),e.stylesWithoutHost,!1),_}function K(n,e,t,i){return g(n,e,t,i),_(),K}let l2=(n,e,t,i,r,o)=>(cs(!0),o0(i,r,function Pv(){return We.lFrame.currentNamespace}()));function Oh(n,e,t){const i=he(),r=St(),o=n+wt,s=r.firstCreatePass?function Hz(n,e,t,i,r){const o=e.consts,s=Oo(o,i),a=Th(e,n,8,"ng-container",s);return null!==s&&x0(a,s,!0),s1(e,t,a,Oo(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];No(s,!0);const a=u2(r,i,s,n);return i[o]=a,Kd()&&l0(r,i,a,s),mr(a,i),Zp(s)&&(n1(r,i,s),t1(r,s,i)),null!=t&&r1(i,s),Oh}function Nh(){let n=Ti();const e=St();return pm()?Zc():(n=n.parent,No(n,!1)),e.firstCreatePass&&(Yd(e,n),Jy(n)&&e.queries.elementEnd(n)),Nh}let u2=(n,e,t,i)=>(cs(!0),hT(e[tt],""));function Ct(){return he()}function ag(n){return!!n&&"function"==typeof n.then}function d2(n){return!!n&&"function"==typeof n.subscribe}function ee(n,e,t,i){const r=he(),o=St(),s=Ti();return function f2(n,e,t,i,r,o,s){const a=Zp(i),c=n.firstCreatePass&&kR(n),h=e[Vn],m=MR(e);let y=!0;if(3&i.type||s){const T=hr(i,e),D=s?s(T):T,F=m.length,O=s?ne=>s(Zt(ne[i.index])):i.index;let H=null;if(!s&&a&&(H=function qz(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[fl],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==H)(H.__ngLastListenerFn__||H).__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,y=!1;else{o=m2(i,e,h,o,!1);const ne=t.listen(D,r,o);m.push(o,ne),c&&c.push(r,O,F,F+1)}}else o=m2(i,e,h,o,!1);const b=i.outputs;let C;if(y&&null!==b&&(C=b[r])){const T=C.length;if(T)for(let D=0;D<T;D+=2){const be=e[C[D]][C[D+1]].subscribe(o),Le=m.length;m.push(o,be),c&&c.push(r,i.index,Le,-(Le+1))}}}(o,r,r[tt],s,n,e,i),ee}function p2(n,e,t,i){try{return Ro(6,e,t),!1!==t(i)}catch(r){return RR(n,r),!1}finally{Ro(7,e,t)}}function m2(n,e,t,i,r){return function o(s){if(s===Function)return i;Xm(n.componentOffset>-1?Ki(n.index,e):e);let l=p2(e,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=p2(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function L(n=1){return function UC(n){return(We.lFrame.contextLView=function jC(n,e){for(;n>0;)e=e[Ls],n--;return e}(n,We.lFrame.contextLView))[Vn]}(n)}function Gz(n,e){let t=null;const i=function Pd(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?kd(n,o,!0):Up(i,o))return r}else t=r}return t}function lg(n,e,t,i,r){const o=he(),s=xh(o,e,t,i);return s!==at&&_o(St(),xn(),o,n,s,o[tt],r,!1),lg}function O0(n,e){return n<<17|e<<2}function Ll(n){return n>>17&32767}function v1(n){return 2|n}function hu(n){return(131068&n)>>2}function b1(n,e){return-131069&n|e<<2}function w1(n){return 1|n}function D2(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Ll(o):hu(o),l=!1;for(;0!==a&&(!1===l||s);){const h=n[a+1];Xz(n[a],e)&&(l=!0,n[a+1]=i?w1(h):v1(h)),a=i?Ll(h):hu(h)}l&&(n[t+1]=i?v1(o):w1(o))}function Xz(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Pa(n,e)>=0}const Si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S2(n){return n.substring(Si.key,Si.keyEnd)}function A2(n,e){const t=Si.textEnd;return t===e?-1:(e=Si.keyEnd=function nq(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Si.key=e,t),Fh(n,e,t))}function Fh(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Lh(n,e){return function ds(n,e,t,i){const r=he(),o=St(),s=Lo(2);o.firstUpdatePass&&F2(o,n,s,i),e!==at&&gr(r,s,e)&&V2(o,o.data[Yi()],r,r[tt],n,r[s+1]=function pq(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Qt(Nl(n)))),n}(e,t),i,s)}(n,e,null,!0),Lh}function Ws(n,e){for(let t=function eq(n){return function k2(n){Si.key=0,Si.keyEnd=0,Si.value=0,Si.valueEnd=0,Si.textEnd=n.length}(n),A2(n,Fh(n,0,Si.textEnd))}(e);t>=0;t=A2(e,t))Nr(n,S2(e),!0)}function N2(n,e){return e>=n.expandoStartIndex}function F2(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Yi()],s=N2(n,t);U2(o,i)&&null===e&&!s&&(e=!1),e=function aq(n,e,t,i){const r=function gm(n){const e=We.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=cg(t=E1(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=E1(r,n,e,t,i),null===o){let l=function lq(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==hu(i))return n[Ll(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=E1(null,n,e,l[1],i),l=cg(l,e.attrs,i),function cq(n,e,t,i){n[Ll(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function uq(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=cg(i,n[o].hostAttrs,t);return cg(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function Yz(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ll(s),l=hu(s);n[i]=t;let h,c=!1;if(Array.isArray(t)?(h=t[1],(null===h||Pa(t,h)>0)&&(c=!0)):h=t,r)if(0!==l){const y=Ll(n[a+1]);n[i+1]=O0(y,a),0!==y&&(n[y+1]=b1(n[y+1],i)),n[a+1]=function Zz(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=O0(a,0),0!==a&&(n[a+1]=b1(n[a+1],i)),a=i;else n[i+1]=O0(l,0),0===a?a=i:n[l+1]=b1(n[l+1],i),l=i;c&&(n[i+1]=v1(n[i+1])),D2(n,h,i,!0),D2(n,h,i,!1),function Qz(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Pa(o,e)>=0&&(t[i+1]=w1(t[i+1]))}(e,h,n,i,o),s=O0(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function E1(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=cg(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function cg(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Nr(n,s,!!t||e[++o]))}return void 0===n?null:n}function V2(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],h=function Kz(n){return 1==(1&n)}(c)?B2(l,e,t,r,hu(c),s):void 0;N0(h)||(N0(o)||function Wz(n){return 2==(2&n)}(c)&&(o=B2(l,null,t,r,a,s)),function YH(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Ol.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ol.Important),n.setStyle(t,i,r,o))}}(i,s,wl(Yi(),t),r,o))}function B2(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),h=c?l[1]:l,m=null===h;let y=t[r+1];y===at&&(y=m?bt:void 0);let b=m?Bo(y,i):h===i?y:void 0;if(c&&!N0(b)&&(b=Bo(l,i)),N0(b)&&(a=b,s))return a;const C=n[r+1];r=s?Ll(C):hu(C)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Bo(l,i))}return a}function N0(n){return void 0!==n}function U2(n,e){return 0!=(n.flags&(e?8:16))}function w(n,e=""){const t=he(),i=St(),r=n+wt,o=i.firstCreatePass?Th(i,r,1,e,null):i.data[r],s=j2(i,t,o,e,n);t[r]=s,Kd()&&l0(i,t,s,o),No(o,!1)}let j2=(n,e,t,i,r)=>(cs(!0),function r0(n,e){return n.createText(e)}(e[tt],i));function rn(n){return He("",n,""),rn}function He(n,e,t){const i=he(),r=xh(i,n,e,t);return r!==at&&function La(n,e,t){const i=wl(e,n);!function uP(n,e,t){n.setValue(e,t)}(n[tt],i,t)}(i,Yi(),r),He}function ug(n,e,t){!function hs(n,e,t,i){const r=St(),o=Lo(2);r.firstUpdatePass&&F2(r,null,o,i);const s=he();if(t!==at&&gr(s,o,t)){const a=r.data[Yi()];if(U2(a,i)&&!N2(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Mo(l,t||"")),y1(r,a,s,t,i)}else!function fq(n,e,t,i,r,o,s,a){r===at&&(r=bt);let l=0,c=0,h=0<r.length?r[0]:null,m=0<o.length?o[0]:null;for(;null!==h||null!==m;){const y=l<r.length?r[l+1]:void 0,b=c<o.length?o[c+1]:void 0;let T,C=null;h===m?(l+=2,c+=2,y!==b&&(C=m,T=b)):null===m||null!==h&&h<m?(l+=2,C=h):(c+=2,C=m,T=b),null!==C&&V2(n,e,t,i,C,T,s,a),h=l<r.length?r[l]:null,m=c<o.length?o[c]:null}}(r,a,s,s[tt],s[o+1],s[o+1]=function dq(n,e,t){if(null==t||""===t)return bt;const i=[],r=Nl(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(Nr,Ws,xh(he(),n,e,t),!0)}function C1(n,e,t){const i=he();return gr(i,Cl(),e)&&_o(St(),xn(),i,n,e,i[tt],t,!0),C1}const fu=void 0;var Nq=["en",[["a","p"],["AM","PM"],fu],[["AM","PM"],fu,fu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fu,"{1} 'at' {0}",fu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Oq(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Vh={};function Fr(n){const e=function Fq(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=aO(e);if(t)return t;const i=e.split("-")[0];if(t=aO(i),t)return t;if("en"===i)return Nq;throw new $(701,!1)}function aO(n){return n in Vh||(Vh[n]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[n]),Vh[n]}var yn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(yn||{});const Bh="en-US";let lO=Bh;function x1(n,e,t,i,r){if(n=N(n),Array.isArray(n))for(let o=0;o<n.length;o++)x1(n[o],e,t,i,r);else{const o=St(),s=he(),a=Ti();let l=uu(n)?n:N(n.provide);const c=HP(n),h=1048575&a.providerIndexes,m=a.directiveStart,y=a.providerIndexes>>20;if(uu(n)||!n.multi){const b=new Xc(c,r,V),C=S1(l,e,r?h:h+y,m);-1===C?(tu(ih(a,s),o,l),D1(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(b),s.push(b)):(t[C]=b,s[C]=b)}else{const b=S1(l,e,h+y,m),C=S1(l,e,h,h+y),D=C>=0&&t[C];if(r&&!D||!r&&!(b>=0&&t[b])){tu(ih(a,s),o,l);const F=function OG(n,e,t,i,r){const o=new Xc(n,t,V);return o.multi=[],o.index=e,o.componentProviders=0,RO(o,r,i&&!t),o}(r?RG:PG,t.length,r,i,c);!r&&D&&(t[C].providerFactory=F),D1(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else D1(o,n,b>-1?b:C,RO(t[r?C:b],c,!r&&i));!r&&i&&D&&t[C].componentProviders++}}}function D1(n,e,t,i){const r=uu(e),o=function x7(n){return!!n.useClass}(e);if(r||o){const l=(o?N(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[i,l]):c[h+1].push(i,l)}else c.push(t,l)}}}function RO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function S1(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function PG(n,e,t,i){return A1(this.multi,[])}function RG(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ma(t,t[xe],this.providerFactory.index,i);o=a.slice(0,s),A1(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],A1(r,o);return o}function A1(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function On(n,e=[]){return t=>{t.providersResolver=(i,r)=>function kG(n,e,t){const i=St();if(i.firstCreatePass){const r=Rr(n);x1(t,i.data,i.blueprint,r,!0),x1(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class pu{}class OO{}class M1 extends pu{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UR(this);const r=Wi(e);this._bootstrapComponents=Fa(r.bootstrap),this._r3Injector=eR(e,t,[{provide:pu,useValue:this},{provide:bh,useValue:this.componentFactoryResolver},...i],Qt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class k1 extends OO{constructor(e){super(),this.moduleType=e}create(e){return new M1(this.moduleType,e,[])}}class NO extends pu{constructor(e){super(),this.componentFactoryResolver=new UR(this),this.instance=null;const t=new gh([...e.providers,{provide:pu,useValue:this},{provide:bh,useValue:this.componentFactoryResolver}],e.parent||m0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function P1(n,e,t=null){return new NO({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let LG=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=VP(0,t.type),r=i.length>0?P1([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ve({token:n,providedIn:"environment",factory:()=>new n(B(go))})}return n})();function FO(n){n.getStandaloneInjector=e=>e.get(LG).getOrCreateStandaloneInjector(n)}function Jn(n,e,t){const i=Ii()+n,r=he();return r[i]===at?qs(r,i,t?e.call(t):e()):ig(r,i)}function gg(n,e,t,i){return function zO(n,e,t,i,r,o){const s=e+t;return gr(n,s,r)?qs(n,s+1,o?i.call(o,r):i(r)):_g(n,s+1)}(he(),Ii(),n,e,t,i)}function jo(n,e,t,i,r){return qO(he(),Ii(),n,e,t,i,r)}function $O(n,e,t,i,r,o,s,a){const l=Ii()+n,c=he(),h=function Uo(n,e,t,i,r,o){const s=du(n,e,t,i);return du(n,e+2,r,o)||s}(c,l,t,i,r,o);return gr(c,l+4,s)||h?qs(c,l+5,a?e.call(a,t,i,r,o,s):e(t,i,r,o,s)):ig(c,l+5)}function _g(n,e){const t=n[e];return t===at?void 0:t}function qO(n,e,t,i,r,o,s){const a=e+t;return du(n,a,r,o)?qs(n,a+2,s?i.call(s,r,o):i(r,o)):_g(n,a+2)}function YO(n,e,t,i){const r=n+wt,o=he(),s=Qr(o,r);return function yg(n,e){return n[xe].data[e].pure}(o,r)?qO(o,Ii(),e,s.transform,t,i,s):s.transform(t,i)}function iW(){return this._results[Symbol.iterator]()}class O1{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Kt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=O1.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=iW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Xr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Om(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function oW(n,e,t,i=!0){const r=e[xe];if(function HH(n,e,t,i){const r=Ci+i,o=t.length;i>0&&(t[r-1][Pr]=e),i<o-Ci?(e[Pr]=t[r],kl(t,Ci+i,e)):(t.push(e),e[Pr]=null),e[_n]=t;const s=e[Ea];null!==s&&t!==s&&function $H(n,e){const t=n[Ta];e[Bn]!==e[_n][_n][Bn]&&(n[Vd]=!0),null===t?n[Ta]=[e]:t.push(e)}(s,e);const a=e[Kr];null!==a&&a.insertView(n),e[et]|=128}(r,e,n,t),i){const o=_T(t,n),s=e[tt],a=a0(s,n[Po]);null!==a&&function BH(n,e,t,i,r,o){i[gn]=r,i[ui]=e,$m(n,i,t,1,r,o)}(r,n[ui],s,e,a,o)}}let Zs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=lW}return n})();const sW=Zs,aW=class extends sW{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function rW(n,e,t,i){const r=e.tView,a=T0(n,r,t,4096&n[et]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Ea]=n[e.index];const c=n[Kr];return null!==c&&(a[Kr]=c.createEmbeddedView(r)),d1(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new tg(r)}};function lW(){return U0(Ti(),he())}function U0(n,e){return 4&n.type?new aW(e,n,wh(n,e)):null}let Ho=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=pW}return n})();function pW(){return iN(Ti(),he())}const mW=Ho,tN=class extends mW{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return wh(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const e=oh(this._hostTNode,this._hostLView);if(th(e)){const t=eu(e,this._hostLView),i=Tl(e);return new Qi(t[xe].data[i+8],t)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=nN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ci}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function iu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const T=t||{};a=T.index,i=T.injector,r=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}const l=s?e:new ng(Et(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const D=(s?c:this.parentInjector).get(go,null);D&&(o=D)}Et(l.componentType??{});const b=l.create(c,r,null,o);return this.insertImpl(b.hostView,a,false),b}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function RC(n){return Zi(n[_n])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=r[_n],h=new tN(c,c[ui],c[_n]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return oW(a,r,s,!i),e.attachToViewContainerRef(),kl(N1(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=nN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=s0(this._lContainer,t);i&&(ru(N1(this._lContainer),t),fT(i[xe],i))}detach(e){const t=this._adjustIndex(e,-1),i=s0(this._lContainer,t);return i&&null!=ru(N1(this._lContainer),t)?new tg(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function nN(n){return n[8]}function N1(n){return n[8]||(n[8]=[])}function iN(n,e){let t;const i=e[n.index];return Zi(i)?t=i:(t=SR(i,e,null,n),e[n.index]=t,I0(e,t)),rN(t,e,n,i),new tN(t,n,e)}let rN=function oN(n,e,t,i){if(n[Po])return;let r;r=8&t.type?Zt(i):function gW(n,e){const t=n[tt],i=t.createComment(""),r=hr(e,n);return cu(t,a0(t,r),i,function WH(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Po]=r};class F1{constructor(e){this.queryList=e,this.matches=null}clone(){return new F1(this.queryList)}setDirty(){this.queryList.setDirty()}}class L1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new L1(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==dN(e,t).matches&&this.queries[t].setDirty()}}class sN{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class V1{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new V1(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class B1{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new B1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,vW(t,o)),this.matchTNodeWithReadOption(e,t,ah(t,e,o,!1,!1))}else i===Zs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ah(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===xi||r===Ho||r===Zs&&4&t.type)this.addMatch(t.index,-2);else{const o=ah(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function vW(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function wW(n,e,t,i){return-1===t?function bW(n,e){return 11&n.type?wh(n,e):4&n.type?U0(n,e):null}(e,n):-2===t?function EW(n,e,t){return t===xi?wh(e,n):t===Zs?U0(e,n):t===Ho?iN(e,n):void 0}(n,e,i):Ma(n,n[xe],t,e)}function aN(n,e,t,i){const r=e[Kr].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:wW(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function U1(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=aN(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],h=e[-l];for(let m=Ci;m<h.length;m++){const y=h[m];y[Ea]===y[_n]&&U1(y[xe],y,c,i)}if(null!==h[Ta]){const m=h[Ta];for(let y=0;y<m.length;y++){const b=m[y];U1(b[xe],b,c,i)}}}}}return i}function mu(n){const e=he(),t=St(),i=Sv();_m(i+1);const r=dN(t,i);if(n.dirty&&function kC(n){return 4==(4&n[et])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?U1(t,e,i,[]):aN(t,e,r,i);n.reset(o,W7),n.notifyOnChanges()}return!0}return!1}function Uh(n,e,t){const i=St();i.firstCreatePass&&(uN(i,new sN(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),cN(i,he(),e)}function gu(){return function CW(n,e){return n[Kr].queries[e].queryList}(he(),Sv())}function cN(n,e,t){const i=new O1(4==(4&t));(function I$(n,e,t,i){const r=MR(e);r.push(t),n.firstCreatePass&&kR(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Kr]&&(e[Kr]=new L1),e[Kr].queries.push(new F1(i))}function uN(n,e,t){null===n.queries&&(n.queries=new V1),n.queries.track(new B1(e,t))}function dN(n,e){return n.queries.getByIndex(e)}function yr(n,e){return U0(n,e)}const G1=new fe("Application Initializer");let W1=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Ie(G1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(ag(o))t.push(o);else if(d2(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Ks=new fe("LocaleId",{providedIn:"root",factory:()=>Ie(Ks,mt.Optional|mt.SkipSelf)||function qW(){return typeof $localize<"u"&&$localize.locale||Bh}()});let $0=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new U(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ZW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let AN=(()=>{class n{compileModuleSync(t){return new k1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Fa(Wi(t).declarations).reduce((s,a)=>{const l=Et(a);return l&&s.push(new ng(l)),s},[]);return new ZW(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const RN=new fe(""),q0=new fe("");let X1,Y1=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,X1||(function gZ(n){X1=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ze),B(Q1),B(q0))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})(),Q1=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return X1?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Vl=null;const ON=new fe("AllowMultipleToken"),J1=new fe("PlatformDestroyListeners"),eI=new fe("appBootstrapListener");class FN{constructor(e,t){this.name=e,this.token=t}}function VN(n,e,t=[]){const i=`Platform: ${e}`,r=new fe(i);return(o=[])=>{let s=tI();if(!s||s.injector.get(ON,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function vZ(n){if(Vl&&!Vl.get(ON,!1))throw new $(400,!1);(function NN(){!function TC(n){Hd=n}(()=>{throw new $(600,!1)})})(),Vl=n;const e=n.get(UN);(function LN(n){n.get($P,null)?.forEach(t=>t())})(n)}(function BN(n=[],e){return Di.create({name:e,providers:[{provide:MT,useValue:"platform"},{provide:J1,useValue:new Set([()=>Vl=null])},...n]})}(a,i))}return function wZ(n){const e=tI();if(!e)throw new $(401,!1);return e}()}}function tI(){return Vl?.get(UN)??null}let UN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function EZ(n="zone.js",e){return"noop"===n?new a$:"zone.js"===n?new Ze(e):n}(i?.ngZone,function jN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function FG(n,e,t){return new M1(n,e,t)}(t.moduleType,this.injector,function GN(n){return[{provide:Ze,useFactory:n},{provide:Wm,multi:!0,useFactory:()=>{const e=Ie(TZ,{optional:!0});return()=>e.initialize()}},{provide:qN,useFactory:CZ},{provide:oR,useFactory:sR}]}(()=>r)),s=o.injector.get(Na,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{G0(this._modules,o),a.unsubscribe()})}),function HN(n,e,t){try{const i=t();return ag(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(W1);return a.runInitializers(),a.donePromise.then(()=>(function cO(n){Zr(n,"Expected localeId to be defined"),"string"==typeof n&&(lO=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ks,Bh)||Bh),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=$N({},i);return function _Z(n,e,t){const i=new k1(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Bl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new $(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(J1,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(B(Di))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function $N(n,e){return Array.isArray(e)?e.reduce($N,n):{...n,...e}}let Bl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ie(qN),this.zoneIsStable=Ie(oR),this.componentTypes=[],this.components=[],this.isStable=Ie($0).hasPendingTasks.pipe(Pt(t=>t?ie(!1):this.zoneIsStable),pn(),Qe()),this._injector=Ie(go)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof WP;if(!this._injector.get(W1).done)throw!r&&function Fs(n){const e=Et(n)||Qn(n)||ci(n);return null!==e&&e.standalone}(t),new $(405,!1);let s;s=r?t:this._injector.get(bh).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function yZ(n){return n.isBoundToModule}(s)?void 0:this._injector.get(pu),c=s.create(Di.NULL,[],i||s.selector,a),h=c.location.nativeElement,m=c.injector.get(RN,null);return m?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),G0(this.components,c),m?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new $(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;G0(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(eI,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>G0(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function G0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const qN=new fe("",{providedIn:"root",factory:()=>Ie(Na).handleError.bind(void 0)});function CZ(){const n=Ie(Ze),e=Ie(Na);return t=>n.runOutsideAngular(()=>e.handleError(t))}let TZ=(()=>{class n{constructor(){this.zone=Ie(Ze),this.applicationRef=Ie(Bl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let W0=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=xZ}return n})();function xZ(n){return function DZ(n,e,t){if(gl(n)&&!t){const i=Ki(n.index,e);return new tg(i,i)}return 47&n.type?new tg(e[Bn],e):null}(Ti(),he(),16==(16&n))}class YN{constructor(){}supports(e){return A0(e)}create(e){return new RZ(e)}}const PZ=(n,e)=>e;class RZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||PZ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<XN(i,r,o)?t:i,a=XN(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,h=l-r;if(c!=h){for(let y=0;y<c;y++){const b=y<o.length?o[y]:o[y]=0,C=b+y;h<=C&&C<c&&(o[y]=b+1)}o[s.previousIndex]=h-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!A0(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function _z(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new OZ(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new QN),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class OZ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class QN{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new NZ,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XN(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class JN{constructor(){}supports(e){return e instanceof Map||h1(e)}create(){return new FZ}}class FZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||h1(e)))throw new $(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new LZ(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class LZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eF(){return new Y0([new YN])}let Y0=(()=>{class n{static#e=this.\u0275prov=ve({token:n,providedIn:"root",factory:eF});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||eF()),deps:[[n,new Rl,new Pl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new $(901,!1)}}return n})();function tF(){return new wg([new JN])}let wg=(()=>{class n{static#e=this.\u0275prov=ve({token:n,providedIn:"root",factory:tF});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||tF()),deps:[[n,new Rl,new Pl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new $(901,!1)}}return n})();const UZ=VN(null,"core",[]);let jZ=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(B(Bl))};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({})}return n})();function zh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let aI=null;function Ul(){return aI}class tK{}const Rt=new fe("DocumentToken");let lI=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:function(){return Ie(iK)},providedIn:"platform"})}return n})();const nK=new fe("Location Initialized");let iK=(()=>{class n extends lI{constructor(){super(),this._doc=Ie(Rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ul().getBaseHref(this._doc)}onPopState(t){const i=Ul().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ul().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function cI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function uF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Va(n){return n&&"?"!==n[0]?"?"+n:n}let yu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:function(){return Ie(hF)},providedIn:"root"})}return n})();const dF=new fe("appBaseHref");let hF=(()=>{class n extends yu{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ie(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Va(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Va(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Va(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(lI),B(dF,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rK=(()=>{class n extends yu{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=cI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Va(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Va(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(lI),B(dF,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})(),Eg=(()=>{class n{constructor(t){this._subject=new Kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function aK(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(uF(fF(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Va(i))}normalize(t){return n.stripTrailingSlash(function sK(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,fF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Va(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Va(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Va;static#t=this.joinWithSlash=cI;static#n=this.stripTrailingSlash=uF;static#i=this.\u0275fac=function(i){return new(i||n)(B(yu))};static#r=this.\u0275prov=ve({token:n,factory:function(){return function oK(){return new Eg(B(yu))}()},providedIn:"root"})}return n})();function fF(n){return n.replace(/\/index.html$/,"")}var Vr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Vr||{}),cn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(cn||{}),yo=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(yo||{}),ei=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(ei||{});function J0(n,e){return zo(Fr(n)[yn.DateFormat],e)}function eb(n,e){return zo(Fr(n)[yn.TimeFormat],e)}function tb(n,e){return zo(Fr(n)[yn.DateTimeFormat],e)}function $o(n,e){const t=Fr(n),i=t[yn.NumberSymbols][e];if(typeof i>"u"){if(e===ei.CurrencyDecimal)return t[yn.NumberSymbols][ei.Decimal];if(e===ei.CurrencyGroup)return t[yn.NumberSymbols][ei.Group]}return i}function mF(n){if(!n[yn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[yn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zo(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function dI(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const wK=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cg={},EK=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ba=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Ba||{}),$t=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}($t||{}),zt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(zt||{});function CK(n,e,t,i){let r=function PK(n){if(yF(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return nb(r,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(wK))return function RK(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,l,c),e}(i)}const e=new Date(n);if(!yF(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ua(t,e)||e;let a,s=[];for(;e;){if(a=EK.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const h=s.pop();if(!h)break;e=h}}let l=r.getTimezoneOffset();i&&(l=_F(i,l),r=function kK(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function MK(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(_F(e,r)-r))}(r,i,!0));let c="";return s.forEach(h=>{const m=function AK(n){if(fI[n])return fI[n];let e;switch(n){case"G":case"GG":case"GGG":e=vn(zt.Eras,cn.Abbreviated);break;case"GGGG":e=vn(zt.Eras,cn.Wide);break;case"GGGGG":e=vn(zt.Eras,cn.Narrow);break;case"y":e=hi($t.FullYear,1,0,!1,!0);break;case"yy":e=hi($t.FullYear,2,0,!0,!0);break;case"yyy":e=hi($t.FullYear,3,0,!1,!0);break;case"yyyy":e=hi($t.FullYear,4,0,!1,!0);break;case"Y":e=sb(1);break;case"YY":e=sb(2,!0);break;case"YYY":e=sb(3);break;case"YYYY":e=sb(4);break;case"M":case"L":e=hi($t.Month,1,1);break;case"MM":case"LL":e=hi($t.Month,2,1);break;case"MMM":e=vn(zt.Months,cn.Abbreviated);break;case"MMMM":e=vn(zt.Months,cn.Wide);break;case"MMMMM":e=vn(zt.Months,cn.Narrow);break;case"LLL":e=vn(zt.Months,cn.Abbreviated,Vr.Standalone);break;case"LLLL":e=vn(zt.Months,cn.Wide,Vr.Standalone);break;case"LLLLL":e=vn(zt.Months,cn.Narrow,Vr.Standalone);break;case"w":e=hI(1);break;case"ww":e=hI(2);break;case"W":e=hI(1,!0);break;case"d":e=hi($t.Date,1);break;case"dd":e=hi($t.Date,2);break;case"c":case"cc":e=hi($t.Day,1);break;case"ccc":e=vn(zt.Days,cn.Abbreviated,Vr.Standalone);break;case"cccc":e=vn(zt.Days,cn.Wide,Vr.Standalone);break;case"ccccc":e=vn(zt.Days,cn.Narrow,Vr.Standalone);break;case"cccccc":e=vn(zt.Days,cn.Short,Vr.Standalone);break;case"E":case"EE":case"EEE":e=vn(zt.Days,cn.Abbreviated);break;case"EEEE":e=vn(zt.Days,cn.Wide);break;case"EEEEE":e=vn(zt.Days,cn.Narrow);break;case"EEEEEE":e=vn(zt.Days,cn.Short);break;case"a":case"aa":case"aaa":e=vn(zt.DayPeriods,cn.Abbreviated);break;case"aaaa":e=vn(zt.DayPeriods,cn.Wide);break;case"aaaaa":e=vn(zt.DayPeriods,cn.Narrow);break;case"b":case"bb":case"bbb":e=vn(zt.DayPeriods,cn.Abbreviated,Vr.Standalone,!0);break;case"bbbb":e=vn(zt.DayPeriods,cn.Wide,Vr.Standalone,!0);break;case"bbbbb":e=vn(zt.DayPeriods,cn.Narrow,Vr.Standalone,!0);break;case"B":case"BB":case"BBB":e=vn(zt.DayPeriods,cn.Abbreviated,Vr.Format,!0);break;case"BBBB":e=vn(zt.DayPeriods,cn.Wide,Vr.Format,!0);break;case"BBBBB":e=vn(zt.DayPeriods,cn.Narrow,Vr.Format,!0);break;case"h":e=hi($t.Hours,1,-12);break;case"hh":e=hi($t.Hours,2,-12);break;case"H":e=hi($t.Hours,1);break;case"HH":e=hi($t.Hours,2);break;case"m":e=hi($t.Minutes,1);break;case"mm":e=hi($t.Minutes,2);break;case"s":e=hi($t.Seconds,1);break;case"ss":e=hi($t.Seconds,2);break;case"S":e=hi($t.FractionalSeconds,1);break;case"SS":e=hi($t.FractionalSeconds,2);break;case"SSS":e=hi($t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=rb(Ba.Short);break;case"ZZZZZ":e=rb(Ba.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=rb(Ba.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=rb(Ba.Long);break;default:return null}return fI[n]=e,e}(h);c+=m?m(r,t,l):"''"===h?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function nb(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Ua(n,e){const t=function cK(n){return Fr(n)[yn.LocaleId]}(n);if(Cg[t]=Cg[t]||{},Cg[t][e])return Cg[t][e];let i="";switch(e){case"shortDate":i=J0(n,yo.Short);break;case"mediumDate":i=J0(n,yo.Medium);break;case"longDate":i=J0(n,yo.Long);break;case"fullDate":i=J0(n,yo.Full);break;case"shortTime":i=eb(n,yo.Short);break;case"mediumTime":i=eb(n,yo.Medium);break;case"longTime":i=eb(n,yo.Long);break;case"fullTime":i=eb(n,yo.Full);break;case"short":const r=Ua(n,"shortTime"),o=Ua(n,"shortDate");i=ib(tb(n,yo.Short),[r,o]);break;case"medium":const s=Ua(n,"mediumTime"),a=Ua(n,"mediumDate");i=ib(tb(n,yo.Medium),[s,a]);break;case"long":const l=Ua(n,"longTime"),c=Ua(n,"longDate");i=ib(tb(n,yo.Long),[l,c]);break;case"full":const h=Ua(n,"fullTime"),m=Ua(n,"fullDate");i=ib(tb(n,yo.Full),[h,m])}return i&&(Cg[t][e]=i),i}function ib(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function fs(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function hi(n,e,t=0,i=!1,r=!1){return function(o,s){let a=function IK(n,e){switch(n){case $t.FullYear:return e.getFullYear();case $t.Month:return e.getMonth();case $t.Date:return e.getDate();case $t.Hours:return e.getHours();case $t.Minutes:return e.getMinutes();case $t.Seconds:return e.getSeconds();case $t.FractionalSeconds:return e.getMilliseconds();case $t.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===$t.Hours)0===a&&-12===t&&(a=12);else if(n===$t.FractionalSeconds)return function TK(n,e){return fs(n,3).substring(0,e)}(a,e);const l=$o(s,ei.MinusSign);return fs(a,e,l,i,r)}}function vn(n,e,t=Vr.Format,i=!1){return function(r,o){return function xK(n,e,t,i,r,o){switch(t){case zt.Months:return function hK(n,e,t){const i=Fr(n),o=zo([i[yn.MonthsFormat],i[yn.MonthsStandalone]],e);return zo(o,t)}(e,r,i)[n.getMonth()];case zt.Days:return function dK(n,e,t){const i=Fr(n),o=zo([i[yn.DaysFormat],i[yn.DaysStandalone]],e);return zo(o,t)}(e,r,i)[n.getDay()];case zt.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function gK(n){const e=Fr(n);return mF(e),(e[yn.ExtraData][2]||[]).map(i=>"string"==typeof i?dI(i):[dI(i[0]),dI(i[1])])}(e),h=function _K(n,e,t){const i=Fr(n);mF(i);const o=zo([i[yn.ExtraData][0],i[yn.ExtraData][1]],e)||[];return zo(o,t)||[]}(e,r,i),m=c.findIndex(y=>{if(Array.isArray(y)){const[b,C]=y,T=s>=b.hours&&a>=b.minutes,D=s<C.hours||s===C.hours&&a<C.minutes;if(b.hours<C.hours){if(T&&D)return!0}else if(T||D)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(-1!==m)return h[m]}return function uK(n,e,t){const i=Fr(n),o=zo([i[yn.DayPeriodsFormat],i[yn.DayPeriodsStandalone]],e);return zo(o,t)}(e,r,i)[s<12?0:1];case zt.Eras:return function fK(n,e){return zo(Fr(n)[yn.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function rb(n){return function(e,t,i){const r=-1*i,o=$o(t,ei.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ba.Short:return(r>=0?"+":"")+fs(s,2,o)+fs(Math.abs(r%60),2,o);case Ba.ShortGMT:return"GMT"+(r>=0?"+":"")+fs(s,1,o);case Ba.Long:return"GMT"+(r>=0?"+":"")+fs(s,2,o)+":"+fs(Math.abs(r%60),2,o);case Ba.Extended:return 0===i?"Z":(r>=0?"+":"")+fs(s,2,o)+":"+fs(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const DK=0,ob=4;function gF(n){return nb(n.getFullYear(),n.getMonth(),n.getDate()+(ob-n.getDay()))}function hI(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=gF(t),s=function SK(n){const e=nb(n,DK,1).getDay();return nb(n,0,1+(e<=ob?ob:ob+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return fs(r,n,$o(i,ei.MinusSign))}}function sb(n,e=!1){return function(t,i){return fs(gF(t).getFullYear(),n,$o(i,ei.MinusSign),e)}}const fI={};function _F(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function yF(n){return n instanceof Date&&!isNaN(n.valueOf())}function EF(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const vI=/\s+/,CF=[];let Ig=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=CF,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(vI):CF}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(vI):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(vI).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(V(Y0),V(wg),V(xi),V(Oa))};static#t=this.\u0275dir=ze({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class GK{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ps=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new GK(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),IF(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{IF(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ho),V(Zs),V(Y0))};static#t=this.\u0275dir=ze({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function IF(n,e){n.context.$implicit=e.item}let Xi=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new WK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ho),V(Zs))};static#t=this.\u0275dir=ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class WK{constructor(){this.$implicit=null,this.ngIf=null}}function xF(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Qt(e)}'.`)}let Gh=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),s=-1===r.indexOf("-")?void 0:Ol.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(V(xi),V(wg),V(Oa))};static#t=this.\u0275dir=ze({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})();const aY=new fe("DATE_PIPE_DEFAULT_TIMEZONE"),lY=new fe("DATE_PIPE_DEFAULT_OPTIONS");let Wh=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return CK(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function ms(n,e){return new $(2100,!1)}()}}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ks,16),V(aY,24),V(lY,24))};static#t=this.\u0275pipe=li({name:"date",type:n,pure:!0,standalone:!0})}return n})(),TI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({})}return n})();const AF="browser";function lb(n){return"server"===n}let EY=(()=>{class n{static#e=this.\u0275prov=ve({token:n,providedIn:"root",factory:()=>new CY(B(Rt),window)})}return n})();class CY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function TY(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class MF{}class WY extends tK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class DI extends WY{static makeCurrent(){!function eK(n){aI||(aI=n)}(new DI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ZY(){return Dg=Dg||document.querySelector("base"),Dg?Dg.getAttribute("href"):null}();return null==t?null:function KY(n){db=db||document.createElement("a"),db.setAttribute("href",n);const e=db.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Dg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return EF(document.cookie,e)}}let db,Dg=null,QY=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();const SI=new fe("EventManagerPlugins");let NF=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(B(SI),B(Ze))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();class FF{constructor(e){this._doc=e}}const AI="ng-app-id";let LF=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lb(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${AI}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(AI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(AI,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rt),B(g0),B(OT,8),B(us))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();const MI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kI=/%COMP%/g,tQ=new fe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function BF(n,e){return e.map(t=>t.replace(kI,n))}let PI=(()=>{class n{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=lb(a),this.defaultRenderer=new RI(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zn.ShadowDom&&(i={...i,encapsulation:zn.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof jF?r.applyToHost(t):r instanceof OI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case zn.Emulated:o=new jF(l,c,i,this.appId,h,s,a,m);break;case zn.ShadowDom:return new oQ(l,c,t,i,s,a,this.nonce,m);default:o=new OI(l,c,i,h,s,a,m)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(B(NF),B(LF),B(g0),B(tQ),B(Rt),B(us),B(Ze),B(OT))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();class RI{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(MI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(UF(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(UF(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new $(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=MI[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=MI[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ol.DashCase|Ol.Important)?e.style.setProperty(t,i,r&Ol.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ol.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Ul().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function UF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oQ extends RI{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=BF(r.id,r.styles);for(const h of c){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class OI extends RI{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?BF(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jF extends OI{constructor(e,t,i,r,o,s,a,l){const c=r+"-"+i.id;super(e,t,i,o,s,a,l,c),this.contentAttr=function nQ(n){return"_ngcontent-%COMP%".replace(kI,n)}(c),this.hostAttr=function iQ(n){return"_nghost-%COMP%".replace(kI,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let sQ=(()=>{class n extends FF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rt))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();const HF=["alt","control","meta","shift"],aQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cQ=(()=>{class n extends FF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ul().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),HF.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=aQ[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),HF.forEach(s=>{s!==r&&(0,lQ[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rt))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();const zF=[{provide:us,useValue:AF},{provide:$P,useValue:function uQ(){DI.makeCurrent()},multi:!0},{provide:Rt,useFactory:function hQ(){return function t7(n){bT=n}(document),document},deps:[]}],fQ=VN(UZ,"browser",zF),pQ=new fe(""),qF=[{provide:q0,useClass:class YY{addToWindow(e){Wt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new $(5103,!1);return o},Wt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Wt.getAllAngularRootElements=()=>e.getAllRootElements(),Wt.frameworkStabilizers||(Wt.frameworkStabilizers=[]),Wt.frameworkStabilizers.push(i=>{const r=Wt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Ul().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:RN,useClass:Y1,deps:[Ze,Q1,q0]},{provide:Y1,useClass:Y1,deps:[Ze,Q1,q0]}],GF=[{provide:MT,useValue:"root"},{provide:Na,useFactory:function dQ(){return new Na},deps:[]},{provide:SI,useClass:sQ,multi:!0,deps:[Rt,Ze,us]},{provide:SI,useClass:cQ,multi:!0,deps:[Rt]},PI,LF,NF,{provide:Qm,useExisting:PI},{provide:MF,useClass:QY,deps:[]},[]];let WF=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g0,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(B(pQ,12))};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({providers:[...GF,...qF],imports:[TI,jZ]})}return n})(),ZF=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rt))};static#t=this.\u0275prov=ve({token:n,factory:function(i){let r=null;return r=i?new i:function gQ(){return new ZF(B(Rt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:EQ}=Array,{getPrototypeOf:CQ,prototype:TQ,keys:IQ}=Object;function XF(n){if(1===n.length){const e=n[0];if(EQ(e))return{args:e,keys:null};if(function xQ(n){return n&&"object"==typeof n&&CQ(n)===TQ}(e)){const t=IQ(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:DQ}=Array;function FI(n){return Re(e=>function SQ(n,e){return DQ(e)?n(...e):n(e)}(n,e))}function JF(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function hb(...n){const e=Ms(n),t=ol(n),{args:i,keys:r}=XF(n);if(0===i.length)return R([],e);const o=new pt(function AQ(n,e,t=Yn){return i=>{eL(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)eL(e,()=>{const c=R(n[l],e);let h=!1;c.subscribe(Te(i,m=>{o[l]=m,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>JF(r,s):Yn));return t?o.pipe(FI(t)):o}function eL(n,e,t){n?Oi(t,n,e):e()}const fb=Ge(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pb(...n){return function MQ(){return co(1)}()(R(n,Ms(n)))}function mb(n){return new pt(e=>{Ln(n()).subscribe(e)})}function Sg(n,e){const t=I(n)?n:()=>n,i=r=>r.error(t());return new pt(e?r=>e.schedule(i,0,r):i)}function LI(){return J((n,e)=>{let t=null;n._refCount++;const i=Te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class tL extends pt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,de(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;const t=this.getSubject();e.add(this.source.subscribe(Te(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return LI()(this)}}function qo(n){return n<=0?()=>si:J((e,t)=>{let i=0;e.subscribe(Te(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function vu(...n){const e=Ms(n);return J((t,i)=>{(e?pb(n,t,e):pb(n,t)).subscribe(i)})}function Ai(n,e){return J((t,i)=>{let r=0;t.subscribe(Te(i,o=>n.call(e,o,r++)&&i.next(o)))})}function gb(n){return J((e,t)=>{let i=!1;e.subscribe(Te(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function nL(n=kQ){return J((e,t)=>{let i=!1;e.subscribe(Te(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function kQ(){return new fb}function Ys(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ai((r,o)=>n(r,o,i)):Yn,qo(1),t?gb(e):nL(()=>new fb))}function Zh(n,e){return I(e)?ln(n,e,1):ln(n,1)}function Ji(n,e,t){const i=I(n)||e||t?{next:n,error:e,complete:t}:n;return i?J((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Te(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Yn}function bn(n){return J((e,t)=>{let o,i=null,r=!1;i=e.subscribe(Te(t,void 0,void 0,s=>{o=Ln(n(s,bn(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function _b(n,e){return J(function PQ(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(Te(s,h=>{const m=c++;l=a?n(l,h,m):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}function VI(n){return n<=0?()=>si:J((e,t)=>{let i=[];e.subscribe(Te(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ag(n){return J((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function yb(n){return J((e,t)=>{Ln(n).subscribe(Te(t,()=>t.complete(),Fe)),!t.closed&&e.subscribe(t)})}const ht="primary",Mg=Symbol("RouteTitle");class NQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kh(n){return new NQ(n)}function FQ(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Qs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!iL(n[r],e[r]))return!1;return!0}function iL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function rL(n){return n.length>0?n[n.length-1]:null}function Hl(n){return function wQ(n){return!!n&&(n instanceof pt||I(n.lift)&&I(n.subscribe))}(n)?n:ag(n)?R(Promise.resolve(n)):ie(n)}const VQ={exact:function aL(n,e,t){if(!bu(n.segments,e.segments)||!vb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!aL(n.children[i],e.children[i],t))return!1;return!0},subset:lL},oL={exact:function BQ(n,e){return Qs(n,e)},subset:function UQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>iL(n[t],e[t]))},ignored:()=>!0};function sL(n,e,t){return VQ[t.paths](n.root,e.root,t.matrixParams)&&oL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function lL(n,e,t){return cL(n,e,e.segments,t)}function cL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!bu(r,t)||e.hasChildren()||!vb(r,t,i))}if(n.segments.length===t.length){if(!bu(n.segments,t)||!vb(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!lL(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(bu(n.segments,r)&&vb(n.segments,r,i)&&n.children[ht])&&cL(n.children[ht],e,o,i)}}function vb(n,e,t){return e.every((i,r)=>oL[t](n[r].parameters,i.parameters))}class Yh{constructor(e=new Xt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kh(this.queryParams)),this._queryParamMap}toString(){return $Q.serialize(this)}}class Xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bb(this)}}class kg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kh(this.parameters)),this._parameterMap}toString(){return hL(this)}}function bu(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Pg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:function(){return new BI},providedIn:"root"})}return n})();class BI{parse(e){const t=new eX(e);return new Yh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Rg(e.root,!0)}`,i=function GQ(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${wb(t)}=${wb(r)}`).join("&"):`${wb(t)}=${wb(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function zQ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const $Q=new BI;function bb(n){return n.segments.map(e=>hL(e)).join("/")}function Rg(n,e){if(!n.hasChildren())return bb(n);if(e){const t=n.children[ht]?Rg(n.children[ht],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ht&&i.push(`${r}:${Rg(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function HQ(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ht&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ht&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===ht?[Rg(n.children[ht],!1)]:[`${r}:${Rg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ht]?`${bb(n)}/${t[0]}`:`${bb(n)}/(${t.join("//")})`}}function uL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wb(n){return uL(n).replace(/%3B/gi,";")}function UI(n){return uL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Eb(n){return decodeURIComponent(n)}function dL(n){return Eb(n.replace(/\+/g,"%20"))}function hL(n){return`${UI(n.path)}${function qQ(n){return Object.keys(n).map(e=>`;${UI(e)}=${UI(n[e])}`).join("")}(n.parameters)}`}const WQ=/^[^\/()?;#]+/;function jI(n){const e=n.match(WQ);return e?e[0]:""}const ZQ=/^[^\/()?;=#]+/,YQ=/^[^=?&#]+/,XQ=/^[^&#]+/;class eX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ht]=new Xt(e,t)),i}parseSegment(){const e=jI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new kg(Eb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function KQ(n){const e=n.match(ZQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=jI(this.remaining);r&&(i=r,this.capture(i))}e[Eb(t)]=Eb(i)}parseQueryParam(e){const t=function QQ(n){const e=n.match(YQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function JQ(n){const e=n.match(XQ);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=dL(t),o=dL(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=jI(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new $(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ht);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ht]:new Xt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}}function fL(n){return n.segments.length>0?new Xt([],{[ht]:n}):n}function pL(n){const e={};for(const i of Object.keys(n.children)){const o=pL(n.children[i]);if(i===ht&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function tX(n){if(1===n.numberOfChildren&&n.children[ht]){const e=n.children[ht];return new Xt(n.segments.concat(e.segments),e.children)}return n}(new Xt(n.segments,e))}function wu(n){return n instanceof Yh}function mL(n){let e;const r=fL(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new Xt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function gL(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return HI(r,r,r,t,i);const o=function iX(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yL(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new yL(t,e,i)}(e);if(o.toRoot())return HI(r,r,new Xt([],{}),t,i);const s=function rX(n,e,t){if(n.isAbsolute)return new Tb(e,!0,0);if(!t)return new Tb(e,!1,NaN);if(null===t.parent)return new Tb(t,!0,0);const i=Cb(n.commands[0])?0:1;return function oX(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $(4005,!1);r=i.segments.length}return new Tb(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Ng(s.segmentGroup,s.index,o.commands):vL(s.segmentGroup,s.index,o.commands);return HI(r,s.segmentGroup,a,t,i)}function Cb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Og(n){return"object"==typeof n&&null!=n&&n.outlets}function HI(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),s=n===e?t:_L(n,e,t);const a=fL(pL(s));return new Yh(a,o,r)}function _L(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:_L(o,e,t)}),new Xt(n.segments,i)}class yL{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Cb(i[0]))throw new $(4003,!1);const r=i.find(Og);if(r&&r!==rL(i))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tb{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function vL(n,e,t){if(n||(n=new Xt([],{})),0===n.segments.length&&n.hasChildren())return Ng(n,e,t);const i=function aX(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Og(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!wL(l,c,s))return o;i+=2}else{if(!wL(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Xt(n.segments.slice(0,i.pathIndex),{});return o.children[ht]=new Xt(n.segments.slice(i.pathIndex),n.children),Ng(o,0,r)}return i.match&&0===r.length?new Xt(n.segments,{}):i.match&&!n.hasChildren()?$I(n,e,t):i.match?Ng(n,0,r):$I(n,e,t)}function Ng(n,e,t){if(0===t.length)return new Xt(n.segments,{});{const i=function sX(n){return Og(n[0])?n[0].outlets:{[ht]:n}}(t),r={};if(Object.keys(i).some(o=>o!==ht)&&n.children[ht]&&1===n.numberOfChildren&&0===n.children[ht].segments.length){const o=Ng(n.children[ht],e,t);return new Xt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=vL(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Xt(n.segments,r)}}function $I(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Og(o)){const l=lX(o.outlets);return new Xt(i,l)}if(0===r&&Cb(t[0])){i.push(new kg(n.segments[e].path,bL(t[0]))),r++;continue}const s=Og(o)?o.outlets[ht]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Cb(a)?(i.push(new kg(s,bL(a))),r+=2):(i.push(new kg(s,{})),r++)}return new Xt(i,{})}function lX(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=$I(new Xt([],{}),0,i))}),e}function bL(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function wL(n,e,t){return n==t.path&&Qs(e,t.parameters)}const Fg="imperative";class Xs{constructor(e,t){this.id=e,this.url=t}}class Ib extends Xs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $l extends Xs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lg extends Xs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qh extends Xs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class xb extends Xs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EL extends Xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cX extends Xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uX extends Xs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dX extends Xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hX extends Xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _X{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CL{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zI{}class qI{constructor(e){this.url=e}}class vX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vg,this.attachRef=null}}let Vg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new vX,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class TL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=GI(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=GI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=WI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return WI(e,this._root).map(t=>t.value)}}function GI(n,e){if(n===e.value)return e;for(const t of e.children){const i=GI(n,t);if(i)return i}return null}function WI(n,e){if(n===e.value)return[e];for(const t of e.children){const i=WI(n,t);if(i.length)return i.unshift(e),i}return[]}class ja{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class IL extends TL{constructor(e,t){super(e),this.snapshot=t,ZI(this,e)}toString(){return this.snapshot.toString()}}function xL(n,e){const t=function bX(n,e){const s=new Db([],{},{},"",{},ht,e,null,{});return new SL("",new ja(s,[]))}(0,e),i=new U([new kg("",{})]),r=new U({}),o=new U({}),s=new U({}),a=new U(""),l=new gs(i,r,s,a,o,ht,e,t.root);return l.snapshot=t.root,new IL(new ja(l,[]),t)}class gs{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Re(c=>c[Mg]))??ie(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Re(e=>Kh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Re(e=>Kh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DL(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function wX(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Db{get title(){return this.data?.[Mg]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SL extends TL{constructor(e,t){super(t),this.url=e,ZI(this,t)}toString(){return AL(this._root)}}function ZI(n,e){e.value._routerState=n,e.children.forEach(t=>ZI(n,t))}function AL(n){const e=n.children.length>0?` { ${n.children.map(AL).join(", ")} } `:"";return`${n.value}${e}`}function KI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Qs(e.params,t.params)||n.paramsSubject.next(t.params),function LQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Qs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function YI(n,e){const t=Qs(n.params,e.params)&&function jQ(n,e){return bu(n,e)&&n.every((t,i)=>Qs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||YI(n.parent,e.parent))}let QI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.parentContexts=Ie(Vg),this.location=Ie(Ho),this.changeDetector=Ie(W0),this.environmentInjector=Ie(go),this.inputBinder=Ie(Sb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new EX(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Or]})}return n})();class EX{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===gs?this.route:e===Vg?this.childContexts:this.parent.get(e,t)}}const Sb=new fe("");let ML=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=hb([i.queryParams,i.params,i.data]).pipe(Pt(([o,s,a],l)=>(a={...o,...s,...a},0===l?ie(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function JZ(n){const e=Et(n);if(!e)return null;const t=new ng(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();function Bg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function TX(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Bg(n,i,r);return Bg(n,i)})}(n,e,t);return new ja(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Bg(n,a)),s}}const i=function IX(n){return new gs(new U(n.url),new U(n.params),new U(n.queryParams),new U(n.fragment),new U(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Bg(n,o));return new ja(i,r)}}const XI="ngNavigationCancelingError";function kL(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=wu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=PL(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function PL(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[XI]=!0,i.cancellationCode=e,t&&(i.url=t),i}function RL(n){return n&&n[XI]}let OL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ut({type:n,selectors:[["ng-component"]],standalone:!0,features:[FO],decls:1,vars:0,template:function(i,r){1&i&&K(0,"router-outlet")},dependencies:[QI],encapsulation:2})}return n})();function JI(n){const e=n.children&&n.children.map(JI),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ht&&(t.component=OL),t}function _s(n){return n.outlet||ht}function Ug(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class RX{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),KI(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Xh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Xh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Xh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Xh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new yX(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gX(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(KI(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),KI(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Ug(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class NL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ab{constructor(e,t){this.component=e,this.route=t}}function OX(n,e,t){const i=n._root;return jg(i,e?e._root:null,t,[i.value])}function Jh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function gC(n){return null!==yd(n)}(n)?e.get(n):n:i}function jg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Xh(e);return n.children.forEach(s=>{(function FX(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function LX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bu(n.url,e.url)||!Qs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!YI(n,e)||!Qs(n.queryParams,e.queryParams);default:return!YI(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new NL(i)):(o.data=s.data,o._resolvedData=s._resolvedData),jg(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ab(a.outlet.component,s))}else s&&Hg(e,a,r),r.canActivateChecks.push(new NL(i)),jg(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Hg(a,t.getContext(s),r)),r}function Hg(n,e,t){const i=Xh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Hg(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Ab(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function $g(n){return"function"==typeof n}function FL(n){return n instanceof fb||"EmptyError"===n?.name}const Mb=Symbol("INITIAL_VALUE");function ef(){return Pt(n=>hb(n.map(e=>e.pipe(qo(1),vu(Mb)))).pipe(Re(e=>{for(const t of e)if(!0!==t){if(t===Mb)return Mb;if(!1===t||t instanceof Yh)return t}return!0}),Ai(e=>e!==Mb),qo(1)))}function LL(n){return function Do(...n){return So(n)}(Ji(e=>{if(wu(e))throw kL(0,e)}),Re(e=>!0===e))}class kb{constructor(e){this.segmentGroup=e||null}}class VL{constructor(e){this.urlTree=e}}function tf(n){return Sg(new kb(n))}function BL(n){return Sg(new VL(n))}class iJ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new $(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ie(i);if(r.numberOfChildren>1||!r.children[ht])return Sg(new $(4e3,!1));r=r.children[ht]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Yh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Xt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new $(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const ex={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rJ(n,e,t,i,r){const o=tx(n,e,t);return o.matched?(i=function DX(n,e){return n.providers&&!n._injector&&(n._injector=P1(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function eJ(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ie(r.map(s=>{const a=Jh(s,n);return Hl(function $X(n){return n&&$g(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(ef(),LL()):ie(!0)}(i,e,t).pipe(Re(s=>!0===s?o:{...ex}))):ie(o)}function tx(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ex}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||FQ)(t,n,e);if(!r)return{...ex};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function UL(n,e,t,i){return t.length>0&&function aJ(n,e,t){return t.some(i=>Pb(n,e,i)&&_s(i)!==ht)}(n,t,i)?{segmentGroup:new Xt(e,sJ(i,new Xt(t,n.children))),slicedSegments:[]}:0===t.length&&function lJ(n,e,t){return t.some(i=>Pb(n,e,i))}(n,t,i)?{segmentGroup:new Xt(n.segments,oJ(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Xt(n.segments,n.children),slicedSegments:t}}function oJ(n,e,t,i,r){const o={};for(const s of i)if(Pb(n,t,s)&&!r[_s(s)]){const a=new Xt([],{});o[_s(s)]=a}return{...r,...o}}function sJ(n,e){const t={};t[ht]=e;for(const i of n)if(""===i.path&&_s(i)!==ht){const r=new Xt([],{});t[_s(i)]=r}return t}function Pb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class hJ{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new iJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,!1)}recognize(){const e=UL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ht).pipe(bn(t=>{if(t instanceof VL)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof kb?this.noMatchError(t):t}),Re(t=>{const i=new Db([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ht,this.rootComponentType,null,{}),r=new ja(i,t),o=new SL("",r),s=function nX(n,e,t=null,i=null){return gL(mL(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ht).pipe(bn(i=>{throw i instanceof kb?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=DL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return R(r).pipe(Zh(o=>{const s=i.children[o],a=function kX(n,e){const t=n.filter(i=>_s(i)===e);return t.push(...n.filter(i=>_s(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),_b((o,s)=>(o.push(...s),o)),gb(null),function RQ(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ai((r,o)=>n(r,o,i)):Yn,VI(1),t?gb(e):nL(()=>new fb))}(),ln(o=>{if(null===o)return tf(i);const s=jL(o);return function fJ(n){n.sort((e,t)=>e.value.outlet===ht?-1:t.value.outlet===ht?1:e.value.outlet.localeCompare(t.value.outlet))}(s),ie(s)}))}processSegment(e,t,i,r,o,s){return R(t).pipe(Zh(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(bn(l=>{if(l instanceof kb)return ie(null);throw l}))),Ys(a=>!!a),bn(a=>{if(FL(a))return function uJ(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?ie([]):tf(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function cJ(n,e,t,i){return!!(_s(n)===i||i!==ht&&Pb(e,t,n))&&("**"===n.path||tx(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):tf(r):tf(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?BL(o):this.applyRedirects.lineralizeSegments(i,o).pipe(ln(s=>{const a=new Xt(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:h}=tx(t,r,o);if(!a)return tf(t);const m=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?BL(m):this.applyRedirects.lineralizeSegments(r,m).pipe(ln(y=>this.processSegment(e,i,t,y.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?rL(r).parameters:{};a=ie({snapshot:new Db(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HL(i),_s(i),i.component??i._loadedComponent??null,i,$L(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=rJ(t,i,r,e).pipe(Re(({matched:l,consumedSegments:c,remainingSegments:h,parameters:m})=>l?{snapshot:new Db(c,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HL(i),_s(i),i.component??i._loadedComponent??null,i,$L(i)),consumedSegments:c,remainingSegments:h}:null));return a.pipe(Pt(l=>null===l?tf(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Pt(({routes:c})=>{const h=i._loadedInjector??e,{snapshot:m,consumedSegments:y,remainingSegments:b}=l,{segmentGroup:C,slicedSegments:T}=UL(t,y,b,c);if(0===T.length&&C.hasChildren())return this.processChildren(h,c,C).pipe(Re(F=>null===F?null:[new ja(m,F)]));if(0===c.length&&0===T.length)return ie([new ja(m,[])]);const D=_s(i)===o;return this.processSegment(h,c,C,T,D?ht:o,!0).pipe(Re(F=>[new ja(m,F)]))}))))}getChildConfig(e,t,i){return t.children?ie({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ie({routes:t._loadedRoutes,injector:t._loadedInjector}):function JX(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ie(!0):ie(r.map(s=>{const a=Jh(s,n);return Hl(function BX(n){return n&&$g(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(ef(),LL())}(e,t,i).pipe(ln(r=>r?this.configLoader.loadChildren(e,t).pipe(Ji(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function nJ(n){return Sg(PL(!1,3))}())):ie({routes:[],injector:e})}}function pJ(n){const e=n.value.routeConfig;return e&&""===e.path}function jL(n){const e=[],t=new Set;for(const i of n){if(!pJ(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=jL(i.children);e.push(new ja(i.value,r))}return e.filter(i=>!t.has(i))}function HL(n){return n.data||{}}function $L(n){return n.resolve||{}}function zL(n){return"string"==typeof n.title||null===n.title}function nx(n){return Pt(e=>{const t=n(e);return t?R(t).pipe(Re(()=>e)):ie(e)})}const nf=new fe("ROUTES");let ix=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ie(AN)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ie(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Hl(t.loadComponent()).pipe(Re(qL),Ji(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ag(()=>{this.componentLoaders.delete(t)})),r=new tL(i,()=>new W).pipe(LI());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ie({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function wJ(n,e,t,i){return Hl(n.loadChildren()).pipe(Re(qL),ln(r=>r instanceof OO||Array.isArray(r)?ie(r):R(e.compileModuleAsync(r))),Re(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(nf,[],{optional:!0,self:!0}).flat()),{routes:s.map(JI),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Ag(()=>{this.childrenLoaders.delete(i)})),s=new tL(o,()=>new W).pipe(LI());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qL(n){return function EJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Rb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new W,this.transitionAbortSubject=new W,this.configLoader=Ie(ix),this.environmentInjector=Ie(go),this.urlSerializer=Ie(Pg),this.rootContexts=Ie(Vg),this.inputBindingEnabled=null!==Ie(Sb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new pX(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new fX(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new U({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fg,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ai(o=>0!==o.id),Re(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Pt(o=>{this.currentTransition=o;let s=!1,a=!1;return ie(o).pipe(Ji(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pt(l=>{const c=l.currentBrowserUrl.toString(),h=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!h&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const y="";return this.events.next(new Qh(l.id,this.urlSerializer.serialize(l.rawUrl),y,0)),l.resolve(null),si}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ie(l).pipe(Pt(y=>{const b=this.transitions?.getValue();return this.events.next(new Ib(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?si:Promise.resolve(y)}),function mJ(n,e,t,i,r,o){return ln(s=>function dJ(n,e,t,i,r,o,s="emptyOnly"){return new hJ(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Re(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ji(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const b=new EL(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:y,extractedUrl:b,source:C,restoredState:T,extras:D}=l,F=new Ib(y,this.urlSerializer.serialize(b),C,T);this.events.next(F);const O=xL(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:O,urlAfterRedirects:b,extras:{...D,skipLocationChange:!1,replaceUrl:!1}},ie(o)}{const y="";return this.events.next(new Qh(l.id,this.urlSerializer.serialize(l.extractedUrl),y,1)),l.resolve(null),si}}),Ji(l=>{const c=new cX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Re(l=>(this.currentTransition=o={...l,guards:OX(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function qX(n,e){return ln(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?ie({...t,guardsResult:!0}):function GX(n,e,t,i){return R(n).pipe(ln(r=>function XX(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ie(o.map(a=>{const l=Ug(e)??r,c=Jh(a,l);return Hl(function HX(n){return n&&$g(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(Ys())})).pipe(ef()):ie(!0)}(r.component,r.route,t,e,i)),Ys(r=>!0!==r,!0))}(s,i,r,n).pipe(ln(a=>a&&function VX(n){return"boolean"==typeof n}(a)?function WX(n,e,t,i){return R(e).pipe(Zh(r=>pb(function KX(n,e){return null!==n&&e&&e(new mX(n)),ie(!0)}(r.route.parent,i),function ZX(n,e){return null!==n&&e&&e(new _X(n)),ie(!0)}(r.route,i),function QX(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function NX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>mb(()=>ie(s.guards.map(l=>{const c=Ug(s.node)??t,h=Jh(l,c);return Hl(function jX(n){return n&&$g(n.canActivateChild)}(h)?h.canActivateChild(i,n):c.runInContext(()=>h(i,n))).pipe(Ys())})).pipe(ef())));return ie(o).pipe(ef())}(n,r.path,t),function YX(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ie(!0);const r=i.map(o=>mb(()=>{const s=Ug(e)??t,a=Jh(o,s);return Hl(function UX(n){return n&&$g(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ys())}));return ie(r).pipe(ef())}(n,r.route,t))),Ys(r=>!0!==r,!0))}(i,o,n,e):ie(a)),Re(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Ji(l=>{if(o.guardsResult=l.guardsResult,wu(l.guardsResult))throw kL(0,l.guardsResult);const c=new uX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ai(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),nx(l=>{if(l.guards.canActivateChecks.length)return ie(l).pipe(Ji(c=>{const h=new dX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Pt(c=>{let h=!1;return ie(c).pipe(function gJ(n,e){return ln(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ie(t);let o=0;return R(r).pipe(Zh(s=>function _J(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!zL(r)&&(o[Mg]=r.title),function yJ(n,e,t,i){const r=function vJ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ie({});const o={};return R(r).pipe(ln(s=>function bJ(n,e,t,i){const r=Ug(e)??i,o=Jh(n,r);return Hl(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Ys(),Ji(a=>{o[s]=a}))),VI(1),function OQ(n){return Re(()=>n)}(o),bn(s=>FL(s)?si:Sg(s)))}(o,n,e,i).pipe(Re(s=>(n._resolvedData=s,n.data=DL(n,t).resolve,r&&zL(r)&&(n.data[Mg]=r.title),null)))}(s.route,i,n,e)),Ji(()=>o++),VI(1),ln(s=>o===r.length?ie(t):si))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ji({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",2)}}))}),Ji(c=>{const h=new hX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),nx(l=>{const c=h=>{const m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ji(y=>{h.component=y}),Re(()=>{})));for(const y of h.children)m.push(...c(y));return m};return hb(c(l.targetSnapshot.root)).pipe(gb(),qo(1))}),nx(()=>this.afterPreactivation()),Re(l=>{const c=function CX(n,e,t){const i=Bg(n,e._root,t?t._root:void 0);return new IL(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),Ji(()=>{this.events.next(new zI)}),((n,e,t,i)=>Re(r=>(new RX(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),qo(1),Ji({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $l(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),yb(this.transitionAbortSubject.pipe(Ji(l=>{throw l}))),Ag(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),bn(l=>{if(a=!0,RL(l))this.events.next(new Lg(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function xX(n){return RL(n)&&wu(n.url)}(l)?this.events.next(new qI(l.url)):o.resolve(!1);else{this.events.next(new xb(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){o.reject(c)}}return si}))}))}cancelNavigationTransition(t,i,r){const o=new Lg(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GL(n){return n!==Fg}let WL=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ht);return i}getResolvedTitleForRoute(t){return t.data[Mg]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:function(){return Ie(CJ)},providedIn:"root"})}return n})(),CJ=(()=>{class n extends WL{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(B(ZF))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:function(){return Ie(xJ)},providedIn:"root"})}return n})();class IJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let xJ=(()=>{class n extends IJ{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Xn(n)))(r||n)}}();static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ob=new fe("",{providedIn:"root",factory:()=>({})});let DJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:function(){return Ie(SJ)},providedIn:"root"})}return n})(),SJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(zg||{});function ZL(n,e){n.events.pipe(Ai(t=>t instanceof $l||t instanceof Lg||t instanceof xb||t instanceof Qh),Re(t=>t instanceof $l||t instanceof Qh?zg.COMPLETE:t instanceof Lg&&(0===t.code||1===t.code)?zg.REDIRECTING:zg.FAILED),Ai(t=>t!==zg.REDIRECTING),qo(1)).subscribe(()=>{e()})}function AJ(n){throw n}function MJ(n,e,t){return e.parse("/")}const kJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let un=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ie(SN),this.isNgZoneEnabled=!1,this._events=new W,this.options=Ie(Ob,{optional:!0})||{},this.pendingTasks=Ie($0),this.errorHandler=this.options.errorHandler||AJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||MJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ie(DJ),this.routeReuseStrategy=Ie(TJ),this.titleStrategy=Ie(WL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ie(nf,{optional:!0})?.flat()??[],this.navigationTransitions=Ie(Rb),this.urlSerializer=Ie(Pg),this.location=Ie(Eg),this.componentInputBindingEnabled=!!Ie(Sb,{optional:!0}),this.eventsSubscription=new Tt,this.isNgZoneEnabled=Ie(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xL(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(KL(i)&&this._events.next(i));if(i instanceof Ib)GL(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Qh)this.rawUrlTree=r.rawUrl;else if(i instanceof EL){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof zI)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Lg)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof qI){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||GL(r.source)};this.scheduleNavigation(o,Fg,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof xb&&this.restoreHistory(r,!0),i instanceof $l&&(this.navigated=!0),KL(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fg,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(JI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let m,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{m=mL(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return gL(m,t,h,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=wu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Fg,null,i)}navigate(t,i={skipLocationChange:!1}){return function RJ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new $(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...kJ}:!1===i?{...PJ}:i,wu(t))return sL(this.currentUrlTree,t,r);const o=this.parseUrl(t);return sL(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((m,y)=>{a=m,l=y});const h=this.pendingTasks.add();return ZL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(m=>Promise.reject(m))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KL(n){return!(n instanceof zI||n instanceof qI)}let ys=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new W,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof $l&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function NP(n,e,t){return function C7(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?OP:eo}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(V(un),V(gs),function ka(n){return function WC(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Sd(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Ti(),n)}("tabindex"),V(Oa),V(xi),V(yu))};static#t=this.\u0275dir=ze({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&ee("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&to("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",zh],skipLocationChange:["skipLocationChange","skipLocationChange",zh],replaceUrl:["replaceUrl","replaceUrl",zh],routerLink:"routerLink"},standalone:!0,features:[GR,Or]})}return n})(),Eu=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Kt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof $l&&this.update()})}ngAfterContentInit(){ie(this.links.changes,ie(null)).pipe(co()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=R(t).pipe(co()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function OJ(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(un),V(xi),V(Oa),V(W0),V(ys,8))};static#t=this.\u0275dir=ze({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&function lN(n,e,t,i){const r=St();if(r.firstCreatePass){const o=Ti();uN(r,new sN(e,t,i),o.index),function TW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}cN(r,he(),t)}(o,ys,5),2&i){let s;mu(s=gu())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Or]})}return n})();class YL{}let NJ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(t=>t instanceof $l),Zh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=P1(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return R(r).pipe(co())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ie(null);const o=r.pipe(ln(s=>null===s?ie(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?R([o,this.loader.loadComponent(i)]).pipe(co()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(B(un),B(AN),B(go),B(YL),B(ix))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rx=new fe("");let QL=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ib?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $l?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Qh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof CL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new CL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){JT()};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();function Ha(n,e){return{\u0275kind:n,\u0275providers:e}}function JL(){const n=Ie(Di);return e=>{const t=n.get(Bl);if(e!==t.components[0])return;const i=n.get(un),r=n.get(eV);1===n.get(ox)&&i.initialNavigation(),n.get(tV,null,mt.Optional)?.setUpPreloading(),n.get(rx,null,mt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const eV=new fe("",{factory:()=>new W}),ox=new fe("",{providedIn:"root",factory:()=>1}),tV=new fe("");function BJ(n){return Ha(0,[{provide:tV,useExisting:NJ},{provide:YL,useExisting:n}])}const nV=new fe("ROUTER_FORROOT_GUARD"),jJ=[Eg,{provide:Pg,useClass:BI},un,Vg,{provide:gs,useFactory:function XL(n){return n.routerState.root},deps:[un]},ix,[]];function HJ(){return new FN("Router",un)}let iV=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[jJ,[],{provide:nf,multi:!0,useValue:t},{provide:nV,useFactory:GJ,deps:[[un,new Pl,new Rl]]},{provide:Ob,useValue:i||{}},i?.useHash?{provide:yu,useClass:rK}:{provide:yu,useClass:hF},{provide:rx,useFactory:()=>{const n=Ie(EY),e=Ie(Ze),t=Ie(Ob),i=Ie(Rb),r=Ie(Pg);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QL(r,i,n,e,t)}},i?.preloadingStrategy?BJ(i.preloadingStrategy).\u0275providers:[],{provide:FN,multi:!0,useFactory:HJ},i?.initialNavigation?WJ(i):[],i?.bindToComponentInputs?Ha(8,[ML,{provide:Sb,useExisting:ML}]).\u0275providers:[],[{provide:rV,useFactory:JL},{provide:eI,multi:!0,useExisting:rV}]]}}static forChild(t){return{ngModule:n,providers:[{provide:nf,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(B(nV,8))};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({})}return n})();function GJ(n){return"guarded"}function WJ(n){return["disabled"===n.initialNavigation?Ha(3,[{provide:G1,multi:!0,useFactory:()=>{const e=Ie(un);return()=>{e.setUpLocationChangeListener()}}},{provide:ox,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ha(2,[{provide:ox,useValue:0},{provide:G1,multi:!0,deps:[Di],useFactory:e=>{const t=e.get(nK,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(un),o=e.get(eV);ZL(r,()=>{i(!0)}),e.get(Rb).afterPreactivation=()=>(i(!0),o.closed?ie(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const rV=new fe("");var G=rt(861);const dn_baseUrl="https://mean-docconnet-3.onrender.com/";class Nb{}class Fb{}class Go{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Go?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Go;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Go?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class KJ{encodeKey(e){return oV(e)}encodeValue(e){return oV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const QJ=/%(\d[a-f0-9])/gi,XJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oV(n){return encodeURIComponent(n).replace(QJ,(e,t)=>XJ[t]??e)}function Lb(n){return`${n}`}class zl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new KJ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YJ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Lb):[Lb(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new zl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Lb(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Lb(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class JJ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function sV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aV(n){return typeof Blob<"u"&&n instanceof Blob}function lV(n){return typeof FormData<"u"&&n instanceof FormData}class qg{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function eee(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Go),this.context||(this.context=new JJ),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new zl,this.urlWithParams=t}serializeBody(){return null===this.body?null:sV(this.body)||aV(this.body)||lV(this.body)||function tee(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lV(this.body)?null:aV(this.body)?this.body.type||null:sV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),c)),new qg(t,i,o,{params:c,headers:l,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var rf=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(rf||{});class sx{constructor(e,t=200,i="OK"){this.headers=e.headers||new Go,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ax extends sx{constructor(e={}){super(e),this.type=rf.ResponseHeader}clone(e={}){return new ax({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class sf extends sx{constructor(e={}){super(e),this.type=rf.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new sf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cV extends sx{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function lx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Gg=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof qg)o=t;else{let l,c;l=r.headers instanceof Go?r.headers:new Go(r.headers),r.params&&(c=r.params instanceof zl?r.params:new zl({fromObject:r.params})),o=new qg(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=ie(o).pipe(Zh(l=>this.handler.handle(l)));if(t instanceof qg||"events"===r.observe)return s;const a=s.pipe(Ai(l=>l instanceof sf));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Re(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Re(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Re(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Re(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new zl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,lx(r,i))}post(t,i,r={}){return this.request("POST",t,lx(r,i))}put(t,i,r={}){return this.request("PUT",t,lx(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nb))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();function hV(n,e){return e(n)}function iee(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const fV=new fe(""),Wg=new fe(""),pV=new fe("");function oee(){let n=null;return(e,t)=>{null===n&&(n=(Ie(fV,{optional:!0})??[]).reduceRight(iee,hV));const i=Ie($0),r=i.add();return n(e,t).pipe(Ag(()=>i.remove(r)))}}let mV=(()=>{class n extends Nb{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=Ie($0)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Wg),...this.injector.get(pV,[])]));this.chain=r.reduceRight((o,s)=>function ree(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),hV)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Ag(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Fb),B(go))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();const cee=/^\)\]\}',?\n/;let _V=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new $(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?R(i.\u0275loadImpl()):ie(null)).pipe(Pt(()=>new pt(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((T,D)=>s.setRequestHeader(T,D.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const T=t.detectContentTypeHeader();null!==T&&s.setRequestHeader("Content-Type",T)}if(t.responseType){const T=t.responseType.toLowerCase();s.responseType="json"!==T?T:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const T=s.statusText||"OK",D=new Go(s.getAllResponseHeaders()),F=function uee(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new ax({headers:D,status:s.status,statusText:T,url:F}),l},h=()=>{let{headers:T,status:D,statusText:F,url:O}=c(),H=null;204!==D&&(H=typeof s.response>"u"?s.responseText:s.response),0===D&&(D=H?200:0);let ne=D>=200&&D<300;if("json"===t.responseType&&"string"==typeof H){const be=H;H=H.replace(cee,"");try{H=""!==H?JSON.parse(H):null}catch(Le){H=be,ne&&(ne=!1,H={error:Le,text:H})}}ne?(o.next(new sf({body:H,headers:T,status:D,statusText:F,url:O||void 0})),o.complete()):o.error(new cV({error:H,headers:T,status:D,statusText:F,url:O||void 0}))},m=T=>{const{url:D}=c(),F=new cV({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});o.error(F)};let y=!1;const b=T=>{y||(o.next(c()),y=!0);let D={type:rf.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),"text"===t.responseType&&s.responseText&&(D.partialText=s.responseText),o.next(D)},C=T=>{let D={type:rf.UploadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),o.next(D)};return s.addEventListener("load",h),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",b),null!==a&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:rf.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",h),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",b),null!==a&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(B(MF))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();const cx=new fe("XSRF_ENABLED"),yV=new fe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vV=new fe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bV{}let fee=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=EF(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rt),B(us),B(yV))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();function pee(n,e){const t=n.url.toLowerCase();if(!Ie(cx)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Ie(bV).getToken(),r=Ie(vV);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ql=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ql||{});function mee(...n){const e=[Gg,_V,mV,{provide:Nb,useExisting:mV},{provide:Fb,useExisting:_V},{provide:Wg,useValue:pee,multi:!0},{provide:cx,useValue:!0},{provide:bV,useClass:fee}];for(const t of n)e.push(...t.\u0275providers);return function DT(n){return{\u0275providers:n}}(e)}const wV=new fe("LEGACY_INTERCEPTOR_FN");function gee(){return function Cu(n,e){return{\u0275kind:n,\u0275providers:e}}(ql.LegacyInterceptors,[{provide:wV,useFactory:oee},{provide:Wg,useExisting:wV,multi:!0}])}let _ee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({providers:[mee(gee())]})}return n})(),ux=(()=>{class n{constructor(t){this.http=t,this.url_login=dn_baseUrl+"api/patient/auth/login",this.url_signup=dn_baseUrl+"api/patient/auth/signup",this.url_checkUser=dn_baseUrl+"api/patient/auth/check"}signupPatient(t){return this.http.post(this.url_signup,t).pipe(bn(i=>{throw console.error("Error in signupPatient:",i),i}))}loginPatient(t){return console.log(t),this.http.post(this.url_login,t).pipe(bn(i=>{throw console.error("Error in loginPatient:",i),i}))}isAuthenticated(){var t=this;return(0,G.Z)(function*(){try{const i=yield t.AuthPatient().toPromise();return console.log(i),"success"===i.status||(console.log("in false : "),!1)}catch(i){return console.error("Authentication error",i),!1}})()}AuthPatient(){return this.http.get(this.url_checkUser).pipe(bn(t=>{throw console.error("Error in loginPatient:",t),t}))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Gg))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Js=(()=>{class n{setMode(t){this.modeSubject.next(t)}setHideNavbar(t){this.hideNavbarSubject.next(t)}isDoctor(){return"Doctor"==localStorage.getItem("mode")?"Doctor":"Patient"}authenticated(){let t=localStorage.getItem("isLogin");return!("false"==t||null==t)}showNavbar(){this.setHideNavbar(!1)}setIsLogin(t){this.isLoginSubject.next(t)}constructor(){this.hideNavbarSubject=new U(!1),this.hideNavbar$=this.hideNavbarSubject.asObservable(),this.isLoginSubject=new U(this.authenticated()||!1),this.isLogin$=this.isLoginSubject.asObservable(),this.modeSubject=new U(this.isDoctor()),this.mode$=this.modeSubject.asObservable()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EV=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Oa),V(xi))};static#t=this.\u0275dir=ze({type:n})}return n})(),Tu=(()=>{class n extends EV{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Xn(n)))(r||n)}}();static#t=this.\u0275dir=ze({type:n,features:[Lt]})}return n})();const ea=new fe("NgValueAccessor"),Iee={provide:ea,useExisting:q(()=>Wo),multi:!0},Dee=new fe("CompositionEventMode");let Wo=(()=>{class n extends EV{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xee(){const n=Ul()?Ul().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Oa),V(xi),V(Dee,8))};static#t=this.\u0275dir=ze({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ee("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[On([Iee]),Lt]})}return n})();function Gl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const vr=new fe("NgValidators"),Wl=new fe("NgAsyncValidators");function DV(n){return Gl(n.value)?{required:!0}:null}function Bb(n){return null}function RV(n){return null!=n}function OV(n){return ag(n)?R(n):n}function NV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function FV(n,e){return e.map(t=>t(n))}function LV(n){return n.map(e=>function Aee(n){return!n.validate}(e)?e:t=>e.validate(t))}function dx(n){return null!=n?function VV(n){if(!n)return null;const e=n.filter(RV);return 0==e.length?null:function(t){return NV(FV(t,e))}}(LV(n)):null}function hx(n){return null!=n?function BV(n){if(!n)return null;const e=n.filter(RV);return 0==e.length?null:function(t){return function Cee(...n){const e=ol(n),{args:t,keys:i}=XF(n),r=new pt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let h=0;h<s;h++){let m=!1;Ln(t[h]).subscribe(Te(o,y=>{m||(m=!0,c--),a[h]=y},()=>l--,void 0,()=>{(!l||!m)&&(c||o.next(i?JF(i,a):a),o.complete())}))}});return e?r.pipe(FI(e)):r}(FV(t,e).map(OV)).pipe(Re(NV))}}(LV(n)):null}function UV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function fx(n){return n?Array.isArray(n)?n:[n]:[]}function Ub(n,e){return Array.isArray(n)?n.includes(e):n===e}function $V(n,e){const t=fx(e);return fx(n).forEach(r=>{Ub(t,r)||t.push(r)}),t}function zV(n,e){return fx(e).filter(t=>!Ub(n,t))}class qV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Br extends qV{get formDirective(){return null}get path(){return null}}class Zl extends qV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ta=(()=>{class n extends GV{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Zl,2))};static#t=this.\u0275dir=ze({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Lh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Lt]})}return n})(),na=(()=>{class n extends GV{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Br,10))};static#t=this.\u0275dir=ze({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Lh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Lt]})}return n})();const Zg="VALID",Hb="INVALID",af="PENDING",Kg="DISABLED";function gx(n){return($b(n)?n.validators:n)||null}function _x(n,e){return($b(e)?e.asyncValidators:n)||null}function $b(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class YV{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zg}get invalid(){return this.status===Hb}get pending(){return this.status==af}get disabled(){return this.status===Kg}get enabled(){return this.status!==Kg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($V(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($V(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zV(e,this._rawAsyncValidators))}hasValidator(e){return Ub(this._rawValidators,e)}hasAsyncValidator(e){return Ub(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=af,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Kg,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zg,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zg||this.status===af)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kg:Zg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=af,this._hasOwnPendingAsyncValidator=!0;const t=OV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Kt,this.statusChanges=new Kt}_calculateStatus(){return this._allControlsDisabled()?Kg:this.errors?Hb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(af)?af:this._anyControlsHaveStatus(Hb)?Hb:Zg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$b(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ree(n){return Array.isArray(n)?dx(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Oee(n){return Array.isArray(n)?hx(n):n||null}(this._rawAsyncValidators)}}class yx extends YV{constructor(e,t,i){super(gx(t),_x(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function KV(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new $(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function ZV(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new $(1e3,"");if(!i[t])throw new $(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Iu=new fe("CallSetDisabledState",{providedIn:"root",factory:()=>Yg}),Yg="always";function Qg(n,e,t=Yg){vx(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Lee(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&QV(n,e)})}(n,e),function Bee(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Vee(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&QV(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Fee(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Gb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vx(n,e){const t=function jV(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(UV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function HV(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(UV(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Gb(e._rawValidators,r),Gb(e._rawAsyncValidators,r)}function QV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const zee={provide:Br,useExisting:q(()=>Zo)},Xg=(()=>Promise.resolve())();let Zo=(()=>{class n extends Br{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Kt,this.form=new yx({},dx(t),hx(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xg.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Qg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xg.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xg.then(()=>{const i=this._findContainer(t.path),r=new yx({});(function XV(n,e){vx(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xg.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Xg.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function JV(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(V(vr,10),V(Wl,10),V(Iu,8))};static#t=this.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&ee("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[On([zee]),Lt]})}return n})();function e3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function t3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const n3=class extends YV{constructor(e=null,t,i){super(gx(t),_x(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$b(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=t3(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){e3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){e3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){t3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Wee={provide:Zl,useExisting:q(()=>vs)},s3=(()=>Promise.resolve())();let vs=(()=>{class n extends Zl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new n3,this._registered=!1,this.name="",this.update=new Kt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Ex(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Wo?t=o:function Hee(n){return Object.getPrototypeOf(n.constructor)===Tu}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function wx(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){s3.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&zh(i);s3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function zb(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(V(Br,9),V(vr,10),V(Wl,10),V(ea,10),V(W0,8),V(Iu,8))};static#t=this.\u0275dir=ze({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[On([Wee]),Lt,Or]})}return n})(),ia=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Zee={provide:ea,useExisting:q(()=>Cx),multi:!0};let Cx=(()=>{class n extends Tu{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Xn(n)))(r||n)}}();static#t=this.\u0275dir=ze({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&ee("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[On([Zee]),Lt]})}return n})();const Kee={provide:ea,useExisting:q(()=>Jg),multi:!0};let a3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({})}return n})(),Yee=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t)return void this._accessors.splice(i,1)}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return!!t[0].control&&t[0]._parent===i._control._parent&&t[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:a3})}return n})(),Jg=(()=>{class n extends Tu{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Ie(Iu,{optional:!0})??Yg}ngOnInit(){this._control=this._injector.get(Zl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Oa),V(xi),V(Yee),V(Di))};static#t=this.\u0275dir=ze({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&ee("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[On([Kee]),Lt]})}return n})();const Tx=new fe("NgModelWithFormControlWarning"),ite={provide:ea,useExisting:q(()=>Kl),multi:!0};function h3(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Kl=(()=>{class n extends Tu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=h3(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function rte(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Xn(n)))(r||n)}}();static#t=this.\u0275dir=ze({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&ee("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[On([ite]),Lt]})}return n})(),lf=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(h3(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(V(xi),V(Oa),V(Kl,9))};static#t=this.\u0275dir=ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const ote={provide:ea,useExisting:q(()=>Sx),multi:!0};function f3(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Sx=(()=>{class n extends Tu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function ste(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Xn(n)))(r||n)}}();static#t=this.\u0275dir=ze({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&ee("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[On([ote]),Lt]})}return n})(),cf=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(f3(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(f3(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(V(xi),V(Oa),V(Sx,9))};static#t=this.\u0275dir=ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),xu=(()=>{class n{constructor(){this._validator=Bb}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Bb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ze({type:n,features:[Or]})}return n})();const cte={provide:vr,useExisting:q(()=>bs),multi:!0};let bs=(()=>{class n extends xu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=zh,this.createValidator=t=>DV}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Xn(n)))(r||n)}}();static#t=this.\u0275dir=ze({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&to("required",r._enabled?"":null)},inputs:{required:"required"},features:[On([cte]),Lt]})}return n})();const pte={provide:vr,useExisting:q(()=>uf),multi:!0};let uf=(()=>{class n extends xu{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function PV(n){if(!n)return Bb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Gl(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Xn(n)))(r||n)}}();static#t=this.\u0275dir=ze({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&to("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[On([pte]),Lt]})}return n})(),E3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({imports:[a3]})}return n})(),C3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Iu,useValue:t.callSetDisabledState??Yg}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({imports:[E3]})}return n})(),gte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Iu,useValue:t.callSetDisabledState??Yg}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({imports:[E3]})}return n})();function _te(n,e){1&n&&(g(0,"p",26),w(1," *your email or password is incorrect.* "),_())}function yte(n,e){1&n&&K(0,"div")}function vte(n,e){if(1&n){const t=Ct();g(0,"input",27),ee("ngModelChange",function(r){return le(t),oe(L().email=r)}),_()}2&n&&S("ngModel",L().email)}function bte(n,e){if(1&n){const t=Ct();g(0,"input",28),ee("ngModelChange",function(r){return le(t),oe(L().email=r)}),_()}2&n&&S("ngModel",L().email)}function wte(n,e){1&n&&K(0,"div")}function Ete(n,e){if(1&n){const t=Ct();g(0,"input",29),ee("ngModelChange",function(r){return le(t),oe(L().password=r)}),_()}2&n&&S("ngModel",L().password)}function Cte(n,e){if(1&n){const t=Ct();g(0,"input",30),ee("ngModelChange",function(r){return le(t),oe(L().password=r)}),_()}2&n&&S("ngModel",L().password)}let Tte=(()=>{class n{constructor(t,i,r){this.patientServ=t,this.navbarService=i,this.router=r,this.email="",this.password="",this.cssclass="failed",this.incorrect=!1,this.isLogin=!1}signin(){console.log("clicked"),this.password&&this.email?(console.log("In login"),this.patientServ.loginPatient({Email:this.email,Password:this.password}).subscribe(i=>{console.log("Login successful"),console.log("data : ",i),this.userId=i._id,console.log("userId"),console.log(this.userId),localStorage.removeItem("userId"),localStorage.setItem("userId",this.userId),localStorage.setItem("jwt",i.token),this.email="",this.password="",localStorage.setItem("isLogin","true"),this.isLogin=!0,this.navbarService.setIsLogin(this.isLogin),localStorage.setItem("mode","Patient"),this.navbarService.setMode("Patient"),this.navbarService.showNavbar();const r=this.patientServ.redirectUrl||"/homepatient";console.log("this.patientServ.redirectUrl",this.patientServ.redirectUrl),this.router.navigate([r])},i=>{console.error("Login error",i),this.incorrect=!0}),this.password=""):console.log("unsucessful not login")}ngOnInit(){this.navbarService.setHideNavbar(!0)}static#e=this.\u0275fac=function(i){return new(i||n)(V(ux),V(Js),V(un))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-signin-patient"]],decls:42,vars:7,consts:[[1,"bg-custom-gradient"],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","md:h-screen","lg:py-0"],["routerLink","/homepatient","routerLinkActive","active",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","assets/Logo/logo1.png",1,"w-420","mix-blend-color-burn"],[1,"w-full","backdrop-blur-lg","bg-white/40","md:mt-0","sm:max-w-lg","xl:p-0","rounded-lg","shadow"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-none","tracking-normal","text-gray-950","md:text-2xl"],["action","#",1,"mt-4","space-y-4","md:space-y-6"],["class","text-sm font-semibold text-red-600 ",4,"ngIf"],["for","email",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],["for","password",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["thenBlock1",""],["elseBlock1",""],[1,"flex","items-center","justify-between"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","remember","aria-describedby","remember","type","checkbox","required","",1,"w-4","h-4","border","border-gray-300","rounded","bg-gray-50","focus:ring-3","focus:ring-primary-300"],[1,"ml-3","text-sm"],["for","remember",1,"text-gray-800"],["href","#",1,"text-sm","font-semibold","text-primary-700","hover:underline"],["id","signin","type","submit",1,"w-full","text-primary-700","font-bold","hover:bg-primary-700","focus:bg-primary-700","focus:text-white","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5",3,"click"],[1,"text-sm","font-normal","text-black"],["routerLink","/registerPatient",1,"font-medium","text-primary-700","hover:underline"],[1,"text-sm","font-semibold","text-red-600"],["type","email","name","email","id","email","placeholder","name@company.com","required","",1,"bg-gray-100","border-2","border-red-500","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","email","name","email","id","email","placeholder","name@company.com","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-100","border-2","border-red-500","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"]],template:function(i,r){if(1&i&&(g(0,"section",0)(1,"div",1)(2,"a",2),K(3,"img",3),_(),g(4,"div",4)(5,"div",5)(6,"h1",6),w(7," Sign in to your account "),_(),g(8,"form",7)(9,"div"),ge(10,_te,2,0,"p",8),_(),g(11,"div")(12,"label",9),w(13,"Email"),_(),ge(14,yte,1,0,"div",10),ge(15,vte,1,1,"ng-template",null,11,yr),ge(17,bte,1,1,"ng-template",null,12,yr),_(),g(19,"div")(20,"label",13),w(21,"Password"),_(),ge(22,wte,1,0,"div",10),ge(23,Ete,1,1,"ng-template",null,14,yr),ge(25,Cte,1,1,"ng-template",null,15,yr),_(),g(27,"div",16)(28,"div",17)(29,"div",18),K(30,"input",19),_(),g(31,"div",20)(32,"label",21),w(33,"Remember me"),_()()(),g(34,"a",22),w(35,"Forgot password?"),_()(),g(36,"button",23),ee("click",function(){return r.signin()}),w(37,"Sign in"),_(),g(38,"p",24),w(39," Don't have an account yet? "),g(40,"a",25),w(41,"Sign up"),_()()()()()()()),2&i){const o=_r(16),s=_r(18),a=_r(24),l=_r(26);x(10),S("ngIf",r.incorrect),x(4),S("ngIf",r.incorrect)("ngIfThen",o)("ngIfElse",s),x(8),S("ngIf",r.incorrect)("ngIfThen",a)("ngIfElse",l)}},dependencies:[Xi,ys,Eu,ia,Wo,ta,na,bs,vs,Zo]})}return n})();const e_={_origin:"https://api.emailjs.com"};class I3{constructor(e){this.status=e.status,this.text=e.responseText}}const Ax_send=(n,e,t,i)=>{const r=i||e_._userID;return((n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(r,n,e),((n,e,t={})=>new Promise((i,r)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const a=new I3(s);200===a.status||"OK"===a.text?i(a):r(a)}),o.addEventListener("error",({target:s})=>{r(new I3(s))}),o.open("POST",e_._origin+n,!0),Object.keys(t).forEach(s=>{o.setRequestHeader(s,t[s])}),o.send(e)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})};function Ste(n,e){if(1&n){const t=Ct();g(0,"div")(1,"div",9)(2,"div",10)(3,"label",11),w(4,"Email"),_(),g(5,"input",12),ee("ngModelChange",function(r){return le(t),oe(L().email=r)}),_()(),g(6,"div",10)(7,"label",13),w(8,"Name"),_(),g(9,"input",14),ee("ngModelChange",function(r){return le(t),oe(L().fullname=r)}),_()()(),g(10,"div",9)(11,"div",10)(12,"label",15),w(13,"Password"),_(),g(14,"input",16),ee("ngModelChange",function(r){return le(t),oe(L().password=r)}),_()(),g(15,"div",10)(16,"label",17),w(17,"Confirm Password"),_(),g(18,"input",18),ee("ngModelChange",function(r){return le(t),oe(L().confpassword=r)}),_()()(),g(19,"button",19),ee("click",function(){return le(t),oe(L().next_verify())}),g(20,"span"),w(21," Next "),_(),K(22,"i",20),_(),g(23,"p",21),w(24," Already have an account? "),g(25,"a",22),w(26,"Sign in"),_()()()}if(2&n){const t=L();x(5),S("ngModel",t.email),x(4),S("ngModel",t.fullname),x(5),ug("bg-gray-100 border border-",t.value_border," text-gray-800 sm:text-sm rounded-lg focus:ring-primary-#2563eb focus:border-primary-#2563eb block w-full p-2.5"),S("ngModel",t.password),x(4),ug("bg-gray-100 border border-",t.value_border," text-gray-800 sm:text-sm rounded-lg focus:ring-primary-#2563eb focus:border-primary-#2563eb block w-full p-2.5"),S("ngModel",t.confpassword)}}function Ate(n,e){if(1&n){const t=Ct();g(0,"div")(1,"button",23),ee("click",function(){return le(t),oe(L().back_to_email())}),K(2,"i",24),g(3,"span"),w(4," Back "),_()(),g(5,"div",9)(6,"div",10)(7,"label",25),w(8,"Varify Email"),_(),g(9,"input",26),ee("ngModelChange",function(r){return le(t),oe(L().entered_otp=r)})("input",function(r){return le(t),oe(L().autoVerify(r))}),_()()(),g(10,"div",9)(11,"div",27)(12,"label",25),w(13,"OTP will send to your Email"),_(),g(14,"button",28),ee("click",function(){return le(t),oe(L().genOTP())}),g(15,"span"),w(16," Click to Get OTP "),_()()()()()}if(2&n){const t=L();x(9),S("ngModel",t.entered_otp)}}function Mte(n,e){if(1&n&&(g(0,"div")(1,"p",29),w(2),_()()),2&n){const t=L();x(2),rn(t.message)}}function kte(n,e){if(1&n&&(g(0,"option",48),w(1),_()),2&n){const t=e.$implicit;S("value",t.value),x(1),He("",t.label," ")}}function Pte(n,e){if(1&n&&(g(0,"option",48),w(1),_()),2&n){const t=e.$implicit;S("value",t.value),x(1),rn(t.label)}}function Rte(n,e){if(1&n){const t=Ct();g(0,"div")(1,"button",23),ee("click",function(){return le(t),oe(L().back_to_verify())}),K(2,"i",24),g(3,"span"),w(4," Back "),_()(),g(5,"div",9)(6,"div",27)(7,"label",30),w(8,"Date of Birth"),_(),g(9,"input",31),ee("ngModelChange",function(r){return le(t),oe(L().dob=r)}),_()(),g(10,"div",27)(11,"label",32),w(12,"Age"),_(),g(13,"input",33),ee("ngModelChange",function(r){return le(t),oe(L().age=r)}),_()(),g(14,"div",27)(15,"label",34),w(16,"Blood Group"),_(),g(17,"select",35),ee("ngModelChange",function(r){return le(t),oe(L().selectedBloodGroup=r)}),ge(18,kte,2,2,"option",36),_()()(),g(19,"div",9)(20,"div",27)(21,"label",37),w(22,"Gender"),_(),g(23,"select",38),ee("ngModelChange",function(r){return le(t),oe(L().selectedGender=r)}),ge(24,Pte,2,2,"option",36),_()(),g(25,"div",39)(26,"div",40),K(27,"img",41),_(),g(28,"label",42)(29,"span",43),w(30,"Choose profile photo"),_(),g(31,"input",44),ee("change",function(r){return le(t),oe(L().loadFile(r))}),_()()(),g(32,"div",27)(33,"label",45),w(34,"Phone No."),_(),g(35,"input",46),ee("ngModelChange",function(r){return le(t),oe(L().phone_no=r)}),_()()(),g(36,"button",47),ee("click",function(){return le(t),oe(L().signup())}),w(37,"Register"),_(),g(38,"p",21),w(39," Already have an account? "),g(40,"a",22),w(41,"Sign in"),_()()()}if(2&n){const t=L();x(9),S("ngModel",t.dob),x(4),S("ngModel",t.age),x(4),S("ngModel",t.selectedBloodGroup),x(1),S("ngForOf",t.bloodGroups),x(5),S("ngModel",t.selectedGender),x(1),S("ngForOf",t.genders),x(3),S("src",t.profileImg,eo),x(8),S("ngModel",t.phone_no)}}var df=function(n){return n.Profile="profile",n.Email="email",n.Verify="verify",n}(df||{});let Ote=(()=>{class n{constructor(t,i,r){this.patientServ=t,this.navbarService=i,this.router=r,this.otpLength=6,this.selectedBloodGroup=0,this.selectedGender=0,this.profileImg="../../../../assets/profile.jpeg",this.varifyEmail=!1,this.message="",this.genders=[{label:"Select Your Gender",value:"0"},{label:"Male",value:"Male"},{label:"Female",value:"Female"}],this.bloodGroups=[{label:"Select Your Blood Group",value:"0"},{label:"A+",value:"A+"},{label:"A-",value:"A-"},{label:"B+",value:"B+"},{label:"B-",value:"B-"},{label:"AB+",value:"AB+"},{label:"AB-",value:"AB-"},{label:"O+",value:"O+"},{label:"O-",value:"O-"}],this.value_border="gray-400",this.activeTab=df.Email}loadFile(t){var i=this;return(0,G.Z)(function*(){const r=t.target;if(r.files&&r.files[0]){const o=new FileReader;o.onload=()=>{i.profileImg=o.result},o.readAsDataURL(r.files[0])}})()}genOTP(){this.actual_otp=Math.floor(1e5+9e5*Math.random()).toString(),console.log(this.actual_otp),console.log("Inside genOTP"),Ax_send("service_lx8ae8c","template_bs5tdjk",{name:this.fullname,otp:this.actual_otp,to_email:this.email},"Lx9Z4TNqPKTQ1oiUO").then(t=>{console.log("Email sent successfully!",t)}).catch(t=>{console.error("Email could not be sent:",t)})}autoVerify(t){const i=t.target.value;this.entered_otp=i,6===i.length&&this.varify_email()}varify_email(){console.log(this.actual_otp),console.log(this.entered_otp),this.actual_otp===this.entered_otp?(this.varifyEmail=!0,this.message="",this.next_profile()):this.message="OTP is incorrect !!!"}ngOnInit(){this.selectedGender="0",this.selectedBloodGroup="0",this.navbarService.setHideNavbar(!0)}get Tab(){return df}getshow(t){return t===this.activeTab?1:0}view_profile(){this.activeTab=df.Profile}view_email(){this.activeTab=df.Email}view_verify(){this.activeTab=df.Verify}next_verify(){this.view_verify()}next_profile(){this.view_profile()}back_to_email(){this.view_email()}back_to_verify(){this.view_verify()}signup(){this.password==this.confpassword?(console.log("Signed up"),this.patientServ.signupPatient({Email:this.email,Password:this.password,Name:this.fullname,DoB:this.dob,Age:this.age,Profile_picture:this.profileImg,Gender:this.selectedGender,Phone_no:this.phone_no,BloodGroup:this.selectedBloodGroup}).subscribe(i=>this.patient=i),this.email="",this.password="",console.log("patient : "),console.log(this.patient),this.router.navigate(["/signinPatient"])):this.value_border="red-500"}static#e=this.\u0275fac=function(i){return new(i||n)(V(ux),V(Js),V(un))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-registration-patient"]],decls:13,vars:4,consts:[[1,"bg-custom-gradient"],[1,"flex","flex-col","min-h-screen","h-screen","items-center","justify-center","px-6","py-8","mx-auto","lg:py-0"],["routerLink","/homepatient","routerLinkActive","active",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","assets/Logo/logo1.png",1,"w-420","mix-blend-color-burn"],[1,"w-full","backdrop-blur-lg","bg-white/40","md:mt-0","sm:max-w-4xl","xl:p-0","rounded-lg","shadow"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-none","tracking-normal","text-gray-950","md:text-2xl"],["action","#",1,"mt-4","space-y-4","md:space-y-6"],[4,"ngIf"],[1,"flex","flex-wrap","-mx-3","mb-6"],[1,"w-full","md:w-1/2","px-3","mb-6","md:mb-0"],["for","email",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","email","name","email","id","email","placeholder","name@company.com","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","fullname",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","fullname","id","fullname","placeholder","John Cena","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","password",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModel","ngModelChange"],["for","confpassword",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","password","name","confpassword","id","confpassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModel","ngModelChange"],["type","submit",1,"float-right","w-20","h-10","my-5","flex","justify-center","items-center","text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-10","py-2.5","space-x-2","transition","duration-100",3,"click"],[1,"fas","fa-arrow-right","fill-black"],[1,"mt-5","text-sm","font-normal","text-black"],["routerLink","/signinPatient",1,"font-medium","text-primary-700","hover:underline"],["type","submit",1,"w-20","h-10","my-5","flex","justify-center","items-center","text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-10","py-2.5","space-x-2","transition","duration-100",3,"click"],[1,"fas","fa-arrow-left","fill-black"],["for","otp",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","otp","id","otp","placeholder","123456","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange","input"],[1,"w-full","md:w-1/3","px-3","mb-6","md:mb-0"],["type","submit",1,"block","w-full","p-2.5","text-primary-700","font-bold","border-2","border-primary-700","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-10","py-2","space-x-2","transition","duration-100",3,"click"],[1,"text-red-700"],["for","dob",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","date","name","dob","id","dob","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","age",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","age","id","age","placeholder","49","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","selectedBloodGroup",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["id","selectedBloodGroup","name","selectedBloodGroup","placeholder","Select Your Gender","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","selectedGender",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["id","selectedGender","name","selectedGender","placeholder","Select Your Gender","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[1,"flex","items-center","md:w-1/3","space-x-6"],[1,"shrink-0"],["id","preview_img","alt","Current profile photo",1,"h-16","w-16","object-cover","rounded-full",3,"src"],[1,"block"],[1,"sr-only"],["type","file","accept","image/*",1,"block","w-full","text-sm","text-slate-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-violet-50","file:text-violet-700","hover:file:bg-violet-100",3,"change"],["for","phone_no",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","tel","name","phone_no","id","phone_no","pattern","[0-9]{5}-[0-9]{5}","placeholder","84123-49856","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","submit",1,"w-full","text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5",3,"click"],[3,"value"]],template:function(i,r){1&i&&(g(0,"section",0)(1,"div",1)(2,"a",2),K(3,"img",3),_(),g(4,"div",4)(5,"div",5)(6,"h1",6),w(7," Register in Doc Connect "),_(),g(8,"form",7),ge(9,Ste,27,10,"div",8),ge(10,Ate,17,1,"div",8),ge(11,Mte,3,1,"div",8),ge(12,Rte,42,8,"div",8),_()()()()()),2&i&&(x(9),S("ngIf",r.getshow("email")),x(1),S("ngIf",r.getshow("verify")),x(1),S("ngIf",r.message),x(1),S("ngIf",r.getshow("profile")))},dependencies:[ps,Xi,ys,Eu,ia,lf,cf,Wo,Kl,ta,na,bs,uf,vs,Zo]})}return n})();class D3{}class Nte{}const $a="*";function ra(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ur(n,e=null){return{type:4,styles:e,timings:n}}function A3(n,e=null){return{type:2,steps:n,options:e}}function Yt(n){return{type:6,styles:n,offset:null}}function Ko(n,e,t){return{type:0,name:n,styles:e,options:t}}function jr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class t_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class P3{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}var hf=rt(534);(0,hf.registerVersion)("firebase","10.8.1","app");class Vte extends Tt{constructor(e,t){super()}schedule(e,t=0){return this}}const Zb={setInterval(n,e,...t){const{delegate:i}=Zb;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Zb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Kb extends Vte{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Zb.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Zb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ye(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const kx={now:()=>(kx.delegate||Date).now(),delegate:void 0};class n_{constructor(e,t=n_.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}n_.now=kx.now;class Yb extends n_{constructor(e,t=n_.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const jte=new class Ute extends Yb{}(class Bte extends Kb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),i_=new Yb(Kb),Hte=i_,R3=new Fl("ANGULARFIRE2_VERSION");class O3{constructor(){return((n,e)=>{const t=(0,hf.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(zte)}}const zte="app-check";function ff(){}class N3{zone;delegate;constructor(e,t=jte){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class qte{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ff,{},ff,ff)),t.pipe(Ji({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let F3=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new N3(Zone.current)),this.insideAngular=t.run(()=>new N3(Zone.current,i_)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(B(Ze))};static \u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vo(n){return function Wte(n){return function(t){return(t=t.lift(new qte(n.ngZone))).pipe(lr(n.outsideAngular),qi(n.insideAngular))}}(function pf(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Su=rt(106);Su.Z.registerVersion("firebase","10.8.1","app-compat");const Qte=["ngOnDestroy"];class L3{constructor(e){return e}}const Qb=new fe("angularfire2.app.options"),Xb=new fe("angularfire2.app.name");function Px(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=Su.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Su.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;ene("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new L3(s)}const ene=(n,...e)=>{},tne={provide:L3,useFactory:Px,deps:[Qb,Ze,[new Pl,Xb]]};let nne=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:Qb,useValue:t},{provide:Xb,useValue:i}]}}constructor(t){Su.Z.registerVersion("angularfire",R3.full,"core"),Su.Z.registerVersion("angularfire",R3.full,"app-compat"),Su.Z.registerVersion("angular",KP.full,t.toString())}static \u0275fac=function(i){return new(i||n)(B(us))};static \u0275mod=nn({type:n});static \u0275inj=Ht({providers:[tne]})}return n})();function V3(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function ine(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(B3("error",`${e} was already initialized on the ${t} Firebase App with different settings.${rne?" You may need to reload as Firebase is not HMR aware.":""}`),B3("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const rne=typeof module<"u"&&!!module.hot,B3=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],rt(999);class one extends W{constructor(e=1/0,t=1/0,i=kx){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function U3(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Qe({connector:()=>new one(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function j3(n,e){return I(e)?Pt(()=>n,e):Pt(()=>n)}const H3=new fe("angularfire2.auth.use-emulator"),$3=new fe("angularfire2.auth.settings"),z3=new fe("angularfire2.auth.tenant-id"),q3=new fe("angularfire2.auth.langugage-code"),G3=new fe("angularfire2.auth.use-device-language"),W3=new fe("angularfire.auth.persistence"),Z3=(n,e,t,i,r,o,s,a)=>V3(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,h]of Object.entries(s))l.settings[c]=h;return a&&l.setPersistence(a),l},[t,i,r,o,s,a]);let K3=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,l,c,h,m,y,b){const C=new W,T=ie(void 0).pipe(qi(s.outsideAngular),Pt(()=>o.runOutsideAngular(()=>Promise.resolve().then(rt.bind(rt,999)))),Re(()=>Px(t,o,i)),Re(D=>Z3(D,o,a,c,h,m,l,y)),U3({bufferSize:1,refCount:!1}));if(lb(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ie(null);else{T.pipe(Ys()).subscribe();const D=T.pipe(Pt(H=>H.getRedirectResult().then(ne=>ne,()=>null)),vo,U3({bufferSize:1,refCount:!1})),F=T.pipe(Pt(H=>new pt(ne=>({unsubscribe:o.runOutsideAngular(()=>H.onAuthStateChanged(be=>ne.next(be),be=>ne.error(be),()=>ne.complete()))})))),O=T.pipe(Pt(H=>new pt(ne=>({unsubscribe:o.runOutsideAngular(()=>H.onIdTokenChanged(be=>ne.next(be),be=>ne.error(be),()=>ne.complete()))}))));this.authState=D.pipe(j3(F),lr(s.outsideAngular),qi(s.insideAngular)),this.user=D.pipe(j3(O),lr(s.outsideAngular),qi(s.insideAngular)),this.idToken=this.user.pipe(Pt(H=>H?R(H.getIdToken()):ie(null))),this.idTokenResult=this.user.pipe(Pt(H=>H?R(H.getIdTokenResult()):ie(null))),this.credential=re(D,C,this.authState.pipe(Ai(H=>!H))).pipe(Re(H=>H?.user?H:null),lr(s.outsideAngular),qi(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Qte.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(h=>{const m=h?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,m),m})})})}))(this,T,o,{spy:{apply:(D,F,O)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&O.then(H=>C.next(H))}}})}static \u0275fac=function(i){return new(i||n)(B(Qb),B(Xb,8),B(us),B(Ze),B(F3),B(H3,8),B($3,8),B(z3,8),B(q3,8),B(G3,8),B(W3,8),B(O3,8))};static \u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function Rx(){return J((n,e)=>{let t,i=!1;n.subscribe(Te(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var De,Y3=rt(537),oa=rt(879),qt=rt(58),ane=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ws={},Ox=Ox||{},ot=ane||self;function Jb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function r_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Nx="closure_uid_"+(1e9*Math.random()>>>0),cne=0;function une(n,e,t){return n.call.apply(n.bind,arguments)}function dne(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function br(n,e,t){return(br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?une:dne).apply(null,arguments)}function ew(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Vi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Yl(){this.s=this.s,this.o=this.o}Yl.prototype.s=!1,Yl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lne(n){Object.prototype.hasOwnProperty.call(n,Nx)&&n[Nx]||(n[Nx]=++cne)}(this)},Yl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Q3=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Fx(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function X3(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Jb(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function wr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}wr.prototype.h=function(){this.defaultPrevented=!0};var fne=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};ot.addEventListener("test",t,e),ot.removeEventListener("test",t,e)}catch{}return n}();function o_(n){return/^[\s\xa0]*$/.test(n)}function tw(){var n=ot.navigator;return n&&(n=n.userAgent)?n:""}function sa(n){return-1!=tw().indexOf(n)}function Lx(n){return Lx[" "](n),n}Lx[" "]=function(){};var Bx,n,mne=sa("Opera"),mf=sa("Trident")||sa("MSIE"),J3=sa("Edge"),Vx=J3||mf,e4=sa("Gecko")&&!(-1!=tw().toLowerCase().indexOf("webkit")&&!sa("Edge"))&&!(sa("Trident")||sa("MSIE"))&&!sa("Edge"),gne=-1!=tw().toLowerCase().indexOf("webkit")&&!sa("Edge");function t4(){var n=ot.document;return n?n.documentMode:void 0}e:{var Ux="",jx=(n=tw(),e4?/rv:([^\);]+)(\)|;)/.exec(n):J3?/Edge\/([\d\.]+)/.exec(n):mf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):gne?/WebKit\/(\S+)/.exec(n):mne?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(jx&&(Ux=jx?jx[1]:""),mf){var Hx=t4();if(null!=Hx&&Hx>parseFloat(Ux)){Bx=String(Hx);break e}}Bx=Ux}var _ne=ot.document&&mf&&(t4()||parseInt(Bx,10))||void 0;function s_(n,e){if(wr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(e4){e:{try{Lx(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yne[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&s_.$.h.call(this)}}Vi(s_,wr);var yne={2:"touch",3:"pen",4:"mouse"};s_.prototype.h=function(){s_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var a_="closure_listenable_"+(1e6*Math.random()|0),vne=0;function bne(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++vne,this.fa=this.ia=!1}function nw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function zx(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function r4(n){const e={};for(const t in n)e[t]=n[t];return e}const o4="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function s4(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<o4.length;o++)t=o4[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function iw(n){this.src=n,this.g={},this.h=0}function qx(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=Q3(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(nw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Gx(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}iw.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=Gx(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new bne(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var Wx="closure_lm_"+(1e6*Math.random()|0),Zx={};function a4(n,e,t,i,r){if(i&&i.once)return c4(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)a4(n,e[o],t,i,r);return null}return t=Xx(t),n&&n[a_]?n.O(e,t,r_(i)?!!i.capture:!!i,r):l4(n,e,t,!1,i,r)}function l4(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=r_(r)?!!r.capture:!!r,a=Yx(n);if(a||(n[Wx]=a=new iw(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function Ene(){const e=Cne;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)fne||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(d4(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function c4(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)c4(n,e[o],t,i,r);return null}return t=Xx(t),n&&n[a_]?n.P(e,t,r_(i)?!!i.capture:!!i,r):l4(n,e,t,!0,i,r)}function u4(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)u4(n,e[o],t,i,r);else i=r_(i)?!!i.capture:!!i,t=Xx(t),n&&n[a_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Gx(o=n.g[e],t,i,r))&&(nw(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Yx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Gx(e,t,i,r)),(t=-1<n?e[n]:null)&&Kx(t))}function Kx(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[a_])qx(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(d4(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Yx(e))?(qx(t,n),0==t.h&&(t.src=null,e[Wx]=null)):nw(n)}}}function d4(n){return n in Zx?Zx[n]:Zx[n]="on"+n}function Cne(n,e){if(n.fa)n=!0;else{e=new s_(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Kx(n),n=t.call(i,e)}return n}function Yx(n){return(n=n[Wx])instanceof iw?n:null}var Qx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xx(n){return"function"==typeof n?n:(n[Qx]||(n[Qx]=function(e){return n.handleEvent(e)}),n[Qx])}function Bi(){Yl.call(this),this.i=new iw(this),this.S=this,this.J=null}function er(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new wr(e,n);else if(e instanceof wr)e.target=e.target||n;else{var r=e;s4(e=new wr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=rw(s,i,!0,e)&&r}if(r=rw(s=e.g=n,i,!0,e)&&r,r=rw(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=rw(s=e.g=t[o],i,!1,e)&&r}function rw(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&qx(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Vi(Bi,Yl),Bi.prototype[a_]=!0,Bi.prototype.removeEventListener=function(n,e,t,i){u4(this,n,e,t,i)},Bi.prototype.N=function(){if(Bi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)nw(t[i]);delete n.g[e],n.h--}}this.J=null},Bi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Bi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Jx=ot.JSON.stringify;function Ine(){var n=eD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var h4=new class Tne{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Dne,n=>n.reset());class Dne{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Sne(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Ane(n){ot.setTimeout(()=>{throw n},0)}let l_,c_=!1,eD=new class xne{constructor(){this.h=this.g=null}add(e,t){const i=h4.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},f4=()=>{const n=ot.Promise.resolve(void 0);l_=()=>{n.then(Mne)}};var Mne=()=>{for(var n;n=Ine();){try{n.h.call(n.g)}catch(t){Ane(t)}var e=h4;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}c_=!1};function ow(n,e){Bi.call(this),this.h=n||1,this.g=e||ot,this.j=br(this.qb,this),this.l=Date.now()}function tD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function nD(n,e,t){if("function"==typeof n)t&&(n=br(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=br(n.handleEvent,n)}return 2147483647<Number(e)?-1:ot.setTimeout(n,e||0)}function p4(n){n.g=nD(()=>{n.g=null,n.i&&(n.i=!1,p4(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vi(ow,Bi),(De=ow.prototype).ga=!1,De.T=null,De.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),er(this,"tick"),this.ga&&(tD(this),this.start()))}},De.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},De.N=function(){ow.$.N.call(this),tD(this),delete this.g};class kne extends Yl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:p4(this)}N(){super.N(),this.g&&(ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function u_(n){Yl.call(this),this.h=n,this.g={}}Vi(u_,Yl);var m4=[];function g4(n,e,t,i){Array.isArray(t)||(t&&(m4[0]=t.toString()),t=m4);for(var r=0;r<t.length;r++){var o=a4(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function _4(n){zx(n.g,function(e,t){this.g.hasOwnProperty(t)&&Kx(e)},n),n.g={}}function sw(){this.g=!0}function gf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nne(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return Jx(t)}catch{return e}}(n,t)+(i?" "+i:"")})}u_.prototype.N=function(){u_.$.N.call(this),_4(this)},u_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sw.prototype.Ea=function(){this.g=!1},sw.prototype.info=function(){};var Au={},y4=null;function aw(){return y4=y4||new Bi}function v4(n){wr.call(this,Au.Ta,n)}function d_(n){const e=aw();er(e,new v4(e))}function b4(n,e){wr.call(this,Au.STAT_EVENT,n),this.stat=e}function Hr(n){const e=aw();er(e,new b4(e,n))}function w4(n,e){wr.call(this,Au.Ua,n),this.size=e}function h_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ot.setTimeout(function(){n()},e)}Au.Ta="serverreachability",Vi(v4,wr),Au.STAT_EVENT="statevent",Vi(b4,wr),Au.Ua="timingevent",Vi(w4,wr);var lw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},E4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iD(){}function T4(){}iD.prototype.h=null;var sD,f_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rD(){wr.call(this,"d")}function oD(){wr.call(this,"c")}function cw(){}function p_(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new u_(this),this.P=Fne,this.V=new ow(n=Vx?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new I4}function I4(){this.i=null,this.g="",this.h=!1}Vi(rD,wr),Vi(oD,wr),Vi(cw,iD),cw.prototype.g=function(){return new XMLHttpRequest},cw.prototype.i=function(){return{}},sD=new cw;var Fne=45e3,x4={},aD={};function lD(n,e,t){n.L=1,n.A=fw(za(e)),n.u=t,n.S=!0,D4(n,null)}function D4(n,e){n.G=Date.now(),m_(n),n.B=za(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),L4(t.i,"t",i),n.o=0,t=n.l.J,n.h=new I4,n.g=l5(n.l,t?e:null,!n.u),0<n.O&&(n.M=new kne(br(n.Pa,n,n.g),n.O)),g4(n.U,n.g,"readystatechange",n.nb),e=n.I?r4(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),d_(),function Pne(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var m=h.split("_");s=2<=m.length&&"type"==m[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function S4(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function A4(n,e,t){let r,i=!0;for(;!n.J&&n.o<t.length;){if(r=Lne(n,t),r==aD){4==e&&(n.s=4,Hr(14),i=!1),gf(n.j,n.m,null,"[Incomplete Response]");break}if(r==x4){n.s=4,Hr(15),gf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}gf(n.j,n.m,r,null),cD(n,r)}S4(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,Hr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),gD(e),e.M=!0,Hr(11))):(gf(n.j,n.m,t,"[Invalid Chunked Response]"),Mu(n),g_(n))}function Lne(n,e){var t=n.o,i=e.indexOf("\n",t);return-1==i?aD:(t=Number(e.substring(t,i)),isNaN(t)?x4:(i+=1)+t>e.length?aD:(e=e.slice(i,i+t),n.o=i+t,e))}function m_(n){n.Y=Date.now()+n.P,M4(n,n.P)}function M4(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=h_(br(n.lb,n),e)}function uw(n){n.C&&(ot.clearTimeout(n.C),n.C=null)}function g_(n){0==n.l.H||n.J||r5(n.l,n)}function Mu(n){uw(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,tD(n.V),_4(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function cD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||uD(t.i,n)))if(!n.K&&uD(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;vw(t),_w(t)}mD(t),Hr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=h_(br(t.ib,t),6e3));if(1>=U4(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Pu(t,11)}else if((n.K||t.g==n)&&vw(t),!o_(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const h=c[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const m=c[4];null!=m&&(t.Ga=m,t.l.info("SVER="+t.Ga));const y=c[5];null!=y&&"number"==typeof y&&0<y&&(t.L=i=1.5*y,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const b=n.g;if(b){const C=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var o=i.i;o.g||-1==C.indexOf("spdy")&&-1==C.indexOf("quic")&&-1==C.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(dD(o,o.h),o.h=null))}if(i.F){const T=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(i.Da=T,Sn(i.I,i.F,T))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=a5(i,i.J?i.pa:null,i.Y),s.K){j4(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.C&&(uw(a),m_(a)),i.g=s}else t5(i);0<t.j.length&&yw(t)}else"stop"!=c[0]&&"close"!=c[0]||Pu(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Pu(t,7):pD(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}d_()}catch{}}function k4(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Jb(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Bne(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Jb(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Vne(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Jb(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(De=p_.prototype).setTimeout=function(n){this.P=n},De.nb=function(n){n=n.target;const e=this.M;e&&3==aa(n)?e.l():this.Pa(n)},De.Pa=function(n){try{if(n==this.g)e:{const h=aa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||Vx||this.g&&(this.h.h||this.g.ja()||K4(this.g)))){this.J||4!=h||7==e||d_(),uw(this);var t=this.g.da();this.ca=t;t:if(S4(this)){var i=K4(this.g);n="";var r=i.length,o=4==aa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mu(this),g_(this);var s="";break t}this.h.i=new ot.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function Rne(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!o_(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,Hr(12),Mu(this),g_(this);break e}gf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cD(this,t)}this.S?(A4(this,h,s),Vx&&this.i&&3==h&&(g4(this.U,this.V,"tick",this.mb),this.V.start())):(gf(this.j,this.m,s,null),cD(this,s)),4==h&&Mu(this),this.i&&!this.J&&(4==h?r5(this.l,this):(this.i=!1,m_(this)))}else(function iie(n){const e={};n=(n.g&&2<=aa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(o_(n[i]))continue;var t=Sne(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function wne(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,Hr(12)):(this.s=0,Hr(13)),Mu(this),g_(this)}}}catch{}},De.mb=function(){if(this.g){var n=aa(this.g),e=this.g.ja();this.o<e.length&&(uw(this),A4(this,n,e),this.i&&4!=n&&m_(this))}},De.cancel=function(){this.J=!0,Mu(this)},De.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function One(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(d_(),Hr(17)),Mu(this),this.s=2,g_(this)):M4(this,this.Y-n)};var P4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ku(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ku){this.h=n.h,dw(this,n.j),this.s=n.s,this.g=n.g,hw(this,n.m),this.l=n.l;var e=n.i,t=new v_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),R4(this,t),this.o=n.o}else n&&(e=String(n).match(P4))?(this.h=!1,dw(this,e[1]||"",!0),this.s=__(e[2]||""),this.g=__(e[3]||"",!0),hw(this,e[4]),this.l=__(e[5]||"",!0),R4(this,e[6]||"",!0),this.o=__(e[7]||"")):(this.h=!1,this.i=new v_(null,this.h))}function za(n){return new ku(n)}function dw(n,e,t){n.j=t?__(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function hw(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function R4(n,e,t){e instanceof v_?(n.i=e,function Gne(n,e){e&&!n.j&&(Ql(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(N4(this,i),L4(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=y_(e,zne)),n.i=new v_(e,n.h))}function Sn(n,e,t){n.i.set(e,t)}function fw(n){return Sn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function __(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function y_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jne),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jne(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ku.prototype.toString=function(){var n=[],e=this.j;e&&n.push(y_(e,O4,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(y_(e,O4,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(y_(t,"/"==t.charAt(0)?$ne:Hne,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",y_(t,qne)),n.join("")};var O4=/[#\/\?@]/g,Hne=/[#\?:]/g,$ne=/[#\?]/g,zne=/[#\?@]/g,qne=/#/g;function v_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ql(n){n.g||(n.g=new Map,n.h=0,n.i&&function Une(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function N4(n,e){Ql(n),e=_f(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function F4(n,e){return Ql(n),e=_f(n,e),n.g.has(e)}function L4(n,e,t){N4(n,e),0<t.length&&(n.i=null,n.g.set(_f(n,e),Fx(t)),n.h+=t.length)}function _f(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function V4(n){this.l=n||Zne,n=ot.PerformanceNavigationTiming?0<(n=ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ot.g&&ot.g.Ka&&ot.g.Ka()&&ot.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(De=v_.prototype).add=function(n,e){Ql(this),this.i=null,n=_f(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},De.forEach=function(n,e){Ql(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},De.ta=function(){Ql(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},De.Z=function(n){Ql(this);let e=[];if("string"==typeof n)F4(this,n)&&(e=e.concat(this.g.get(_f(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},De.set=function(n,e){return Ql(this),this.i=null,F4(this,n=_f(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},De.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},De.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var Zne=10;function B4(n){return!!n.h||!!n.g&&n.g.size>=n.j}function U4(n){return n.h?1:n.g?n.g.size:0}function uD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dD(n,e){n.g?n.g.add(e):n.h=e}function j4(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function H4(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Fx(n.i)}V4.prototype.cancel=function(){if(this.i=H4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Kne=class{stringify(n){return ot.JSON.stringify(n,void 0)}parse(n){return ot.JSON.parse(n,void 0)}};function Yne(){this.g=new Kne}function Qne(n,e,t){const i=t||"";try{k4(n,function(r,o){let s=r;r_(r)&&(s=Jx(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function pw(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function b_(n){this.l=n.ec||null,this.j=n.ob||!1}function mw(n,e){Bi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=hD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vi(b_,iD),b_.prototype.g=function(){return new mw(this.l,this.j)},b_.prototype.i=function(n){return function(){return n}}({}),Vi(mw,Bi);var hD=0;function $4(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function w_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,E_(n)}function E_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(De=mw.prototype).open=function(n,e){if(this.readyState!=hD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,E_(this)},De.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ot).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},De.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,w_(this)),this.readyState=hD},De.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,E_(this)),this.g&&(this.readyState=3,E_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ot.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$4(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},De.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?w_(this):E_(this),3==this.readyState&&$4(this)}},De.Za=function(n){this.g&&(this.response=this.responseText=n,w_(this))},De.Ya=function(n){this.g&&(this.response=n,w_(this))},De.ka=function(){this.g&&w_(this)},De.setRequestHeader=function(n,e){this.v.append(n,e)},De.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},De.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(mw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Jne=ot.JSON.parse;function Gn(n){Bi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=z4,this.L=this.M=!1}Vi(Gn,Bi);var z4="",eie=/^https?$/i,tie=["POST","PUT"];function q4(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,G4(n),gw(n)}function G4(n){n.F||(n.F=!0,er(n,"complete"),er(n,"error"))}function W4(n){if(n.h&&typeof Ox<"u"&&(!n.C[1]||4!=aa(n)||2!=n.da()))if(n.v&&4==aa(n))nD(n.La,0,n);else if(er(n,"readystatechange"),4==aa(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(P4)[1]||null;!r&&ot.self&&ot.self.location&&(r=ot.self.location.protocol.slice(0,-1)),i=!eie.test(r?r.toLowerCase():"")}t=i}if(t)er(n,"complete"),er(n,"success");else{n.m=6;try{var o=2<aa(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",G4(n)}}finally{gw(n)}}}function gw(n,e){if(n.g){Z4(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||er(n,"ready");try{t.onreadystatechange=i}catch{}}}function Z4(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ot.clearTimeout(n.A),n.A=null)}function aa(n){return n.g?n.g.readyState:0}function K4(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case z4:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Y4(n){let e="";return zx(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function fD(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Y4(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Sn(n,e,t))}function C_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Q4(n){this.Ga=0,this.j=[],this.l=new sw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=C_("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=C_("baseRetryDelayMs",5e3,n),this.hb=C_("retryDelaySeedMs",1e4,n),this.eb=C_("forwardChannelMaxRetries",2,n),this.xa=C_("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new V4(n&&n.concurrentRequestLimit),this.Ja=new Yne,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pD(n){if(X4(n),3==n.H){var e=n.W++,t=za(n.I);if(Sn(t,"SID",n.K),Sn(t,"RID",e),Sn(t,"TYPE","terminate"),T_(n,t),(e=new p_(n,n.l,e)).L=2,e.A=fw(za(t)),t=!1,ot.navigator&&ot.navigator.sendBeacon)try{t=ot.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&ot.Image&&((new Image).src=e.A,t=!0),t||(e.g=l5(e.l,null),e.g.ha(e.A)),e.G=Date.now(),m_(e)}s5(n)}function _w(n){n.g&&(gD(n),n.g.cancel(),n.g=null)}function X4(n){_w(n),n.u&&(ot.clearTimeout(n.u),n.u=null),vw(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ot.clearTimeout(n.m),n.m=null)}function yw(n){if(!B4(n.i)&&!n.m){n.m=!0;var e=n.Na;l_||f4(),c_||(l_(),c_=!0),eD.add(e,n),n.C=0}}function J4(n,e){var t;t=e?e.m:n.W++;const i=za(n.I);Sn(i,"SID",n.K),Sn(i,"RID",t),Sn(i,"AID",n.V),T_(n,i),n.o&&n.s&&fD(i,n.o,n.s),t=new p_(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=e5(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),dD(n.i,t),lD(t,i,e)}function T_(n,e){n.na&&zx(n.na,function(t,i){Sn(e,i,t)}),n.h&&k4({},function(t,i){Sn(e,i,t)})}function e5(n,e,t){t=Math.min(n.j.length,t);var i=n.h?br(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=r[l].g;const h=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{Qne(h,s,"req"+c+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function t5(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;l_||f4(),c_||(l_(),c_=!0),eD.add(e,n),n.A=0}}function mD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=h_(br(n.Ma,n),o5(n,n.A)),n.A++,0))}function gD(n){null!=n.B&&(ot.clearTimeout(n.B),n.B=null)}function n5(n){n.g=new p_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=za(n.wa);Sn(e,"RID","rpc"),Sn(e,"SID",n.K),Sn(e,"AID",n.V),Sn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Sn(e,"TO",n.qa),Sn(e,"TYPE","xmlhttp"),T_(n,e),n.o&&n.s&&fD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=fw(za(e)),t.u=null,t.S=!0,D4(t,n)}function vw(n){null!=n.v&&(ot.clearTimeout(n.v),n.v=null)}function r5(n,e){var t=null;if(n.g==e){vw(n),gD(n),n.g=null;var i=2}else{if(!uD(n.i,e))return;t=e.F,j4(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var r=n.C;er(i=aw(),new w4(i,t)),yw(n)}else t5(n);else if(3==(r=e.s)||0==r&&0<e.ca||!(1==i&&function rie(n,e){return!(U4(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=h_(br(n.Na,n,e),o5(n,n.C)),n.C++,0)))}(n,e)||2==i&&mD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Pu(n,5);break;case 4:Pu(n,10);break;case 3:Pu(n,6);break;default:Pu(n,2)}}function o5(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Pu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=br(n.pb,n);t||(t=new ku("//www.google.com/images/cleardot.gif"),ot.location&&"http"==ot.location.protocol||dw(t,"https"),fw(t)),function Xne(n,e){const t=new sw;if(ot.Image){const i=new Image;i.onload=ew(pw,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ew(pw,t,i,"TestLoadImage: error",!1,e),i.onabort=ew(pw,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ew(pw,t,i,"TestLoadImage: timeout",!1,e),ot.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Hr(2);n.H=0,n.h&&n.h.za(e),s5(n),X4(n)}function s5(n){if(n.H=0,n.ma=[],n.h){const e=H4(n.i);(0!=e.length||0!=n.j.length)&&(X3(n.ma,e),X3(n.ma,n.j),n.i.i.length=0,Fx(n.j),n.j.length=0),n.h.ya()}}function a5(n,e,t){var i=t instanceof ku?za(t):new ku(t);if(""!=i.g)e&&(i.g=e+"."+i.g),hw(i,i.m);else{var r=ot.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new ku(null);i&&dw(o,i),e&&(o.g=e),r&&hw(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&Sn(i,t,e),Sn(i,"VER",n.ra),T_(n,i),i}function l5(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gn(n.Ha&&!n.va?new b_({ob:t}):n.va)).Oa(n.J),e}function c5(){}function bw(){if(mf&&!(10<=Number(_ne)))throw Error("Environmental error: no available transport.")}function bo(n,e){Bi.call(this),this.g=new Q4(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!o_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!o_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new yf(this)}function u5(n){rD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function d5(){oD.call(this),this.status=1}function yf(n){this.g=n}function Es(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _D(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Jt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(De=Gn.prototype).Oa=function(n){this.M=n},De.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sD.g(),this.C=function C4(n){return n.h||(n.h=n.i())}(this.u?this.u:sD),this.g.onreadystatechange=br(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void q4(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=ot.FormData&&n instanceof ot.FormData,!(0<=Q3(tie,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Z4(this),0<this.B&&((this.L=function nie(n){return mf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=br(this.ua,this)):this.A=nD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){q4(this,o)}},De.ua=function(){typeof Ox<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,er(this,"timeout"),this.abort(8))},De.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,er(this,"complete"),er(this,"abort"),gw(this))},De.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gw(this,!0)),Gn.$.N.call(this)},De.La=function(){this.s||(this.G||this.v||this.l?W4(this):this.kb())},De.kb=function(){W4(this)},De.isActive=function(){return!!this.g},De.da=function(){try{return 2<aa(this)?this.g.status:-1}catch{return-1}},De.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},De.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Jne(e)}},De.Ia=function(){return this.m},De.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(De=Q4.prototype).ra=8,De.H=1,De.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new p_(this,this.l,n);let o=this.s;if(this.U&&(o?(o=r4(o),s4(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=e5(this,r,e),Sn(t=za(this.I),"RID",n),Sn(t,"CVER",22),this.F&&Sn(t,"X-HTTP-Session-Id",this.F),T_(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(Y4(o)))+"&"+e:this.o&&fD(t,this.o,o)),dD(this.i,r),this.bb&&Sn(t,"TYPE","init"),this.P?(Sn(t,"$req",e),Sn(t,"SID","null"),r.aa=!0,lD(r,t,null)):lD(r,t,e),this.H=2}}else 3==this.H&&(n?J4(this,n):0==this.j.length||B4(this.i)||J4(this))},De.Ma=function(){if(this.u=null,n5(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=h_(br(this.jb,this),n)}},De.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hr(10),_w(this),n5(this))},De.ib=function(){null!=this.v&&(this.v=null,_w(this),mD(this),Hr(19))},De.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Hr(2)):(this.l.info("Failed to ping google.com"),Hr(1))},De.isActive=function(){return!!this.h&&this.h.isActive(this)},(De=c5.prototype).Ba=function(){},De.Aa=function(){},De.za=function(){},De.ya=function(){},De.isActive=function(){return!0},De.Va=function(){},bw.prototype.g=function(n,e){return new bo(n,e)},Vi(bo,Bi),bo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Hr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=a5(n,null,n.Y),yw(n)},bo.prototype.close=function(){pD(this.g)},bo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Jx(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yw(e)},bo.prototype.N=function(){this.g.h=null,delete this.j,pD(this.g),delete this.g,bo.$.N.call(this)},Vi(u5,rD),Vi(d5,oD),Vi(yf,c5),yf.prototype.Ba=function(){er(this.g,"a")},yf.prototype.Aa=function(n){er(this.g,new u5(n))},yf.prototype.za=function(n){er(this.g,new d5)},yf.prototype.ya=function(){er(this.g,"b")},Vi(Es,function oie(){this.blockSize=-1}),Es.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Es.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)_D(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){_D(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){_D(this,i),r=0;break}}this.h=r,this.i+=e},Es.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var sie={};function yD(n){return-128<=n&&128>n?function pne(n,e){var t=sie;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Jt([0|e],0>e?-1:0)}):new Jt([0|n],0>n?-1:0)}function la(n){if(isNaN(n)||!isFinite(n))return vf;if(0>n)return tr(la(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=vD;return new Jt(e,0)}var vD=4294967296,vf=yD(0),bD=yD(1),f5=yD(16777216);function qa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Yo(n){return-1==n.h}function tr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Jt(t,~n.h).add(bD)}function ww(n,e){return n.add(tr(e))}function Ew(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function I_(n,e){this.g=n,this.h=e}function Cw(n,e){if(qa(e))throw Error("division by zero");if(qa(n))return new I_(vf,vf);if(Yo(n))return e=Cw(tr(n),e),new I_(tr(e.g),tr(e.h));if(Yo(e))return e=Cw(n,tr(e)),new I_(tr(e.g),e.h);if(30<n.g.length){if(Yo(n)||Yo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=bD,i=e;0>=i.X(n);)t=p5(t),i=p5(i);var r=bf(t,1),o=bf(i,1);for(i=bf(i,2),t=bf(t,2);!qa(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=bf(i,1),t=bf(t,1)}return e=ww(n,r.R(e)),new I_(r,e)}for(r=vf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=la(t)).R(e);Yo(s)||0<s.X(n);)s=(o=la(t-=i)).R(e);qa(o)&&(o=bD),r=r.add(o),n=ww(n,s)}return new I_(r,n)}function p5(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Jt(t,n.h)}function bf(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Jt(r,n.h)}(De=Jt.prototype).ea=function(){if(Yo(this))return-tr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:vD+i)*e,e*=vD}return n},De.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(qa(this))return"0";if(Yo(this))return"-"+tr(this).toString(n);for(var e=la(Math.pow(n,6)),t=this,i="";;){var r=Cw(t,e).g,o=((0<(t=ww(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(qa(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},De.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},De.X=function(n){return Yo(n=ww(this,n))?-1:qa(n)?0:1},De.abs=function(){return Yo(this)?tr(this):this},De.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Jt(t,-2147483648&t[t.length-1]?-1:0)},De.R=function(n){if(qa(this)||qa(n))return vf;if(Yo(this))return Yo(n)?tr(this).R(tr(n)):tr(tr(this).R(n));if(Yo(n))return tr(this.R(tr(n)));if(0>this.X(f5)&&0>n.X(f5))return la(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,Ew(t,2*i+2*r),t[2*i+2*r+1]+=o*l,Ew(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Ew(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Ew(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Jt(t,0)},De.gb=function(n){return Cw(this,n).h},De.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Jt(t,this.h&n.h)},De.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Jt(t,this.h|n.h)},De.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Jt(t,this.h^n.h)},bw.prototype.createWebChannel=bw.prototype.g,bo.prototype.send=bo.prototype.u,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,lw.NO_ERROR=0,lw.TIMEOUT=8,lw.HTTP_ERROR=6,E4.COMPLETE="complete",T4.EventType=f_,f_.OPEN="a",f_.CLOSE="b",f_.ERROR="c",f_.MESSAGE="d",Bi.prototype.listen=Bi.prototype.O,Gn.prototype.listenOnce=Gn.prototype.P,Gn.prototype.getLastError=Gn.prototype.Sa,Gn.prototype.getLastErrorCode=Gn.prototype.Ia,Gn.prototype.getStatus=Gn.prototype.da,Gn.prototype.getResponseJson=Gn.prototype.Wa,Gn.prototype.getResponseText=Gn.prototype.ja,Gn.prototype.send=Gn.prototype.ha,Gn.prototype.setWithCredentials=Gn.prototype.Oa,Es.prototype.digest=Es.prototype.l,Es.prototype.reset=Es.prototype.reset,Es.prototype.update=Es.prototype.j,Jt.prototype.add=Jt.prototype.add,Jt.prototype.multiply=Jt.prototype.R,Jt.prototype.modulo=Jt.prototype.gb,Jt.prototype.compare=Jt.prototype.X,Jt.prototype.toNumber=Jt.prototype.ea,Jt.prototype.toString=Jt.prototype.toString,Jt.prototype.getBits=Jt.prototype.D,Jt.fromNumber=la,Jt.fromString=function h5(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return tr(h5(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=la(Math.pow(e,8)),i=vf,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=la(Math.pow(e,o)),i=i.R(o).add(la(s))):i=(i=i.R(t)).add(la(s))}return i};var aie=ws.createWebChannelTransport=function(){return new bw},lie=ws.getStatEventTarget=function(){return aw()},wD=ws.ErrorCode=lw,cie=ws.EventType=E4,uie=ws.Event=Au,m5=ws.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tw=(ws.FetchXmlHttpFactory=b_,ws.WebChannel=T4),die=ws.XhrIo=Gn,hie=ws.Md5=Es,wf=ws.Integer=Jt;const g5="@firebase/firestore";class Ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid"),Ui.MOCK_USER=new Ui("mock-user");let Ef="10.8.1";const Xl=new oa.Yd("@firebase/firestore");function Cf(){return Xl.logLevel}function _e(n,...e){if(Xl.logLevel<=oa.in.DEBUG){const t=e.map(ED);Xl.debug(`Firestore (${Ef}): ${n}`,...t)}}function ti(n,...e){if(Xl.logLevel<=oa.in.ERROR){const t=e.map(ED);Xl.error(`Firestore (${Ef}): ${n}`,...t)}}function ro(n,...e){if(Xl.logLevel<=oa.in.WARN){const t=e.map(ED);Xl.warn(`Firestore (${Ef}): ${n}`,...t)}}function ED(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Pe(n="Unexpected state"){const e=`FIRESTORE (${Ef}) INTERNAL ASSERTION FAILED: `+n;throw ti(e),new Error(e)}function Ue(n,e){n||Pe()}function we(n,e){return n}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _5{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ui.UNAUTHENTICATED))}shutdown(){}}class gie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _ie{constructor(e){this.t=e,this.currentUser=Ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable((0,G.Z)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ue("string"==typeof i.accessToken),new _5(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(null===e||"string"==typeof e),new Ui(e)}}class yie{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ui.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vie{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new yie(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bie{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue("string"==typeof t.token),this.R=t.token,new y5(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wie(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class v5{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=wie(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function it(n,e){return n<e?-1:n>e?1:0}function Tf(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function b5(n){return n+"\0"}class Nn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Nn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new je(e)}static min(){return new je(new Nn(0,0))}static max(){return new je(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class x_{constructor(e,t,i){void 0===t?t=0:t>e.length&&Pe(),void 0===i?i=e.length-t:i>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===x_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof x_?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class At extends x_{construct(e,t,i){return new At(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new At(t)}static emptyPath(){return new At([])}}const Eie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends x_{construct(e,t,i){return new An(e,t,i)}static isValidIdentifier(e){return Eie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new An(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new me(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new me(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new me(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new me(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(t)}static emptyPath(){return new An([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(At.fromString(e))}static fromName(e){return new Ce(At.fromString(e).popFirst(5))}static empty(){return new Ce(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===At.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new At(e.slice()))}}class If{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function CD(n){return n.fields.find(e=>2===e.kind)}function Ru(n){return n.fields.filter(e=>2!==e.kind)}If.UNKNOWN_ID=-1;class Ou{constructor(e,t){this.fieldPath=e,this.kind=t}}class xf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xf(0,wo.min())}}function w5(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=je.fromTimestamp(1e9===i?new Nn(t+1,0):new Nn(t,i));return new wo(r,Ce.empty(),e)}function E5(n){return new wo(n.readTime,n.key,-1)}class wo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new wo(je.min(),Ce.empty(),-1)}static max(){return new wo(je.max(),Ce.empty(),-1)}}function TD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ce.comparator(n.documentKey,e.documentKey),0!==t?t:it(n.largestBatchId,e.largestBatchId))}const C5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Jl(n){return ID.apply(this,arguments)}function ID(){return ID=(0,G.Z)(function*(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==C5)throw n;_e("LocalStore","Unexpectedly lost primary lease")}),ID.apply(this,arguments)}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,i)=>{t(e)})}static reject(e){return new z((t,i)=>{i(e)})}static waitFor(e){return new z((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=z.resolve(!1);for(const i of e)t=t.next(r=>r?z.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new z((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(h=>{s[c]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new z((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Iw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Mi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new D_(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=xD(i.target.error);this.V.reject(new D_(e,r))}}static open(e,t,i,r){try{return new Iw(t,e.transaction(r,i))}catch(o){throw new D_(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(_e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xie(t)}}class Qo{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===Qo.S((0,qt.z$)())&&ti("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _e("SimpleDb","Removing database:",e),Nu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,qt.hl)())return!1;if(Qo.C())return!0;const e=(0,qt.z$)(),t=Qo.S(e),i=0<t&&t<10,r=Qo.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,G.Z)(function*(){return t.db||(_e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new D_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new me(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new me(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new D_(e,a))},o.onupgradeneeded=s=>{_e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{_e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,G.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const l=Iw.open(o.db,e,s?"readonly":"readwrite",i),c=r(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),z.reject(h))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,h="FirebaseError"!==c.name&&a<3;if(_e("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),o.close(),!h)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Iie{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Nu(this.k.delete())}}class D_ extends me{constructor(e,t){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ec(n){return"IndexedDbTransactionError"===n.name}class xie{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(_e("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(_e("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Nu(i)}add(e){return _e("SimpleDb","ADD",this.store.name,e,e),Nu(this.store.add(e))}get(e){return Nu(this.store.get(e)).next(t=>(void 0===t&&(t=null),_e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return _e("SimpleDb","DELETE",this.store.name,e),Nu(this.store.delete(e))}count(){return _e("SimpleDb","COUNT",this.store.name),Nu(this.store.count())}W(e,t){const i=this.options(e,t),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(i.range);return new z((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(i),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new z((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){_e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new z((i,r)=>{t.onerror=o=>{const s=xD(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new z((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new Iie(a),c=t(a.primaryKey,a.value,l);if(c instanceof z){const h=c.catch(m=>(l.done(),z.reject(m)));i.push(h)}l.isDone?r():null===l.$?a.continue():a.continue(l.$)}}).next(()=>z.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nu(n){return new z((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=xD(i.target.error);t(r)}})}let I5=!1;function xD(n){const e=Qo.S((0,qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return I5||(I5=!0,setTimeout(()=>{throw i},0)),i}}return n}class Die{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;_e("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,G.Z)(function*(){t.task=null;try{_e("IndexBackfiller",`Documents written: ${yield t.X.te()}`)}catch(i){ec(i)?_e("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Jl(i)}yield t.ee(6e4)}))}}class Sie{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,G.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return z.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return _e("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(_e("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=E5(o);TD(s,i)>0&&(i=s)}),new wo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Eo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function S_(n){return null==n}function A_(n){return 0===n&&1/n==-1/0}function x5(n){return"number"==typeof n&&Number.isInteger(n)&&!A_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Er(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=D5(e)),e=Aie(n.get(t),e);return D5(e)}function Aie(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function D5(n){return n+"\x01\x01"}function ca(n){const e=n.length;if(Ue(e>=2),2===e)return Ue("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),At.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&Pe(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:Pe()}o=s+2}return new At(i)}const S5=["userId","batchId"];function xw(n,e){return[n,Er(e)]}function A5(n,e,t){return[n,Er(e),t]}const Mie={},kie=["prefixPath","collectionGroup","readTime","documentId"],Pie=["prefixPath","collectionGroup","documentId"],Rie=["collectionGroup","readTime","prefixPath","documentId"],Oie=["canonicalId","targetId"],Nie=["targetId","path"],Fie=["path","targetId"],Lie=["collectionId","parent"],Vie=["indexId","uid"],Bie=["uid","sequenceNumber"],Uie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jie=["indexId","uid","orderedDocumentKey"],Hie=["userId","collectionPath","documentId"],$ie=["userId","collectionPath","largestBatchId"],zie=["userId","collectionGroup","largestBatchId"],M5=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qie=[...M5,"documentOverlays"],k5=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],P5=k5,Gie=[...P5,"indexConfiguration","indexState","indexEntries"];class DD extends T5{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function ji(n,e){const t=we(n);return Qo.M(t.ae,e)}function R5(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function tc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function O5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class wn{constructor(e,t){this.comparator=e,this.root=t||nr.EMPTY}insert(e,t){return new wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dw(this.root,e,this.comparator,!0)}}class Dw{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??nr.RED,this.left=r??nr.EMPTY,this.right=o??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new nr(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return nr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1,nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,i,r,o){return this}insert(e,t,i){return new nr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class on{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new N5(this.data.getIterator())}getIteratorFrom(e){return new N5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new on(this.comparator);return t.data=e,t}}class N5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Df(n){return n.hasNext()?n.getNext():void 0}class oo{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new oo([])}unionWith(e){let t=new on(An.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new oo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class F5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ki{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new F5("Invalid base64 string: "+o):o}}(e);return new ki(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new ki(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const Zie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nc(n){if(Ue(!!n),"string"==typeof n){let e=0;const t=Zie.exec(n);if(Ue(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wn(n.seconds),nanos:Wn(n.nanos)}}function Wn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ga(n){return"string"==typeof n?ki.fromBase64String(n):ki.fromUint8Array(n)}function Sw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Aw(n){const e=n.mapValue.fields.__previous_value__;return Sw(e)?Aw(e):e}function M_(n){const e=nc(n.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}class Kie{constructor(e,t,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ic{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ic("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}const rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Mw={nullValue:"NULL_VALUE"};function oc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sw(n)?4:U5(n)?9007199254740991:10:Pe()}function ua(n,e){if(n===e)return!0;const t=oc(n);if(t!==oc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return M_(n).isEqual(M_(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=nc(r.timestampValue),a=nc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ga(n.bytesValue).isEqual(Ga(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Wn(r.geoPointValue.latitude)===Wn(o.geoPointValue.latitude)&&Wn(r.geoPointValue.longitude)===Wn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Wn(r.integerValue)===Wn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Wn(r.doubleValue),a=Wn(o.doubleValue);return s===a?A_(s)===A_(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Tf(n.arrayValue.values||[],e.arrayValue.values||[],ua);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(R5(s)!==R5(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!ua(s[l],a[l])))return!1;return!0}(n,e);default:return Pe()}var o}function k_(n,e){return void 0!==(n.values||[]).find(t=>ua(t,e))}function sc(n,e){if(n===e)return 0;const t=oc(n),i=oc(e);if(t!==i)return it(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return it(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Wn(o.integerValue||o.doubleValue),l=Wn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return L5(n.timestampValue,e.timestampValue);case 4:return L5(M_(n),M_(e));case 5:return it(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Ga(o),l=Ga(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=it(a[c],l[c]);if(0!==h)return h}return it(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=it(Wn(o.latitude),Wn(s.latitude));return 0!==a?a:it(Wn(o.longitude),Wn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=sc(a[c],l[c]);if(h)return h}return it(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===rc.mapValue&&s===rc.mapValue)return 0;if(o===rc.mapValue)return 1;if(s===rc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let m=0;m<l.length&&m<h.length;++m){const y=it(l[m],h[m]);if(0!==y)return y;const b=sc(a[l[m]],c[h[m]]);if(0!==b)return b}return it(l.length,h.length)}(n.mapValue,e.mapValue);default:throw Pe()}}function L5(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return it(n,e);const t=nc(n),i=nc(e),r=it(t.seconds,i.seconds);return 0!==r?r:it(t.nanos,i.nanos)}function Sf(n){return SD(n)}function SD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=nc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ga(n.bytesValue).toBase64():"referenceValue"in n?Ce.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=SD(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${SD(t.fields[s])}`;return r+"}"}(n.mapValue):Pe()}function Fu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function AD(n){return!!n&&"integerValue"in n}function P_(n){return!!n&&"arrayValue"in n}function V5(n){return!!n&&"nullValue"in n}function B5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pw(n){return!!n&&"mapValue"in n}function R_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return tc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=R_(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=R_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function U5(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Yie(n){return"nullValue"in n?Mw:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fu(ic.empty(),Ce.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Pe()}function Qie(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fu(ic.empty(),Ce.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?rc:Pe()}function j5(n,e){const t=sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function H5(n,e){const t=sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Pw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=R_(t)}setAll(e){let t=An.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=R_(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Pw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ua(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Pw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){tc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new ir(R_(this.value))}}function $5(n){const e=[];return tc(n.fields,(t,i)=>{const r=new An([t]);if(Pw(i)){const o=$5(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new oo(e)}class Mn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Mn(e,0,je.min(),je.min(),je.min(),ir.empty(),0)}static newFoundDocument(e,t,i,r){return new Mn(e,1,t,je.min(),i,r,0)}static newNoDocument(e,t){return new Mn(e,2,t,je.min(),je.min(),ir.empty(),0)}static newUnknownDocument(e,t){return new Mn(e,3,t,je.min(),je.min(),ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ac{constructor(e,t){this.position=e,this.inclusive=t}}function z5(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?Ce.comparator(Ce.fromName(s.referenceValue),t.key):sc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function q5(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ua(n.position[t],e.position[t]))return!1;return!0}class O_{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xie(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class G5{}class Mt extends G5{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Jie(e,t,i):"array-contains"===t?new nre(e,i):"in"===t?new X5(e,i):"not-in"===t?new ire(e,i):"array-contains-any"===t?new rre(e,i):new Mt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new ere(e,i):new tre(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(sc(t,this.value)):null!==t&&oc(this.value)===oc(t)&&this.matchesComparison(sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class en extends G5{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new en(e,t)}matches(e){return Af(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Af(n){return"and"===n.op}function MD(n){return"or"===n.op}function kD(n){return W5(n)&&Af(n)}function W5(n){for(const e of n.filters)if(e instanceof en)return!1;return!0}function PD(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+Sf(n.value);if(kD(n))return n.filters.map(e=>PD(e)).join(",");{const e=n.filters.map(t=>PD(t)).join(",");return`${n.op}(${e})`}}function Z5(n,e){return n instanceof Mt?(i=n,(r=e)instanceof Mt&&i.op===r.op&&i.field.isEqual(r.field)&&ua(i.value,r.value)):n instanceof en?function(i,r){return r instanceof en&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&Z5(s,r.filters[a]),!0)}(n,e):void Pe();var i,r}function K5(n,e){const t=n.filters.concat(e);return en.create(t,n.op)}function Y5(n){return n instanceof Mt?`${(t=n).field.canonicalString()} ${t.op} ${Sf(t.value)}`:n instanceof en?function(t){return t.op.toString()+" {"+t.getFilters().map(Y5).join(" ,")+"}"}(n):"Filter";var t}class Jie extends Mt{constructor(e,t,i){super(e,t,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class ere extends Mt{constructor(e,t){super(e,"in",t),this.keys=Q5(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tre extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=Q5(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Q5(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ce.fromName(i.referenceValue))}class nre extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return P_(t)&&k_(t.arrayValue,this.value)}}class X5 extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&k_(this.value.arrayValue,t)}}class ire extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(k_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!k_(this.value.arrayValue,t)}}class rre extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!P_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>k_(this.value.arrayValue,i))}}class ore{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function RD(n,e=null,t=[],i=[],r=null,o=null,s=null){return new ore(n,e,t,i,r,o,s)}function Lu(n){const e=we(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>PD(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),S_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Sf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Sf(i)).join(",")),e.ce=t}return e.ce}function N_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Xie(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Z5(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!q5(n.startAt,e.startAt)&&q5(n.endAt,e.endAt)}function Rw(n){return Ce.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ow(n,e){return n.filters.filter(t=>t instanceof Mt&&t.field.isEqual(e))}function J5(n,e,t){let i=Mw,r=!0;for(const o of Ow(n,e)){let s=Mw,a=!0;switch(o.op){case"<":case"<=":s=Yie(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Mw}j5({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];j5({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function eB(n,e,t){let i=rc,r=!0;for(const o of Ow(n,e)){let s=rc,a=!0;switch(o.op){case">=":case">":s=Qie(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=rc}H5({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];H5({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class Wa{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function tB(n,e,t,i,r,o,s,a){return new Wa(n,e,t,i,r,o,s,a)}function Mf(n){return new Wa(n)}function nB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function OD(n){return null!==n.collectionGroup}function kf(n){const e=we(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new on(An.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new O_(o,i))}),t.has(An.keyField().canonicalString())||e.le.push(new O_(An.keyField(),i))}return e.le}function $r(n){const e=we(n);return e.he||(e.he=function iB(n,e){if("F"===n.limitType)return RD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new O_(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new ac(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ac(n.startAt.position,n.startAt.inclusive):null;return RD(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,kf(n))),e.he}function ND(n,e){const t=n.filters.concat([e]);return new Wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Nw(n,e,t){return new Wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function F_(n,e){return N_($r(n),$r(e))&&n.limitType===e.limitType}function rB(n){return`${Lu($r(n))}|lt:${n.limitType}`}function Pf(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>Y5(r)).join(", ")}]`),S_(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Sf(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Sf(r)).join(",")),`Target(${i})`}($r(n))}; limitType=${n.limitType})`}function L_(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ce.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of kf(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,l){const c=z5(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,kf(i),r)||i.endAt&&!function(s,a,l){const c=z5(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,kf(i),r)));var i,r}function oB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sB(n){return(e,t)=>{let i=!1;for(const r of kf(n)){const o=sre(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function sre(n,e,t){const i=n.field.isKeyField()?Ce.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?sc(l,c):Pe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}class Za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return O5(this.inner)}size(){return this.innerSize}}const are=new wn(Ce.comparator);function so(){return are}const aB=new wn(Ce.comparator);function V_(...n){let e=aB;for(const t of n)e=e.insert(t.key,t);return e}function lB(n){let e=aB;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function da(){return B_()}function cB(){return B_()}function B_(){return new Za(n=>n.toString(),(n,e)=>n.isEqual(e))}const lre=new wn(Ce.comparator),cre=new on(Ce.comparator);function ft(...n){let e=cre;for(const t of n)e=e.add(t);return e}const ure=new on(it);function FD(){return ure}function uB(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:A_(e)?"-0":e}}function dB(n){return{integerValue:""+n}}function hB(n,e){return x5(e)?dB(e):uB(n,e)}class Fw{constructor(){this._=void 0}}function dre(n,e,t){return n instanceof Rf?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Sw(o)&&(o=Aw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Vu?pB(n,e):n instanceof Bu?mB(n,e):function(r,o){const s=fB(r,o),a=gB(s)+gB(r.Ie);return AD(s)&&AD(r.Ie)?dB(a):uB(r.serializer,a)}(n,e)}function hre(n,e,t){return n instanceof Vu?pB(n,e):n instanceof Bu?mB(n,e):t}function fB(n,e){return n instanceof Of?AD(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class Rf extends Fw{}class Vu extends Fw{constructor(e){super(),this.elements=e}}function pB(n,e){const t=_B(e);for(const i of n.elements)t.some(r=>ua(r,i))||t.push(i);return{arrayValue:{values:t}}}class Bu extends Fw{constructor(e){super(),this.elements=e}}function mB(n,e){let t=_B(e);for(const i of n.elements)t=t.filter(r=>!ua(r,i));return{arrayValue:{values:t}}}class Of extends Fw{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function gB(n){return Wn(n.integerValue||n.doubleValue)}function _B(n){return P_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class U_{constructor(e,t){this.field=e,this.transform=t}}class pre{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Vw{}function yB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ff(n.key,Fn.none()):new Nf(n.key,n.data,Fn.none());{const t=n.data,i=ir.empty();let r=new on(An.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Ka(n.key,i,new oo(r.toArray()),Fn.none())}}function mre(n,e,t){n instanceof Nf?function(r,o,s){const a=r.value.clone(),l=wB(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ka?function(r,o,s){if(!Lw(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=wB(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(bB(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function j_(n,e,t,i){return n instanceof Nf?function(o,s,a,l){if(!Lw(o.precondition,s))return a;const c=o.value.clone(),h=EB(o.fieldTransforms,l,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ka?function(o,s,a,l){if(!Lw(o.precondition,s))return a;const c=EB(o.fieldTransforms,l,s),h=s.data;return h.setAll(bB(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,i):(a=t,Lw(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function gre(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=fB(i.transform,r||null);null!=o&&(null===t&&(t=ir.empty()),t.set(i.field,o))}return t||null}function vB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Tf(i,r,(o,s)=>function fre(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Vu&&r instanceof Vu||i instanceof Bu&&r instanceof Bu?Tf(i.elements,r.elements,ua):i instanceof Of&&r instanceof Of?ua(i.Ie,r.Ie):i instanceof Rf&&r instanceof Rf);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Nf extends Vw{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ka extends Vw{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function wB(n,e,t){const i=new Map;Ue(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,hre(s,a,t[r]))}return i}function EB(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,dre(o,s,e))}return i}class Ff extends Vw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LD extends Vw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VD{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&mre(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=j_(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=j_(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=cB();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=yB(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(je.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ft())}isEqual(e){return this.batchId===e.batchId&&Tf(this.mutations,e.mutations,(t,i)=>vB(t,i))&&Tf(this.baseMutations,e.baseMutations,(t,i)=>vB(t,i))}}class BD{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ue(e.mutations.length===i.length);let r=lre;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new BD(e,t,i,r)}}class UD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yre{constructor(e,t){this.count=e,this.unchangedNames=t}}var fi,Ot;function CB(n){switch(n){default:return Pe();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function TB(n){if(void 0===n)return ti("GRPC error has no .code"),Q.UNKNOWN;switch(n){case fi.OK:return Q.OK;case fi.CANCELLED:return Q.CANCELLED;case fi.UNKNOWN:return Q.UNKNOWN;case fi.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case fi.INTERNAL:return Q.INTERNAL;case fi.UNAVAILABLE:return Q.UNAVAILABLE;case fi.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case fi.NOT_FOUND:return Q.NOT_FOUND;case fi.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case fi.ABORTED:return Q.ABORTED;case fi.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case fi.DATA_LOSS:return Q.DATA_LOSS;default:return Pe()}}(Ot=fi||(fi={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";function IB(){return new TextEncoder}const vre=new wf([4294967295,4294967295],0);function xB(n){const e=IB().encode(n),t=new hie;return t.update(e),new Uint8Array(t.digest())}function DB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wf([t,i],0),new wf([r,o],0)]}class jD{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new H_(`Invalid padding: ${t}`);if(i<0)throw new H_(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new H_(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new H_(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=wf.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(wf.fromNumber(i)));return 1===r.compare(vre)&&(r=new wf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=xB(e),[i,r]=DB(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new jD(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=xB(e),[i,r]=DB(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class H_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $_{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,z_.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new $_(je.min(),r,new wn(it),so(),ft())}}class z_{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new z_(i,t,ft(),ft(),ft())}}class Uw{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class SB{constructor(e,t){this.targetId=e,this.fe=t}}class AB{constructor(e,t,i=ki.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class MB{constructor(){this.ge=0,this.pe=PB(),this.ye=ki.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ft(),t=ft(),i=ft();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Pe()}}),new z_(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=PB()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ue(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class bre{constructor(e){this.Le=e,this.ke=new Map,this.qe=so(),this.Qe=kB(),this.Ke=new wn(it)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(Rw(o))if(0===i){const s=new Ce(o.path);this.We(t,s,Mn.newNoDocument(s,je.min()))}else Ue(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=Ga(i).toUint8Array()}catch(l){if(l instanceof F5)return ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jD(s,r,o)}catch(l){return ro(l instanceof H_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Rw(a.target)){const l=new Ce(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,Mn.newNoDocument(l,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=ft();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new $_(e,t,this.Ke,this.qe,i);return this.qe=so(),this.Qe=kB(),this.Ke=new wn(it),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new MB,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new on(it),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||_e("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new MB),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function kB(){return new wn(Ce.comparator)}function PB(){return new wn(Ce.comparator)}const wre={asc:"ASCENDING",desc:"DESCENDING"},Ere={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cre={and:"AND",or:"OR"};class Tre{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function HD(n,e){return n.useProto3Json||S_(e)?e:{value:e}}function Lf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ire(n,e){return Lf(n,e.toTimestamp())}function ni(n){return Ue(!!n),je.fromTimestamp(function(t){const i=nc(t);return new Nn(i.seconds,i.nanos)}(n))}function $D(n,e){return zD(n,e).canonicalString()}function zD(n,e){const t=(r=n,new At(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===e?t:t.child(e)}function OB(n){const e=At.fromString(n);return Ue(zB(e)),e}function q_(n,e){return $D(n.databaseId,e.path)}function ha(n,e){const t=OB(e);if(t.get(1)!==n.databaseId.projectId)throw new me(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(LB(t))}function NB(n,e){return $D(n.databaseId,e)}function FB(n){const e=OB(n);return 4===e.length?At.emptyPath():LB(e)}function qD(n){return new At(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LB(n){return Ue(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VB(n,e,t){return{name:q_(n,e),fields:t.value.mapValue.fields}}function BB(n,e,t){const i=ha(n,e.name),r=ni(e.updateTime),o=e.createTime?ni(e.createTime):je.min(),s=new ir({mapValue:{fields:e.fields}}),a=Mn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function G_(n,e){let t;if(e instanceof Nf)t={update:VB(n,e.key,e.value)};else if(e instanceof Ff)t={delete:q_(n,e.key)};else if(e instanceof Ka)t={update:VB(n,e.key,e.data),updateMask:Rre(e.fieldMask)};else{if(!(e instanceof LD))return Pe();t={verify:q_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Rf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Of)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Pe()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Ire(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Pe()),t;var o}function GD(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Fn.updateTime(ni(o.updateTime)):void 0!==o.exists?Fn.exists(o.exists):Fn.none():Fn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(Ue("REQUEST_TIME"===a.setToServerValue),l=new Rf):"appendMissingElements"in a?l=new Vu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Bu(a.removeAllFromArray.values||[]):"increment"in a?l=new Of(s,a.increment):Pe();const c=An.fromServerFormat(a.fieldPath);return new U_(c,l)}(n,r)):[];var o;if(e.update){const r=ha(n,e.update.name),o=new ir({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new oo((e.updateMask.fieldPaths||[]).map(h=>An.fromServerFormat(h)));return new Ka(r,o,s,t,i)}return new Nf(r,o,t,i)}if(e.delete){const r=ha(n,e.delete);return new Ff(r,t)}if(e.verify){const r=ha(n,e.verify);return new LD(r,t)}return Pe()}function UB(n,e){return{documents:[NB(n,e.path)]}}function WD(n,e){const t={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=NB(n,r);const o=function(c){if(0!==c.length)return $B(en.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(h=>{return{field:lc((y=h).field),direction:Mre(y.dir)};var y})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=HD(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:t,parent:r};var c}function jB(n){let e=FB(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ue(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(m){const y=HB(m);return y instanceof en&&kD(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(y=>{return new O_(Vf((C=y).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let a=null;t.limit&&(a=function(m){let y;return y="object"==typeof m?m.value:m,S_(y)?null:y}(t.limit));let l=null;var m;t.startAt&&(l=new ac((m=t.startAt).values||[],!!m.before));let c=null;return t.endAt&&(c=function(m){return new ac(m.values||[],!m.before)}(t.endAt)),tB(e,r,s,o,a,"F",l,c)}function HB(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Vf(t.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Vf(t.unaryFilter.field);return Mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vf(t.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vf(t.unaryFilter.field);return Mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(n):void 0!==n.fieldFilter?Mt.create(Vf((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return en.create(t.compositeFilter.filters.map(i=>HB(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Pe()}}(t.compositeFilter.op))}(n):Pe();var t}function Mre(n){return wre[n]}function kre(n){return Ere[n]}function Pre(n){return Cre[n]}function lc(n){return{fieldPath:n.canonicalString()}}function Vf(n){return An.fromServerFormat(n.fieldPath)}function $B(n){return n instanceof Mt?function(t){if("=="===t.op){if(B5(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NAN"}};if(V5(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(B5(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NOT_NAN"}};if(V5(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lc(t.field),op:kre(t.op),value:t.value}}}(n):n instanceof en?function(t){const i=t.getFilters().map(r=>$B(r));return 1===i.length?i[0]:{compositeFilter:{op:Pre(t.op),filters:i}}}(n):Pe()}function Rre(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ya{constructor(e,t,i,r,o=je.min(),s=je.min(),a=ki.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qB{constructor(e){this.ct=e}}function GB(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:q_(o=n.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Lf(o,s.version.toTimestamp()),createTime:Lf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Uu(e.version)};else{if(!e.isUnknownDocument())return Pe();i.unknownDocument={path:t.path.toArray(),version:Uu(e.version)}}var o,s;return i}function jw(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Uu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ju(n){const e=new Nn(n.seconds,n.nanoseconds);return je.fromTimestamp(e)}function Hu(n,e){const t=(e.baseMutations||[]).map(o=>GD(n.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>GD(n.ct,o)),r=Nn.fromMillis(e.localWriteTimeMs);return new VD(e.batchId,r,t,i)}function W_(n){const e=ju(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ju(n.lastLimboFreeSnapshotVersion):je.min();let i;return i=void 0!==n.query.documents?(Ue(1===(o=n.query).documents.length),$r(Mf(FB(o.documents[0])))):function(o){return $r(jB(o))}(n.query),new Ya(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ki.fromBase64String(n.resumeToken));var o}function WB(n,e){const t=Uu(e.snapshotVersion),i=Uu(e.lastLimboFreeSnapshotVersion);let r;r=Rw(e.target)?UB(n.ct,e.target):WD(n.ct,e.target).ut;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lu(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ZD(n){const e=jB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Nw(e,e.limit,"L"):e}function KD(n,e){return new UD(e.largestBatchId,GD(n.ct,e.overlayMutation))}function ZB(n,e){const t=e.path.lastSegment();return[n,Er(e.path.popLast()),t]}function KB(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:Uu(i.readTime),documentKey:Er(i.documentKey.path),largestBatchId:i.largestBatchId}}class Nre{getBundleMetadata(e,t){return YB(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:ju(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return YB(e).put({bundleId:(r=t).id,createTime:Uu(ni(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return QB(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:ZD(o.bundledQuery),readTime:ju(o.readTime)};var o})}saveNamedQuery(e,t){return QB(e).put({name:(r=t).name,readTime:Uu(ni(r.readTime)),bundledQuery:r.bundledQuery});var r}}function YB(n){return ji(n,"bundles")}function QB(n){return ji(n,"namedQueries")}class Hw{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new Hw(e,t.uid||"")}getOverlay(e,t){return Z_(e).get(ZB(this.userId,t)).next(i=>i?KD(this.serializer,i):null)}getOverlays(e,t){const i=da();return z.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new UD(t,s);r.push(this.ht(e,a))}),z.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(Er(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Z_(e).H("collectionPathOverlayIndex",a))}),z.waitFor(o)}getOverlaysForCollection(e,t,i){const r=da(),o=Er(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Z_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=KD(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=da();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Z_(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,h)=>{const m=KD(this.serializer,c);o.size()<r||m.largestBatchId===s?(o.set(m.getKey(),m),s=m.largestBatchId):h.done()}).next(()=>o)}ht(e,t){return Z_(e).put(function(r,o,s){const[a,l,c]=ZB(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:G_(r.ct,s.mutation)}}(this.serializer,this.userId,t))}}function Z_(n){return ji(n,"documentOverlays")}class $u{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Wn(e.integerValue));else if("doubleValue"in e){const i=Wn(e.doubleValue);isNaN(i)?this.Et(t,13):(this.Et(t,15),A_(i)?t.dt(0):t.dt(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Et(t,20),"string"==typeof i?t.At(i):(t.At(`${i.seconds||""}`),t.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ga(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?U5(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Pe()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const i=e.fields||{};this.Et(t,55);for(const r of Object.keys(i))this.Rt(r,t),this.It(i[r],t)}wt(e,t){const i=e.values||[];this.Et(t,50);for(const r of i)this.It(r,t)}gt(e,t){this.Et(t,37),Ce.fromName(e).path.forEach(i=>{this.Et(t,60),this.St(i,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Fre(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function XB(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Fre(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}$u.bt=new $u;class Lre{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ct(i.value),i=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Mt(i.value),i=t.next();this.xt()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{const r=t.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{const r=t.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Bt(e){const t=this.Lt(e),i=XB(t);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),i=XB(t);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Vre{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class Bre{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class K_{constructor(){this.Gt=new Lre,this.zt=new Vre(this.Gt),this.jt=new Bre(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class zu{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new zu(this.indexId,this.documentKey,this.arrayValue,i)}}function cc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=JB(n.arrayValue,e.arrayValue),0!==t?t:(t=JB(n.directionalValue,e.directionalValue),0!==t?t:Ce.comparator(n.documentKey,e.documentKey)))}function JB(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class e6{constructor(e){this.Yt=new on((t,i)=>An.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(e){if(Ue(e.collectionGroup===this.collectionId),this.en)return!1;const t=CD(e);if(void 0!==t&&!this.nn(t))return!1;const i=Ru(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.nn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],i[o]))return!1;return!0}on(){if(this.en)return null;let e=new on(An.comparator);const t=[];for(const i of this.Xt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Ou(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Ou(i.field,0))}for(const i of this.Zt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Ou(i.field,"asc"===i.dir?0:1)));return new If(If.UNKNOWN_ID,this.collectionId,t,xf.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function t6(n){var e,t;if(Ue(n instanceof Mt||n instanceof en),n instanceof Mt){if(n instanceof X5){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Mt.create(n.field,"==",o)))||[];return en.create(r,"or")}return n}const i=n.filters.map(r=>t6(r));return en.create(i,n.op)}function Ure(n){if(0===n.getFilters().length)return[];const e=XD(t6(n));return Ue(n6(e)),YD(e)||QD(e)?[e]:e.getFilters()}function YD(n){return n instanceof Mt}function QD(n){return n instanceof en&&kD(n)}function n6(n){return YD(n)||QD(n)||function(t){if(t instanceof en&&MD(t)){for(const i of t.getFilters())if(!YD(i)&&!QD(i))return!1;return!0}return!1}(n)}function XD(n){if(Ue(n instanceof Mt||n instanceof en),n instanceof Mt)return n;if(1===n.filters.length)return XD(n.filters[0]);const e=n.filters.map(i=>XD(i));let t=en.create(e,n.op);return t=$w(t),n6(t)?t:(Ue(t instanceof en),Ue(Af(t)),Ue(t.filters.length>1),t.filters.reduce((i,r)=>JD(i,r)))}function JD(n,e){let t;return Ue(n instanceof Mt||n instanceof en),Ue(e instanceof Mt||e instanceof en),t=n instanceof Mt?e instanceof Mt?en.create([n,e],"and"):i6(n,e):e instanceof Mt?i6(e,n):function(r,o){if(Ue(r.filters.length>0&&o.filters.length>0),Af(r)&&Af(o))return K5(r,o.getFilters());const s=MD(r)?r:o,a=MD(r)?o:r,l=s.filters.map(c=>JD(c,a));return en.create(l,"or")}(n,e),$w(t)}function i6(n,e){if(Af(e))return K5(e,n.getFilters());{const t=e.filters.map(i=>JD(n,i));return en.create(t,"or")}}function $w(n){if(Ue(n instanceof Mt||n instanceof en),n instanceof Mt)return n;const e=n.getFilters();if(1===e.length)return $w(e[0]);if(W5(n))return n;const t=e.map(r=>$w(r)),i=[];return t.forEach(r=>{r instanceof Mt?i.push(r):r instanceof en&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:en.create(i,n.op)}class jre{constructor(){this._n=new eS}addToCollectionParentIndex(e,t){return this._n.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(wo.min())}updateCollectionGroup(e,t,i){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class eS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new on(At.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new on(At.comparator)).toArray()}}const zw=new Uint8Array(0);class Hre{constructor(e,t){this.databaseId=t,this.an=new eS,this.un=new Za(i=>Lu(i),(i,r)=>N_(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});const o={collectionId:i,parent:Er(r)};return r6(e).put(o)}return z.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[b5(t),""],!1,!0);return r6(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(ca(s.parent))}return i})}addFieldIndex(e,t){const i=Y_(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Uf(e);return o.next(a=>{s.put(KB(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=Y_(e),r=Uf(e),o=Bf(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Y_(e),i=Bf(e),r=Uf(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return z.forEach(this.cn(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new e6(i).on();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=Bf(e);let r=!0;const o=new Map;return z.forEach(this.cn(t),s=>this.ln(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ft();const a=[];return z.forEach(o,(l,c)=>{var H;_e("IndexedDbIndexManager",`Using index ${H=l,`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map(ne=>`${ne.fieldPath}:${ne.kind}`).join(",")}`} to execute ${Lu(t)}`);const h=function(H,ne){const be=CD(ne);if(void 0===be)return null;for(const Le of Ow(H,be.fieldPath))switch(Le.op){case"array-contains-any":return Le.value.arrayValue.values||[];case"array-contains":return[Le.value]}return null}(c,l),m=function(H,ne){const be=new Map;for(const Le of Ru(ne))for(const Ke of Ow(H,Le.fieldPath))switch(Ke.op){case"==":case"in":be.set(Le.fieldPath.canonicalString(),Ke.value);break;case"not-in":case"!=":return be.set(Le.fieldPath.canonicalString(),Ke.value),Array.from(be.values())}return null}(c,l),y=function(H,ne){const be=[];let Le=!0;for(const Ke of Ru(ne)){const jt=0===Ke.kind?J5(H,Ke.fieldPath,H.startAt):eB(H,Ke.fieldPath,H.startAt);be.push(jt.value),Le&&(Le=jt.inclusive)}return new ac(be,Le)}(c,l),b=function(H,ne){const be=[];let Le=!0;for(const Ke of Ru(ne)){const jt=0===Ke.kind?eB(H,Ke.fieldPath,H.endAt):J5(H,Ke.fieldPath,H.endAt);be.push(jt.value),Le&&(Le=jt.inclusive)}return new ac(be,Le)}(c,l),C=this.hn(l,c,y),T=this.hn(l,c,b),D=this.Pn(l,c,m),F=this.In(l.indexId,h,C,y.inclusive,T,b.inclusive,D);return z.forEach(F,O=>i.j(O,t.limit).next(H=>{H.forEach(ne=>{const be=Ce.fromSegments(ne.documentKey);s.has(be)||(s=s.add(be),a.push(be))})}))}).next(()=>a)}return z.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Ure(en.create(e.filters,"and")).map(i=>RD(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,i,r,o,s,a){const l=(null!=t?t.length:1)*Math.max(i.length,o.length),c=l/(null!=t?t.length:1),h=[];for(let m=0;m<l;++m){const y=t?this.Tn(t[m/c]):zw,b=this.En(e,y,i[m%c],r),C=this.dn(e,y,o[m%c],s),T=a.map(D=>this.En(e,y,D,!0));h.push(...this.createRange(b,C,T))}return h}En(e,t,i,r){const o=new zu(e,Ce.empty(),t,i);return r?o:o.Jt()}dn(e,t,i,r){const o=new zu(e,Ce.empty(),t,i);return r?o.Jt():o}ln(e,t){const i=new e6(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.cn(t);return z.forEach(r,o=>this.ln(e,o).next(s=>{s?0!==i&&s.fields.length<function(l){let c=new on(An.comparator),h=!1;for(const m of l.filters)for(const y of m.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?h=!0:c=c.add(y.field));for(const m of l.orderBy)m.field.isKeyField()||(c=c.add(m.field));return c.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}An(e,t){const i=new K_;for(const r of Ru(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.Ht(r.kind);$u.bt.Pt(o,s)}return i.Wt()}Tn(e){const t=new K_;return $u.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const i=new K_;return $u.bt.Pt(Fu(this.databaseId,t),i.Ht(function(o){const s=Ru(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Wt()}Pn(e,t,i){if(null===i)return[];let r=[];r.push(new K_);let o=0;for(const s of Ru(e)){const a=i[o++];for(const l of r)if(this.Vn(t,s.fieldPath)&&P_(a))r=this.mn(r,s,a);else{const c=l.Ht(s.kind);$u.bt.Pt(a,c)}}return this.fn(r)}hn(e,t,i){return this.Pn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Wt();return t}mn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new K_;l.seed(a.Wt()),$u.bt.Pt(s,l.Ht(t.kind)),o.push(l)}return o}Vn(e,t){return!!e.filters.find(i=>i instanceof Mt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Y_(e),r=Uf(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return z.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(h,m){const y=m?new xf(m.sequenceNumber,new wo(ju(m.readTime),new Ce(ca(m.documentKey)),m.largestBatchId)):xf.empty(),b=h.fields.map(([C,T])=>new Ou(An.fromServerFormat(C),T));return new If(h.indexId,h.collectionGroup,b,y)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:it(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Y_(e),o=Uf(e);return this.gn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>z.forEach(a,l=>o.put(KB(l.indexId,this.uid,s,i)))))}updateIndexEntries(e,t){const i=new Map;return z.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?z.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),z.forEach(a,l=>this.pn(e,r,l).next(c=>{const h=this.yn(o,l);return c.isEqual(h)?z.resolve():this.wn(e,o,l,c,h)}))))})}Sn(e,t,i,r){return Bf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,t.key),documentKey:t.key.path.toArray()})}bn(e,t,i,r){return Bf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,t.key),t.key.path.toArray()])}pn(e,t,i){const r=Bf(e);let o=new on(cc);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,t)])},(s,a)=>{o=o.add(new zu(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,t){let i=new on(cc);const r=this.An(t,e);if(null==r)return i;const o=CD(t);if(null!=o){const s=e.data.field(o.fieldPath);if(P_(s))for(const a of s.arrayValue.values||[])i=i.add(new zu(t.indexId,e.key,this.Tn(a),r))}else i=i.add(new zu(t.indexId,e.key,zw,r));return i}wn(e,t,i,r,o){_e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(l,c,h,m,y){const b=l.getIterator(),C=c.getIterator();let T=Df(b),D=Df(C);for(;T||D;){let F=!1,O=!1;if(T&&D){const H=h(T,D);H<0?O=!0:H>0&&(F=!0)}else null!=T?O=!0:F=!0;F?(m(D),D=Df(C)):O?(y(T),T=Df(b)):(T=Df(b),D=Df(C))}}(r,o,cc,a=>{s.push(this.Sn(e,t,i,a))},a=>{s.push(this.bn(e,t,i,a))}),z.waitFor(s)}gn(e){let t=1;return Uf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>cc(s,a)).filter((s,a,l)=>!a||0!==cc(s,l[a-1]));const r=[];r.push(e);for(const s of i){const a=cc(s,e),l=cc(s,t);if(0===a)r[0]=e.Jt();else if(a>0&&l<0)r.push(s),r.push(s.Jt());else if(l>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,zw,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,zw,[]]))}return o}Dn(e,t){return cc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(o6)}getMinOffset(e,t){return z.mapArray(this.cn(t),i=>this.ln(e,i).next(r=>r||Pe())).next(o6)}}function r6(n){return ji(n,"collectionParents")}function Bf(n){return ji(n,"indexEntries")}function Y_(n){return ji(n,"indexConfiguration")}function Uf(n){return ji(n,"indexState")}function o6(n){Ue(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;TD(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new wo(e.readTime,e.documentKey,t)}const s6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function a6(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const l=i.Y({range:s},(h,m,y)=>(a++,y.delete()));o.push(l.next(()=>{Ue(1===a)}));const c=[];for(const h of t.mutations){const m=A5(e,h.key.path,t.batchId);o.push(r.delete(m)),c.push(h.key)}return z.waitFor(o).next(()=>c)}function qw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Pe();e=n.noDocument}return JSON.stringify(e).length}Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(41943040,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);class Gw{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(e,t,i,r){Ue(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Gw(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=jf(e),s=uc(e);return s.add({}).next(a=>{Ue("number"==typeof a);const l=new VD(a,t,i,r),c=function(b,C,T){const D=T.baseMutations.map(O=>G_(b.ct,O)),F=T.mutations.map(O=>G_(b.ct,O));return{userId:C,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:D,mutations:F}}(this.serializer,this.userId,l),h=[];let m=new on((y,b)=>it(y.canonicalString(),b.canonicalString()));for(const y of r){const b=A5(this.userId,y.key.path,a);m=m.add(y.key.path.popLast()),h.push(s.put(c)),h.push(o.put(b,Mie))}return m.forEach(y=>{h.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),z.waitFor(h).next(()=>l)})}lookupMutationBatch(e,t){return uc(e).get(t).next(i=>i?(Ue(i.userId===this.userId),Hu(this.serializer,i)):null)}vn(e,t){return this.Cn[t]?z.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Cn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return uc(e).Y({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(Ue(a.batchId>=i),o=Hu(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return uc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).W("userMutationsIndex",t).next(i=>i.map(r=>Hu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=xw(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return jf(e).Y({range:r},(s,a,l)=>{const[c,h,m]=s,y=ca(h);if(c===this.userId&&t.path.isEqual(y))return uc(e).get(m).next(b=>{if(!b)throw Pe();Ue(b.userId===this.userId),o.push(Hu(this.serializer,b))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new on(it);const r=[];return t.forEach(o=>{const s=xw(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=jf(e).Y({range:a},(c,h,m)=>{const[y,b,C]=c,T=ca(b);y===this.userId&&o.path.isEqual(T)?i=i.add(C):m.done()});r.push(l)}),z.waitFor(r).next(()=>this.Fn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=xw(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new on(it);return jf(e).Y({range:s},(l,c,h)=>{const[m,y,b]=l,C=ca(y);m===this.userId&&i.isPrefixOf(C)?C.length===r&&(a=a.add(b)):h.done()}).next(()=>this.Fn(e,a))}Fn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(uc(e).get(o).next(s=>{if(null===s)throw Pe();Ue(s.userId===this.userId),i.push(Hu(this.serializer,s))}))}),z.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return a6(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),z.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return z.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return jf(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=ca(o[1]);r.push(l)}else a.done()}).next(()=>{Ue(0===r.length)})})}containsKey(e,t){return l6(e,this.userId,t)}xn(e){return c6(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function l6(n,e,t){const i=xw(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return jf(n).Y({range:o,J:!0},(a,l,c)=>{const[h,m,y]=a;h===e&&m===r&&(s=!0),c.done()}).next(()=>s)}function uc(n){return ji(n,"mutations")}function jf(n){return ji(n,"documentMutations")}function c6(n){return ji(n,"mutationQueues")}class qu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qu(0)}static Bn(){return new qu(-1)}}class $re{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next(t=>{const i=new qu(t.highestTargetId);return t.highestTargetId=i.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(t=>je.fromTimestamp(new Nn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Ln(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Ln(e).next(i=>(i.targetCount+=1,this.Qn(t,i),this.kn(e,i))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hf(e).delete(t.targetId)).next(()=>this.Ln(e)).next(i=>(Ue(i.targetCount>0),i.targetCount-=1,this.kn(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Hf(e).Y((s,a)=>{const l=W_(a);l.sequenceNumber<=t&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Hf(e).Y((i,r)=>{const o=W_(r);t(o)})}Ln(e){return u6(e).get("targetGlobalKey").next(t=>(Ue(null!==t),t))}kn(e,t){return u6(e).put("targetGlobalKey",t)}qn(e,t){return Hf(e).put(WB(this.serializer,t))}Qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Ln(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Lu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Hf(e).Y({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=W_(a);N_(t,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=dc(e);return t.forEach(s=>{const a=Er(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),z.waitFor(r)}removeMatchingKeys(e,t,i){const r=dc(e);return z.forEach(t,o=>{const s=Er(o.path);return z.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=dc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=dc(e);let o=ft();return r.Y({range:i,J:!0},(s,a,l)=>{const c=ca(s[1]),h=new Ce(c);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=Er(t.path),r=IDBKeyRange.bound([i],[b5(i)],!1,!0);let o=0;return dc(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}_t(e,t){return Hf(e).get(t).next(i=>i?W_(i):null)}}function Hf(n){return ji(n,"targets")}function u6(n){return ji(n,"targetGlobal")}function dc(n){return ji(n,"targetDocuments")}function d6([n,e],[t,i]){const r=it(n,t);return 0===r?it(e,i):r}class zre{constructor(e){this.Kn=e,this.buffer=new on(d6),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();d6(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class h6{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var t=this;_e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,G.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){ec(i)?_e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Jl(i)}yield t.zn(3e5)}))}}class qre{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return z.resolve(Eo._e);const i=new zre(t);return this.jn.forEachTarget(e,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(s6)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s6):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let i,r,o,s,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,s=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(i=m,a=Date.now(),this.removeTargets(e,i,t))).next(m=>(o=m,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(c=Date.now(),Cf()<=oa.in.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${m} documents in `+(c-l)+`ms\nTotal Duration: ${c-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:m})))}}class Gre{constructor(e,t){this.db=e,this.garbageCollector=function f6(n,e){return new qre(n,e)}(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Zn(e){let t=0;return this.Jn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(i,r)=>t(r))}addReference(e,t,i){return Ww(e,i)}removeReference(e,t,i){return Ww(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Ww(e,t)}er(e,t){return function(r,o){let s=!1;return c6(r).Z(a=>l6(r,a,o).next(l=>(l&&(s=!0),z.resolve(!l)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=t){const l=this.er(e,s).next(c=>{if(!c)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,je.min()),dc(e).delete([0,Er(s.path)])))});r.push(l)}}).next(()=>z.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Ww(e,t)}Xn(e,t){const i=dc(e);let r,o=Eo._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==Eo._e&&t(new Ce(ca(r)),o),o=c,r=l):o=Eo._e}).next(()=>{o!==Eo._e&&t(new Ce(ca(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ww(n,e){return dc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Er(e.path),sequenceNumber:r}));var r}class p6{constructor(){this.changes=new Za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wre{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Gu(e).put(i)}removeEntry(e,t,i){return Gu(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],jw(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.tr(e,i)))}getEntry(e,t){let i=Mn.newInvalidDocument(t);return Gu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Q_(t))},(r,o)=>{i=this.nr(t,o)}).next(()=>i)}rr(e,t){let i={size:0,document:Mn.newInvalidDocument(t)};return Gu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Q_(t))},(r,o)=>{i={document:this.nr(t,o),size:qw(o)}}).next(()=>i)}getEntries(e,t){let i=so();return this.ir(e,t,(r,o)=>{const s=this.nr(r,o);i=i.insert(r,s)}).next(()=>i)}sr(e,t){let i=so(),r=new wn(Ce.comparator);return this.ir(e,t,(o,s)=>{const a=this.nr(o,s);i=i.insert(o,a),r=r.insert(o,qw(s))}).next(()=>({documents:i,_r:r}))}ir(e,t,i){if(t.isEmpty())return z.resolve();let r=new on(y6);t.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(Q_(r.first()),Q_(r.last())),s=r.getIterator();let a=s.getNext();return Gu(e).Y({index:"documentKeyIndex",range:o},(l,c,h)=>{const m=Ce.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&y6(a,m)<0;)i(a,null),a=s.getNext();a&&a.isEqual(m)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?h.U(Q_(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),jw(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gu(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let h=so();for(const m of c){const y=this.nr(Ce.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);y.isFoundDocument()&&(L_(t,y)||r.has(y.key))&&(h=h.insert(y.key,y))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=so();const s=_6(t,i),a=_6(t,wo.max());return Gu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,h)=>{const m=this.nr(Ce.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(m.key,m),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new Zre(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return g6(e).get("remoteDocumentGlobalKey").next(t=>(Ue(!!t),t))}tr(e,t){return g6(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const i=function Ore(n,e){let t;if(e.document)t=BB(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ce.fromSegments(e.noDocument.path),r=ju(e.noDocument.readTime);t=Mn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pe();{const i=Ce.fromSegments(e.unknownDocument.path),r=ju(e.unknownDocument.version);t=Mn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new Nn(r[0],r[1]);return je.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(je.min()))return i}return Mn.newInvalidDocument(e)}}function m6(n){return new Wre(n)}class Zre extends p6{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Za(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new on((o,s)=>it(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(t.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=GB(this.ar.serializer,s);r=r.add(o.path.popLast());const c=qw(l);i+=c-a.size,t.push(this.ar.addEntry(e,o,l))}else if(i-=a.size,this.trackRemovals){const l=GB(this.ar.serializer,s.convertToNoDocument(je.min()));t.push(this.ar.addEntry(e,o,l))}}),r.forEach(o=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.ar.updateMetadata(e,i)),z.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(i=>(this.ur.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:i,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function g6(n){return ji(n,"remoteDocumentGlobal")}function Gu(n){return ji(n,"remoteDocumentsV14")}function Q_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _6(n,e){const t=e.documentKey.path.toArray();return[n,jw(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function y6(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=it(t[o],i[o]),r)return r;return r=it(t.length,i.length),r||(r=it(t[t.length-2],i[i.length-2]),r||it(t[t.length-1],i[i.length-1]))}class Kre{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class v6{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&j_(i.mutation,r,oo.empty(),Nn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ft()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ft()){const r=da();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=V_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=da();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ft()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=so();const s=B_(),a=B_();return t.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(void 0===h||h.mutation instanceof Ka)?o=o.insert(c.key,c):void 0!==h?(s.set(c.key,h.mutation.getFieldMask()),j_(h.mutation,c,h.mutation.getFieldMask(),Nn.now())):s.set(c.key,oo.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,h)=>s.set(c,h)),t.forEach((c,h)=>{var m;return a.set(c,new Kre(h,null!==(m=s.get(c))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const i=B_();let r=new wn((s,a)=>s-a),o=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let h=i.get(l)||oo.empty();h=a.applyToLocalView(c,h),i.set(l,h);const m=(r.get(a.batchId)||ft()).add(l);r=r.insert(a.batchId,m)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,m=cB();h.forEach(y=>{if(!o.has(y)){const b=yB(t.get(y),i.get(y));null!==b&&m.set(y,b),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,m))}return z.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return Ce.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):OD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):z.resolve(da());let a=-1,l=o;return s.next(c=>z.forEach(c,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{l=l.insert(h,y)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ft())).next(h=>({batchId:a,changes:lB(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(i=>{let r=V_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=V_();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,l=>{const c=(m=t,y=l.child(o),new Wa(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,y;return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,c)=>{const h=c.getKey();null===s.get(h)&&(s=s.insert(h,Mn.newInvalidDocument(h)))});let a=V_();return s.forEach((l,c)=>{const h=o.get(l);void 0!==h&&j_(h.mutation,c,oo.empty(),Nn.now()),L_(t,c)&&(a=a.insert(l,c))}),a})}}class Yre{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return z.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(r=t).id,version:r.version,createTime:ni(r.createTime)}),z.resolve();var r}getNamedQuery(e,t){return z.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(r=t).name,query:ZD(r.bundledQuery),readTime:ni(r.readTime)}),z.resolve();var r}}class Qre{constructor(){this.overlays=new wn(Ce.comparator),this.hr=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=da();return z.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ht(e,t,o)}),z.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.hr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),z.resolve()}getOverlaysForCollection(e,t,i){const r=da(),o=t.length+1,s=new Ce(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return z.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new wn((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let h=o.get(c.largestBatchId);null===h&&(h=da(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=da(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return z.resolve(a)}ht(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new UD(t,i));let o=this.hr.get(t);void 0===o&&(o=ft(),this.hr.set(t,o)),this.hr.set(t,o.add(i.key))}}class tS{constructor(){this.Pr=new on(Hi.Ir),this.Tr=new on(Hi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const i=new Hi(e,t);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ar(new Hi(e,t))}Rr(e,t){e.forEach(i=>this.removeReference(i,t))}Vr(e){const t=new Ce(new At([])),i=new Hi(t,e),r=new Hi(t,e+1),o=[];return this.Tr.forEachInRange([i,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Ce(new At([])),i=new Hi(t,e),r=new Hi(t,e+1);let o=ft();return this.Tr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Hi(e,0),i=this.Pr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Hi{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Ce.comparator(e.key,t.key)||it(e.pr,t.pr)}static Er(e,t){return it(e.pr,t.pr)||Ce.comparator(e.key,t.key)}}class Xre{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new on(Hi.Ir)}checkEmpty(e){return z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.yr;this.yr++;const s=new VD(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new Hi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,t){return z.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.br(t+1),o=r<0?0:r;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Hi(t,0),r=new Hi(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],s=>{const a=this.Sr(s.pr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new on(it);return t.forEach(r=>{const o=new Hi(r,0),s=new Hi(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{i=i.add(a.pr)})}),z.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;Ce.isDocumentKey(o)||(o=o.child(""));const s=new Hi(new Ce(o),0);let a=new on(it);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.pr)),!0)},s),z.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(i=>{const r=this.Sr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ue(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.wr;return z.forEach(t.mutations,r=>{const o=new Hi(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,t){const i=new Hi(t,0),r=this.wr.firstAfterOrEqual(i);return z.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return z.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jre{constructor(e){this.vr=e,this.docs=new wn(Ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return z.resolve(i?i.document.mutableCopy():Mn.newInvalidDocument(t))}getEntries(e,t){let i=so();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Mn.newInvalidDocument(r))}),z.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=so();const s=t.path,a=new Ce(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||TD(E5(h),i)<=0||(r.has(h.key)||L_(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Pe()}Fr(e,t){return z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new eoe(this)}getSize(e){return z.resolve(this.size)}}class eoe extends p6{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),z.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class toe{constructor(e){this.persistence=e,this.Mr=new Za(t=>Lu(t),N_),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.Or=0,this.Nr=new tS,this.targetCount=0,this.Br=qu.Nn()}forEachTarget(e,t){return this.Mr.forEach((i,r)=>t(r)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Or&&(this.Or=t),z.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new qu(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.qn(t),z.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),z.waitFor(o).next(()=>r)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const i=this.Mr.get(t)||null;return z.resolve(i)}addMatchingKeys(e,t,i){return this.Nr.dr(t,i),z.resolve()}removeMatchingKeys(e,t,i){this.Nr.Rr(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Nr.gr(t);return z.resolve(i)}containsKey(e,t){return z.resolve(this.Nr.containsKey(t))}}class nS{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Eo(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new toe(this),this.indexManager=new jre,this.remoteDocumentCache=new Jre(i=>this.referenceDelegate.Kr(i)),this.serializer=new qB(t),this.$r=new Yre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qre,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Lr[e.toKey()];return i||(i=new Xre(t,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,i){_e("MemoryPersistence","Starting transaction:",e);const r=new noe(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,t){return z.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,t)))}}class noe extends T5{constructor(e){super(),this.currentSequenceNumber=e}}class Zw{constructor(e){this.persistence=e,this.zr=new tS,this.jr=null}static Hr(e){return new Zw(e)}get Jr(){if(this.jr)return this.jr;throw Pe()}addReference(e,t,i){return this.zr.addReference(i,t),this.Jr.delete(i.toString()),z.resolve()}removeReference(e,t,i){return this.zr.removeReference(i,t),this.Jr.add(i.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),z.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,i=>{const r=Ce.fromPath(i);return this.Yr(e,r).next(o=>{o||t.removeEntry(r,je.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(i=>{i?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return z.or([()=>z.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class ioe{constructor(e){this.serializer=e}N(e,t,i,r){const o=new Iw("createOrUpgrade",t);var l;i<1&&r>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",S5,{unique:!0}),l.createObjectStore("documentMutations"),b6(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=z.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),b6(e)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:je.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,c){return c.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",S5,{unique:!0});const m=c.store("mutations"),y=h.map(b=>m.put(b));return z.waitFor(y)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Xr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),i<7&&r>=7&&(s=s.next(()=>this.ti(o))),i<8&&r>=8&&(s=s.next(()=>this.ni(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ri(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Hie});c.createIndex("collectionPathOverlayIndex",$ie,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",zie,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:kie});c.createIndex("documentKeyIndex",Pie),c.createIndex("collectionGroupIndex",Rie)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Vie}).createIndex("sequenceNumberIndex",Bie,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Uie}).createIndex("documentKeyIndex",jie,{unique:!1})}(e))),s}ei(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=qw(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>z.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>z.forEach(a,l=>{Ue(l.userId===o.userId);const c=Hu(this.serializer,l);return a6(e,o.userId,c).next(()=>{})}))}))}ti(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const l=new At(s),c=[0,Er(l)];o.push(t.get(c).next(h=>h?z.resolve():t.put({targetId:0,path:Er(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>z.waitFor(o))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Lie});const i=t.store("collectionParents"),r=new eS,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:Er(l)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new At(s);return o(l.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,l],c)=>{const h=ca(a);return o(h.popLast())}))}ri(e){const t=e.store("targets");return t.Y((i,r)=>{const o=W_(r),s=WB(this.serializer,o);return t.put(s)})}ii(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),l=(m=s,m.document?new Ce(At.fromString(m.document.name).popFirst(5)):m.noDocument?Ce.fromSegments(m.noDocument.path):m.unknownDocument?Ce.fromSegments(m.unknownDocument.path):Pe()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var m;r.push(a.put(c))}).next(()=>z.waitFor(r))}si(e,t){const i=t.store("mutations"),r=m6(this.serializer),o=new nS(Zw.Hr,this.serializer.ct);return i.W().next(s=>{const a=new Map;return s.forEach(l=>{var c;let h=null!==(c=a.get(l.userId))&&void 0!==c?c:ft();Hu(this.serializer,l).keys().forEach(m=>h=h.add(m)),a.set(l.userId,h)}),z.forEach(a,(l,c)=>{const h=new Ui(c),m=Hw.lt(this.serializer,h),y=o.getIndexManager(h),b=Gw.lt(h,this.serializer,y,o.referenceDelegate);return new v6(r,b,m,y).recalculateAndSaveOverlaysForDocumentKeys(new DD(t,Eo._e),l).next()})})}}function b6(n){n.createObjectStore("targetDocuments",{keyPath:Nie}).createIndex("documentTargetsIndex",Fie,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oie,{unique:!0}),n.createObjectStore("targetGlobal")}const iS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rS{constructor(e,t,i,r,o,s,a,l,c,h,m=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.oi=o,this.window=s,this.document=a,this._i=c,this.ai=h,this.ui=m,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=y=>Promise.resolve(),!rS.D())throw new me(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gre(this,r),this.Ti=t+"main",this.serializer=new qB(l),this.Ei=new Qo(this.Ti,this.ui,new ioe(this.serializer)),this.Qr=new $re(this.referenceDelegate,this.serializer),this.remoteDocumentCache=m6(this.serializer),this.$r=new Nre,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===h&&ti("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(Q.FAILED_PRECONDITION,iS);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Eo(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var t=this;return this.Ii=function(){var i=(0,G.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var t=(0,G.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,G.Z)(function*(){t.started&&(yield t.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ec(e))return _e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return X_(e).get("owner").next(t=>z.resolve(this.Si(t)))}bi(e){return Yw(e).delete(this.clientId)}Di(){var e=this;return(0,G.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ji(i,"clientMetadata");return r.W().next(o=>{const s=e.vi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return z.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const i of t)e.di.removeItem(e.Fi(i.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?z.resolve(!0):X_(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new me(Q.FAILED_PRECONDITION,iS);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yw(e).W().next(i=>void 0===this.vi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&_e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,G.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new DD(t,Eo._e);return e.yi(i).next(()=>e.bi(i))}),e.Ei.close(),e.Bi()})()}vi(e,t){return e.filter(i=>this.Ci(i.updateTimeMs,t)&&!this.Mi(i.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>Yw(e).W().next(t=>this.vi(t,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return Gw.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hre(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Hw.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,i){_e("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(l=this.ui)?Gie:14===l?P5:13===l?k5:12===l?qie:11===l?M5:void Pe();var l;let s;return this.Ei.runTransaction(e,r,o,a=>(s=new DD(a,this.kr?this.kr.next():Eo._e),"readwrite-primary"===t?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw ti(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new me(Q.FAILED_PRECONDITION,C5);return i(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return X_(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new me(Q.FAILED_PRECONDITION,iS)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return X_(e).put("owner",t)}static D(){return Qo.D()}yi(e){const t=X_(e);return t.get("owner").next(i=>this.Si(i)?(_e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):z.resolve())}Ci(e,t){const i=Date.now();return!(e<i-t||e>i&&(ti(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,qt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const i=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return _e("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ti("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){ti("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function X_(n){return ji(n,"owner")}function Yw(n){return ji(n,"clientMetadata")}function oS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class sS{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.qi=i,this.Qi=r}static Ki(e,t){let i=ft(),r=ft();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new sS(e,t.fromCache,i,r)}}class roe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class w6{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,qt.G6)()?8:Qo.v((0,qt.z$)())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new roe;return this.Ji(e,t,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,t,s,a.size)})}).next(()=>o.result)}Yi(e,t,i,r){return i.documentReadCount<this.Wi?(Cf()<=oa.in.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Pf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Cf()<=oa.in.DEBUG&&_e("QueryEngine","Query:",Pf(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Cf()<=oa.in.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Pf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(t))):z.resolve())}ji(e,t){if(nB(t))return z.resolve(null);let i=$r(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Nw(t,null,"F"),i=$r(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ft(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Zi(t,a);return this.Xi(t,c,s,l.readTime)?this.ji(e,Nw(t,null,"F")):this.es(e,c,t,l)}))})))}Hi(e,t,i,r){return nB(t)||r.isEqual(je.min())?z.resolve(null):this.zi.getDocuments(e,i).next(o=>{const s=this.Zi(t,o);return this.Xi(t,s,i,r)?z.resolve(null):(Cf()<=oa.in.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pf(t)),this.es(e,s,t,w5(r,-1)).next(a=>a))})}Zi(e,t){let i=new on(sB(e));return t.forEach((r,o)=>{L_(e,o)&&(i=i.add(o))}),i}Xi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,t,i){return Cf()<=oa.in.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Pf(t)),this.zi.getDocumentsMatchingQuery(e,t,wo.min(),i)}es(e,t,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class ooe{constructor(e,t,i,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new wn(it),this.rs=new Za(o=>Lu(o),N_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v6(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function E6(n,e,t,i){return new ooe(n,e,t,i)}function C6(n,e){return aS.apply(this,arguments)}function aS(){return aS=(0,G.Z)(function*(n,e){const t=we(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t._s(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=ft();for(const c of r){s.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(i,l).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}),aS.apply(this,arguments)}function T6(n){const e=we(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function I6(n,e,t){let i=ft(),r=ft();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=so();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(je.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):_e("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:s,ls:r}})}function loe(n,e){const t=we(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $f(n,e){const t=we(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Qr.getTargetData(i,e).next(o=>o?(r=o,z.resolve(r)):t.Qr.allocateTargetId(i).next(s=>(r=new Ya(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ns.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ns=t.ns.insert(i.targetId,i),t.rs.set(e,i.targetId)),i})}function zf(n,e,t){return lS.apply(this,arguments)}function lS(){return lS=(0,G.Z)(function*(n,e,t){const i=we(n),r=i.ns.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!ec(s))throw s;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)}),lS.apply(this,arguments)}function Qw(n,e,t){const i=we(n);let r=je.min(),o=ft();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,h){const m=we(l),y=m.rs.get(h);return void 0!==y?z.resolve(m.ns.get(y)):m.Qr.getTargetData(c,h)}(i,s,$r(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.ts.getDocumentsMatchingQuery(s,e,t?r:je.min(),t?o:ft())).next(a=>(S6(i,oB(e),a),{documents:a,hs:o})))}function x6(n,e){const t=we(n),i=we(t.Qr),r=t.ns.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function D6(n,e){const t=we(n),i=t.ss.get(e)||je.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.os.getAllFromCollectionGroup(r,e,w5(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(S6(t,e,r),r))}function S6(n,e,t){let i=n.ss.get(e)||je.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ss.set(e,i)}function cS(){return cS=(0,G.Z)(function*(n,e,t,i){const r=we(n);let o=ft(),s=so();for(const c of t){const h=e.Ps(c.metadata.name);c.document&&(o=o.add(h));const m=e.Is(c);m.setReadTime(e.Ts(c.metadata.readTime)),s=s.insert(h,m)}const a=r.os.newChangeBuffer({trackRemovals:!0}),l=yield $f(r,(h=i,$r(Mf(At.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>I6(c,a,s).next(h=>(a.apply(c),h)).next(h=>r.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Qr.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,h.cs,h.ls)).next(()=>h.cs)))}),cS.apply(this,arguments)}function uoe(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,G.Z)(function*(n,e,t=ft()){const i=yield $f(n,$r(ZD(e.bundledQuery))),r=we(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=ni(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.$r.saveNamedQuery(o,e);const a=i.withResumeToken(ki.EMPTY_BYTE_STRING,s);return r.ns=r.ns.insert(a.targetId,a),r.Qr.updateTargetData(o,a).next(()=>r.Qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.$r.saveNamedQuery(o,e))})}),uS.apply(this,arguments)}function A6(n,e){return`firestore_clients_${n}_${e}`}function M6(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function dS(n,e){return`firestore_targets_${n}_${e}`}class Xw{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Es(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new me(r.error.code,r.error.message))),s?new Xw(e,t,r.state,o):(ti("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class J_{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Es(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new me(i.error.code,i.error.message))),o?new J_(e,i.state,r):(ti("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=FD();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=x5(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new Jw(e,o):(ti("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hS{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hS(t.clientId,t.onlineState):(ti("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fS{constructor(){this.activeTargetIds=FD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pS{constructor(e,t,i,r,o){this.window=e,this.oi=t,this.persistenceKey=i,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new wn(it),this.started=!1,this.ys=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=A6(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new fS),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,G.Z)(function*(){const t=yield e.syncEngine.Li();for(const r of t){if(r===e.Vs)continue;const o=e.getItem(A6(e.persistenceKey,r));if(o){const s=Jw.Es(r,o);s&&(e.ps=e.ps.insert(s.clientId,s))}}e.Ms();const i=e.storage.getItem(e.vs);if(i){const r=e.xs(i);r&&e.Os(r)}for(const r of e.ys)e.gs(r);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,i){this.Bs(e,t,i),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(dS(this.persistenceKey,e));if(i){const r=J_.Es(e,i);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dS(this.persistenceKey,e))}updateQueryState(e,t,i){this.qs(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ls(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return _e("SharedClientState","READ",e,t),t}setItem(e,t){_e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){_e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(_e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ws)return void ti("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,G.Z)(function*(){if(t.started){if(null!==i.key)if(t.bs.test(i.key)){if(null==i.newValue){const r=t.$s(i.key);return t.Us(r,null)}{const r=t.Ws(i.key,i.newValue);if(r)return t.Us(r.clientId,r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.Gs(i.key,i.newValue);if(r)return t.zs(r)}}else if(t.Cs.test(i.key)){if(null!==i.newValue){const r=t.js(i.key,i.newValue);if(r)return t.Hs(r)}}else if(i.key===t.vs){if(null!==i.newValue){const r=t.xs(i.newValue);if(r)return t.Os(r)}}else if(i.key===t.Ss){const r=function(s){let a=Eo._e;if(null!=s)try{const l=JSON.parse(s);Ue("number"==typeof l),a=l}catch(l){ti("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==Eo._e&&t.sequenceNumberHandler(r)}else if(i.key===t.Fs){const r=t.Js(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Ys(o)))}}else t.ys.push(i)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,i){const r=new Xw(this.currentUser,e,t,i),o=M6(this.persistenceKey,this.currentUser,e);this.setItem(o,r.ds())}Ls(e){const t=M6(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,t,i){const r=dS(this.persistenceKey,e),o=new J_(e,t,i);this.setItem(r,o.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const i=this.$s(e);return Jw.Es(i,t)}Gs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return Xw.Es(new Ui(void 0!==i[2]?i[2]:null),r,t)}js(e,t){const i=this.Cs.exec(e),r=Number(i[1]);return J_.Es(r,t)}xs(e){return hS.Es(e)}Js(e){return JSON.parse(e)}zs(e){var t=this;return(0,G.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Zs(e.batchId,e.state,e.error);_e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const i=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),o=this.Ns(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=i})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=FD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class k6{constructor(){this.no=new fS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,i){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new fS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class doe{io(e){}shutdown(){}}class P6{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let eE=null;function mS(){return null===eE?eE=268435456+Math.round(2147483648*Math.random()):eE++,"0x"+eE.toString(16)}const hoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class foe{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Tr="WebChannelConnection";class poe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+t.host,this.po=`projects/${r}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(t,i,r,o,s){const a=mS(),l=this.bo(t,i.toUriEncodedString());_e("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(t,l,c,r).then(h=>(_e("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw ro("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}vo(t,i,r,o,s,a){return this.So(t,i,r,o,s)}Do(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ef,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}bo(t,i){return`${this.fo}/v1/${i}:${hoe[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,i,r){const o=mS();return new Promise((s,a)=>{const l=new die;l.setWithCredentials(!0),l.listenOnce(cie.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wD.NO_ERROR:const h=l.getResponseJson();_e(Tr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case wD.TIMEOUT:_e(Tr,`RPC '${e}' ${o} timed out`),a(new me(Q.DEADLINE_EXCEEDED,"Request time out"));break;case wD.HTTP_ERROR:const m=l.getStatus();if(_e(Tr,`RPC '${e}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y?.error;if(b&&b.status&&b.message){const C=function(D){const F=D.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(F)>=0?F:Q.UNKNOWN}(b.status);a(new me(C,b.message))}else a(new me(Q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new me(Q.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{_e(Tr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);_e(Tr,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}Fo(e,t,i){const r=mS(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aie(),a=lie(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const h=o.join("");_e(Tr,`Creating RPC '${e}' stream ${r}: ${h}`,l);const m=s.createWebChannel(h,l);let y=!1,b=!1;const C=new foe({lo:D=>{b?_e(Tr,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(y||(_e(Tr,`Opening RPC '${e}' stream ${r} transport.`),m.open(),y=!0),_e(Tr,`RPC '${e}' stream ${r} sending:`,D),m.send(D))},ho:()=>m.close()}),T=(D,F,O)=>{D.listen(F,H=>{try{O(H)}catch(ne){setTimeout(()=>{throw ne},0)}})};return T(m,Tw.EventType.OPEN,()=>{b||_e(Tr,`RPC '${e}' stream ${r} transport opened.`)}),T(m,Tw.EventType.CLOSE,()=>{b||(b=!0,_e(Tr,`RPC '${e}' stream ${r} transport closed`),C.Vo())}),T(m,Tw.EventType.ERROR,D=>{b||(b=!0,ro(Tr,`RPC '${e}' stream ${r} transport errored:`,D),C.Vo(new me(Q.UNAVAILABLE,"The operation could not be completed")))}),T(m,Tw.EventType.MESSAGE,D=>{var F;if(!b){const O=D.data[0];Ue(!!O);const ne=O.error||(null===(F=O[0])||void 0===F?void 0:F.error);if(ne){_e(Tr,`RPC '${e}' stream ${r} received error:`,ne);const be=ne.status;let Le=function(Pi){const gi=fi[Pi];if(void 0!==gi)return TB(gi)}(be),Ke=ne.message;void 0===Le&&(Le=Q.INTERNAL,Ke="Unknown error status: "+be+" with message "+ne.message),b=!0,C.Vo(new me(Le,Ke)),m.close()}else _e(Tr,`RPC '${e}' stream ${r} received:`,O),C.mo(O)}}),T(a,uie.STAT_EVENT,D=>{D.stat===m5.PROXY?_e(Tr,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===m5.NOPROXY&&_e(Tr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.Ro()},0),C}}function R6(){return typeof window<"u"?window:null}function tE(){return typeof document<"u"?document:null}function ey(n){return new Tre(n,!0)}class gS{constructor(e,t,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=t,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-i);r>0&&_e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class O6{constructor(e,t,i,r,o,s,a,l){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new gS(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,G.Z)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,G.Z)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,t){var i=this;return(0,G.Z)(function*(){i.n_(),i.r_(),i.jo.cancel(),i.Wo++,4!==e?i.jo.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),i.jo.ko()):t&&t.code===Q.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.i_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.To(t)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===t&&this.o_(i,r)},i=>{e(()=>{const r=new me(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,t){const i=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){var e=this;this.state=5,this.jo.qo((0,G.Z)(function*(){e.state=0,e.start()}))}__(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget(()=>this.Wo===e?t():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class moe extends O6{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function Dre(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Pe(),r=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(Ue(void 0===h||"string"==typeof h),ki.fromBase64String(h||"")):(Ue(void 0===h||h instanceof Uint8Array),ki.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=void 0===c.code?Q.UNKNOWN:TB(c.code);return new me(h,c.message||"")}(s);t=new AB(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=ha(n,i.document.name),o=ni(i.document.updateTime),s=i.document.createTime?ni(i.document.createTime):je.min(),a=new ir({mapValue:{fields:i.document.fields}}),l=Mn.newFoundDocument(r,o,s,a);t=new Uw(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=ha(n,i.document),o=i.readTime?ni(i.readTime):je.min(),s=Mn.newNoDocument(r,o);t=new Uw([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=ha(n,i.document);t=new Uw([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Pe();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new yre(r,o);t=new SB(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return je.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?je.min():s.readTime?ni(s.readTime):je.min()}(e);return this.listener.u_(t,i)}c_(e){const t={};t.database=qD(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=Rw(l)?{documents:UB(o,l)}:{query:WD(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=RB(o,s.resumeToken);const c=HD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(je.min())>0){a.readTime=Lf(o,s.snapshotVersion.toTimestamp());const c=HD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const i=function Are(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.t_(t)}l_(e){const t={};t.database=qD(this.serializer),t.removeTarget=e,this.t_(t)}}class goe extends O6{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function Sre(n,e){return n&&n.length>0?(Ue(void 0!==e),n.map(t=>function(r,o){let s=ni(r.updateTime?r.updateTime:o);return s.isEqual(je.min())&&(s=ni(o)),new pre(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.T_(i,t)}return Ue(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=qD(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>G_(this.serializer,i))};this.t_(t)}}class _oe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new me(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,zD(t,i),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(Q.UNKNOWN,o.toString())})}vo(e,t,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,zD(t,i),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(Q.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class voe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ti(t),this.g_=!1):_e("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class boe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget((0,G.Z)(function*(){var l;hc(s)&&(_e("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,G.Z)(function*(h){const m=we(h);m.v_.add(4),yield qf(m),m.x_.set("Unknown"),m.v_.delete(4),yield ty(m)}),function c(h){return l.apply(this,arguments)})(s))}))}),this.x_=new voe(i,r)}}function ty(n){return yS.apply(this,arguments)}function yS(){return yS=(0,G.Z)(function*(n){if(hc(n))for(const e of n.F_)yield e(!0)}),yS.apply(this,arguments)}function qf(n){return vS.apply(this,arguments)}function vS(){return vS=(0,G.Z)(function*(n){for(const e of n.F_)yield e(!1)}),vS.apply(this,arguments)}function nE(n,e){const t=we(n);t.C_.has(e.targetId)||(t.C_.set(e.targetId,e),ES(t)?wS(t):Wf(t).Jo()&&bS(t,e))}function ny(n,e){const t=we(n),i=Wf(t);t.C_.delete(e),i.Jo()&&N6(t,e),0===t.C_.size&&(i.Jo()?i.Xo():hc(t)&&t.x_.set("Unknown"))}function bS(n,e){if(n.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wf(n).c_(e)}function N6(n,e){n.O_.Oe(e),Wf(n).l_(e)}function wS(n){n.O_=new bre({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.C_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Wf(n).start(),n.x_.p_()}function ES(n){return hc(n)&&!Wf(n).Ho()&&n.C_.size>0}function hc(n){return 0===we(n).v_.size}function F6(n){n.O_=void 0}function woe(n){return CS.apply(this,arguments)}function CS(){return CS=(0,G.Z)(function*(n){n.C_.forEach((e,t)=>{bS(n,e)})}),CS.apply(this,arguments)}function Eoe(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,G.Z)(function*(n,e){F6(n),ES(n)?(n.x_.S_(e),wS(n)):n.x_.set("Unknown")}),TS.apply(this,arguments)}function Coe(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=(0,G.Z)(function*(n,e,t){if(n.x_.set("Online"),e instanceof AB&&2===e.state&&e.cause)try{yield(i=(0,G.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.C_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.C_.delete(l),o.O_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield iE(n,i)}else if(e instanceof Uw?n.O_.$e(e):e instanceof SB?n.O_.Je(e):n.O_.Ge(e),!t.isEqual(je.min()))try{const i=yield T6(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.C_.get(c);h&&o.C_.set(c,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const h=o.C_.get(l);if(!h)return;o.C_.set(l,h.withResumeToken(ki.EMPTY_BYTE_STRING,h.snapshotVersion)),N6(o,l);const m=new Ya(h.target,l,c,h.sequenceNumber);bS(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){_e("RemoteStore","Failed to raise snapshot:",i),yield iE(n,i)}var i}),IS.apply(this,arguments)}function iE(n,e,t){return xS.apply(this,arguments)}function xS(){return xS=(0,G.Z)(function*(n,e,t){if(!ec(e))throw e;n.v_.add(1),yield qf(n),n.x_.set("Offline"),t||(t=()=>T6(n.localStore)),n.asyncQueue.enqueueRetryable((0,G.Z)(function*(){_e("RemoteStore","Retrying IndexedDB access"),yield t(),n.v_.delete(1),yield ty(n)}))}),xS.apply(this,arguments)}function L6(n,e){return e().catch(t=>iE(n,t,e))}function Gf(n){return DS.apply(this,arguments)}function DS(){return DS=(0,G.Z)(function*(n){const e=we(n),t=fc(e);let i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Toe(e);)try{const r=yield loe(e.localStore,i);if(null===r){0===e.D_.length&&t.Xo();break}i=r.batchId,Ioe(e,r)}catch(r){yield iE(e,r)}V6(e)&&B6(e)}),DS.apply(this,arguments)}function Toe(n){return hc(n)&&n.D_.length<10}function Ioe(n,e){n.D_.push(e);const t=fc(n);t.Jo()&&t.P_&&t.I_(e.mutations)}function V6(n){return hc(n)&&!fc(n).Ho()&&n.D_.length>0}function B6(n){fc(n).start()}function xoe(n){return SS.apply(this,arguments)}function SS(){return SS=(0,G.Z)(function*(n){fc(n).d_()}),SS.apply(this,arguments)}function Doe(n){return AS.apply(this,arguments)}function AS(){return AS=(0,G.Z)(function*(n){const e=fc(n);for(const t of n.D_)e.I_(t.mutations)}),AS.apply(this,arguments)}function Soe(n,e,t){return MS.apply(this,arguments)}function MS(){return MS=(0,G.Z)(function*(n,e,t){const i=n.D_.shift(),r=BD.from(i,e,t);yield L6(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Gf(n)}),MS.apply(this,arguments)}function Aoe(n,e){return kS.apply(this,arguments)}function kS(){return kS=(0,G.Z)(function*(n,e){var t;e&&fc(n).P_&&(yield(t=(0,G.Z)(function*(r,o){if(CB(a=o.code)&&a!==Q.ABORTED){const s=r.D_.shift();fc(r).Zo(),yield L6(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Gf(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),V6(n)&&B6(n)}),kS.apply(this,arguments)}function U6(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,G.Z)(function*(n,e){const t=we(n);t.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const i=hc(t);t.v_.add(3),yield qf(t),i&&t.x_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.v_.delete(3),yield ty(t)}),PS.apply(this,arguments)}function RS(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,G.Z)(function*(n,e){const t=we(n);e?(t.v_.delete(2),yield ty(t)):e||(t.v_.add(2),yield qf(t),t.x_.set("Unknown"))}),OS.apply(this,arguments)}function Wf(n){return n.N_||(n.N_=function(t,i,r){const o=we(t);return o.R_(),new moe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Po:woe.bind(null,n),To:Eoe.bind(null,n),u_:Coe.bind(null,n)}),n.F_.push(function(){var e=(0,G.Z)(function*(t){t?(n.N_.Zo(),ES(n)?wS(n):n.x_.set("Unknown")):(yield n.N_.stop(),F6(n))});return function(t){return e.apply(this,arguments)}}())),n.N_}function fc(n){return n.B_||(n.B_=function(t,i,r){const o=we(t);return o.R_(),new goe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Po:xoe.bind(null,n),To:Aoe.bind(null,n),E_:Doe.bind(null,n),T_:Soe.bind(null,n)}),n.F_.push(function(){var e=(0,G.Z)(function*(t){t?(n.B_.Zo(),yield Gf(n)):(yield n.B_.stop(),n.D_.length>0&&(_e("RemoteStore",`Stopping write stream with ${n.D_.length} pending writes`),n.D_=[]))});return function(t){return e.apply(this,arguments)}}())),n.B_}class NS{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new NS(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new me(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zf(n,e){if(ti("AsyncQueue",`${e}: ${n}`),ec(n))return new me(Q.UNAVAILABLE,`${e}: ${n}`);throw n}class Kf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ce.comparator(t.key,i.key):(t,i)=>Ce.comparator(t.key,i.key),this.keyedMap=V_(),this.sortedSet=new wn(this.comparator)}static emptySet(e){return new Kf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Kf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class j6{constructor(){this.L_=new wn(Ce.comparator)}track(e){const t=e.doc.key,i=this.L_.get(t);i?0!==e.type&&3===i.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==i.type?this.L_=this.L_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.L_=this.L_.remove(t):1===e.type&&2===i.type?this.L_=this.L_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Pe():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yf{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Yf(e,t,Kf.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Moe{constructor(){this.q_=void 0,this.Q_=[]}}class koe{constructor(){this.queries=new Za(e=>rB(e),F_),this.onlineState="Unknown",this.K_=new Set}}function FS(n,e){return LS.apply(this,arguments)}function LS(){return LS=(0,G.Z)(function*(n,e){const t=we(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Moe),r)try{o.q_=yield t.onListen(i)}catch(s){const a=Zf(s,`Initialization of query '${Pf(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Q_.push(e),e.U_(t.onlineState),o.q_&&e.W_(o.q_)&&US(t)}),LS.apply(this,arguments)}function VS(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,G.Z)(function*(n,e){const t=we(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),r=0===o.Q_.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),BS.apply(this,arguments)}function Poe(n,e){const t=we(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.Q_)a.W_(r)&&(i=!0);s.q_=r}}i&&US(t)}function Roe(n,e,t){const i=we(n),r=i.queries.get(e);if(r)for(const o of r.Q_)o.onError(t);i.queries.delete(e)}function US(n){n.K_.forEach(e=>{e.next()})}class jS{constructor(e,t,i){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Yf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){return!e.fromCache||(!this.options.Z_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Ooe{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class H6{constructor(e){this.serializer=e}Ps(e){return ha(this.serializer,e)}Is(e){return e.metadata.exists?BB(this.serializer,e.document,!1):Mn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ni(e)}}class Noe{constructor(e,t,i){this.ta=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$6(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const i=At.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,i=new H6(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.Ps(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||ft()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,G.Z)(function*(){const t=yield function coe(n,e,t,i){return cS.apply(this,arguments)}(e.localStore,new H6(e.serializer),e.documents,e.ta.id),i=e.ra(e.documents);for(const r of e.queries)yield uoe(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:t}})()}}function $6(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class z6{constructor(e){this.key=e}}class q6{constructor(e){this.key=e}}class G6{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ft(),this.mutatedKeys=ft(),this.ua=sB(e),this.ca=new Kf(this.ua)}get la(){return this.oa}ha(e,t){const i=t?t.Pa:new j6,r=t?t.ca:this.ca;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,m)=>{const y=r.get(h),b=L_(this.query,m)?m:null,C=!!y&&this.mutatedKeys.has(y.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;y&&b?y.data.isEqual(b.data)?C!==T&&(i.track({type:3,doc:b}),D=!0):this.Ia(y,b)||(i.track({type:2,doc:b}),D=!0,(l&&this.ua(b,l)>0||c&&this.ua(b,c)<0)&&(a=!0)):!y&&b?(i.track({type:0,doc:b}),D=!0):y&&!b&&(i.track({type:1,doc:y}),D=!0,(l||c)&&(a=!0)),D&&(b?(s=s.add(b),o=T?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{ca:s,Pa:i,Xi:a,mutatedKeys:o}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((h,m)=>function(b,C){const T=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return T(b)-T(C)}(h.type,m.type)||this.ua(h.doc,m.doc)),this.Ta(i),r=null!=r&&r;const a=t&&!r?this.Ea():[],l=0===this.aa.size&&this.current&&!r?1:0,c=l!==this._a;return this._a=l,0!==s.length||c?{snapshot:new Yf(this.query,e.ca,o,s,e.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new j6,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(t=>this.oa=this.oa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.oa=this.oa.delete(t)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ft(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});const t=[];return e.forEach(i=>{this.aa.has(i)||t.push(new q6(i))}),this.aa.forEach(i=>{e.has(i)||t.push(new z6(i))}),t}Ra(e){this.oa=e.hs,this.aa=ft();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Yf.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Foe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Loe{constructor(e){this.key=e,this.ma=!1}}class Voe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Za(a=>rB(a),F_),this.pa=new Map,this.ya=new Set,this.wa=new wn(Ce.comparator),this.Sa=new Map,this.ba=new tS,this.Da={},this.Ca=new Map,this.va=qu.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function Boe(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,G.Z)(function*(n,e){const t=dA(n);let i,r;const o=t.ga.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Va();else{const s=yield $f(t.localStore,$r(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield $S(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&nE(t.remoteStore,s)}return r}),HS.apply(this,arguments)}function $S(n,e,t,i,r){return zS.apply(this,arguments)}function zS(){return zS=(0,G.Z)(function*(n,e,t,i,r){n.Ma=(m,y,b)=>{return(C=(0,G.Z)(function*(D,F,O,H){let ne=F.view.ha(O);ne.Xi&&(ne=yield Qw(D.localStore,F.query,!1).then(({documents:jt})=>F.view.ha(jt,ne)));const be=H&&H.targetChanges.get(F.targetId),Le=H&&null!=H.targetMismatches.get(F.targetId),Ke=F.view.applyChanges(ne,D.isPrimaryClient,be,Le);return eA(D,F.targetId,Ke.da),Ke.snapshot}),function T(D,F,O,H){return C.apply(this,arguments)})(n,m,y,b);var C};const o=yield Qw(n.localStore,e,!0),s=new G6(e,o.hs),a=s.ha(o.documents),l=z_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);eA(n,t,c.da);const h=new Foe(e,t,s);return n.ga.set(e,h),n.pa.has(t)?n.pa.get(t).push(e):n.pa.set(t,[e]),c.snapshot}),zS.apply(this,arguments)}function Uoe(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,G.Z)(function*(n,e){const t=we(n),i=t.ga.get(e),r=t.pa.get(i.targetId);if(r.length>1)return t.pa.set(i.targetId,r.filter(o=>!F_(o,e))),void t.ga.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield zf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),ny(t.remoteStore,i.targetId),Qf(t,i.targetId)}).catch(Jl))):(Qf(t,i.targetId),yield zf(t.localStore,i.targetId,!0))}),qS.apply(this,arguments)}function GS(){return GS=(0,G.Z)(function*(n,e,t){const i=hA(n);try{const r=yield function(s,a){const l=we(s),c=Nn.now(),h=a.reduce((b,C)=>b.add(C.key),ft());let m,y;return l.persistence.runTransaction("Locally write mutations","readwrite",b=>{let C=so(),T=ft();return l.os.getEntries(b,h).next(D=>{C=D,C.forEach((F,O)=>{O.isValidDocument()||(T=T.add(F))})}).next(()=>l.localDocuments.getOverlayedDocuments(b,C)).next(D=>{m=D;const F=[];for(const O of a){const H=gre(O,m.get(O.key).overlayedDocument);null!=H&&F.push(new Ka(O.key,H,$5(H.value.mapValue),Fn.exists(!0)))}return l.mutationQueue.addMutationBatch(b,c,F,a)}).next(D=>{y=D;const F=D.applyToLocalDocumentSet(m,T);return l.documentOverlayCache.saveOverlays(b,D.batchId,F)})}).then(()=>({batchId:y.batchId,changes:lB(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Da[s.currentUser.toKey()];c||(c=new wn(it)),c=c.insert(a,l),s.Da[s.currentUser.toKey()]=c}(i,r.batchId,t),yield Qa(i,r.changes),yield Gf(i.remoteStore)}catch(r){const o=Zf(r,"Failed to persist write");t.reject(o)}}),GS.apply(this,arguments)}function W6(n,e){return WS.apply(this,arguments)}function WS(){return WS=(0,G.Z)(function*(n,e){const t=we(n);try{const i=yield function aoe(n,e){const t=we(n),i=e.snapshotVersion;let r=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.os.newChangeBuffer({trackRemovals:!0});r=t.ns;const a=[];e.targetChanges.forEach((h,m)=>{const y=r.get(m);if(!y)return;a.push(t.Qr.removeMatchingKeys(o,h.removedDocuments,m).next(()=>t.Qr.addMatchingKeys(o,h.addedDocuments,m)));let b=y.withSequenceNumber(o.currentSequenceNumber);var T,D,F;null!==e.targetMismatches.get(m)?b=b.withResumeToken(ki.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,i)),r=r.insert(m,b),D=b,F=h,(0===(T=y).resumeToken.approximateByteSize()||D.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0)&&a.push(t.Qr.updateTargetData(o,b))});let l=so(),c=ft();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(I6(o,s,e.documentUpdates).next(h=>{l=h.cs,c=h.ls})),!i.isEqual(je.min())){const h=t.Qr.getLastRemoteSnapshotVersion(o).next(m=>t.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.ns=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.Sa.get(o);s&&(Ue(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.ma=!0:r.modifiedDocuments.size>0?Ue(s.ma):r.removedDocuments.size>0&&(Ue(s.ma),s.ma=!1))}),yield Qa(t,i,e)}catch(i){yield Jl(i)}}),WS.apply(this,arguments)}function Z6(n,e,t){const i=we(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=we(s);l.onlineState=a;let c=!1;l.queries.forEach((h,m)=>{for(const y of m.Q_)y.U_(a)&&(c=!0)}),c&&US(l)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Hoe(n,e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,G.Z)(function*(n,e,t){const i=we(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Sa.get(e),o=r&&r.key;if(o){let s=new wn(Ce.comparator);s=s.insert(o,Mn.newNoDocument(o,je.min()));const a=ft().add(o),l=new $_(je.min(),new Map,new wn(it),s,a);yield W6(i,l),i.wa=i.wa.remove(o),i.Sa.delete(e),tA(i)}else yield zf(i.localStore,e,!1).then(()=>Qf(i,e,t)).catch(Jl)}),ZS.apply(this,arguments)}function $oe(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,G.Z)(function*(n,e){const t=we(n),i=e.batch.batchId;try{const r=yield function soe(n,e){const t=we(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const m=c.batch,y=m.keys();let b=z.resolve();return y.forEach(C=>{b=b.next(()=>h.getEntry(l,C)).next(T=>{const D=c.docVersions.get(C);Ue(null!==D),T.version.compareTo(D)<0&&(m.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ft();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);JS(t,i,null),XS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Qa(t,r)}catch(r){yield Jl(r)}}),KS.apply(this,arguments)}function zoe(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=(0,G.Z)(function*(n,e,t){const i=we(n);try{const r=yield function(s,a){const l=we(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(m=>(Ue(null!==m),h=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);JS(i,e,t),XS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Qa(i,r)}catch(r){yield Jl(r)}}),YS.apply(this,arguments)}function QS(){return QS=(0,G.Z)(function*(n,e){const t=we(n);hc(t.remoteStore)||_e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=we(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ca.get(i)||[];r.push(e),t.Ca.set(i,r)}catch(i){const r=Zf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),QS.apply(this,arguments)}function XS(n,e){(n.Ca.get(e)||[]).forEach(t=>{t.resolve()}),n.Ca.delete(e)}function JS(n,e,t){const i=we(n);let r=i.Da[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function Qf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.pa.get(e))n.ga.delete(i),t&&n.fa.xa(i,t);n.pa.delete(e),n.isPrimaryClient&&n.ba.Vr(e).forEach(i=>{n.ba.containsKey(i)||K6(n,i)})}function K6(n,e){n.ya.delete(e.path.canonicalString());const t=n.wa.get(e);null!==t&&(ny(n.remoteStore,t),n.wa=n.wa.remove(e),n.Sa.delete(t),tA(n))}function eA(n,e,t){for(const i of t)i instanceof z6?(n.ba.addReference(i.key,e),Goe(n,i)):i instanceof q6?(_e("SyncEngine","Document no longer in limbo: "+i.key),n.ba.removeReference(i.key,e),n.ba.containsKey(i.key)||K6(n,i.key)):Pe()}function Goe(n,e){const t=e.key,i=t.path.canonicalString();n.wa.get(t)||n.ya.has(i)||(_e("SyncEngine","New document in limbo: "+t),n.ya.add(i),tA(n))}function tA(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const e=n.ya.values().next().value;n.ya.delete(e);const t=new Ce(At.fromString(e)),i=n.va.next();n.Sa.set(i,new Loe(t)),n.wa=n.wa.insert(t,i),nE(n.remoteStore,new Ya($r(Mf(t.path)),i,"TargetPurposeLimboResolution",Eo._e))}}function Qa(n,e,t){return nA.apply(this,arguments)}function nA(){return nA=(0,G.Z)(function*(n,e,t){const i=we(n),r=[],o=[],s=[];var a;i.ga.isEmpty()||(i.ga.forEach((a,l)=>{s.push(i.Ma(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const h=sS.Ki(l.targetId,c);o.push(h)}}))}),yield Promise.all(s),i.fa.u_(r),yield(a=(0,G.Z)(function*(c,h){const m=we(c);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>z.forEach(h,b=>z.forEach(b.qi,C=>m.persistence.referenceDelegate.addReference(y,b.targetId,C)).next(()=>z.forEach(b.Qi,C=>m.persistence.referenceDelegate.removeReference(y,b.targetId,C)))))}catch(y){if(!ec(y))throw y;_e("LocalStore","Failed to update sequence numbers: "+y)}for(const y of h){const b=y.targetId;if(!y.fromCache){const C=m.ns.get(b),D=C.withLastLimboFreeSnapshotVersion(C.snapshotVersion);m.ns=m.ns.insert(b,D)}}}),function l(c,h){return a.apply(this,arguments)})(i.localStore,o))}),nA.apply(this,arguments)}function Woe(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,G.Z)(function*(n,e){const t=we(n);if(!t.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const i=yield C6(t.localStore,e);t.currentUser=e,(o=t).Ca.forEach(a=>{a.forEach(l=>{l.reject(new me(Q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ca.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Qa(t,i.us)}var o}),iA.apply(this,arguments)}function Zoe(n,e){const t=we(n),i=t.Sa.get(e);if(i&&i.ma)return ft().add(i.key);{let r=ft();const o=t.pa.get(e);if(!o)return r;for(const s of o){const a=t.ga.get(s);r=r.unionWith(a.view.la)}return r}}function Koe(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,G.Z)(function*(n,e){const t=we(n),i=yield Qw(t.localStore,e.query,!0),r=e.view.Ra(i);return t.isPrimaryClient&&eA(t,e.targetId,r.da),r}),rA.apply(this,arguments)}function Yoe(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,G.Z)(function*(n,e){const t=we(n);return D6(t.localStore,e).then(i=>Qa(t,i))}),oA.apply(this,arguments)}function Qoe(n,e,t,i){return sA.apply(this,arguments)}function sA(){return sA=(0,G.Z)(function*(n,e,t,i){const r=we(n),o=yield function(a,l){const c=we(a),h=we(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",m=>h.vn(m,l).next(y=>y?c.localDocuments.getDocuments(m,y):z.resolve(null)))}(r.localStore,e);var l;null!==o?("pending"===t?yield Gf(r.remoteStore):"acknowledged"===t||"rejected"===t?(JS(r,e,i||null),XS(r,e),l=e,we(we(r.localStore).mutationQueue).Mn(l)):Pe(),yield Qa(r,o)):_e("SyncEngine","Cannot apply mutation batch with id: "+e)}),sA.apply(this,arguments)}function aA(){return aA=(0,G.Z)(function*(n,e){const t=we(n);if(dA(t),hA(t),!0===e&&!0!==t.Fa){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Y6(t,i.toArray());t.Fa=!0,yield RS(t.remoteStore,!0);for(const o of r)nE(t.remoteStore,o)}else if(!1===e&&!1!==t.Fa){const i=[];let r=Promise.resolve();t.pa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Qf(t,s),zf(t.localStore,s,!0))),ny(t.remoteStore,s)}),yield r,yield Y6(t,i),function(s){const a=we(s);a.Sa.forEach((l,c)=>{ny(a.remoteStore,c)}),a.ba.mr(),a.Sa=new Map,a.wa=new wn(Ce.comparator)}(t),t.Fa=!1,yield RS(t.remoteStore,!1)}}),aA.apply(this,arguments)}function Y6(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,G.Z)(function*(n,e,t){const i=we(n),r=[],o=[];for(const s of e){let a;const l=i.pa.get(s);if(l&&0!==l.length){a=yield $f(i.localStore,$r(l[0]));for(const c of l){const h=i.ga.get(c),m=yield Koe(i,h);m.snapshot&&o.push(m.snapshot)}}else{const c=yield x6(i.localStore,s);a=yield $f(i.localStore,c),yield $S(i,Q6(c),s,!1,a.resumeToken)}r.push(a)}return i.fa.u_(o),r}),lA.apply(this,arguments)}function Q6(n){return tB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Joe(n){return t=we(n).localStore,we(we(t).persistence).Li();var t}function ese(n,e,t,i){return cA.apply(this,arguments)}function cA(){return cA=(0,G.Z)(function*(n,e,t,i){const r=we(n);if(r.Fa)return void _e("SyncEngine","Ignoring unexpected query state notification.");const o=r.pa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield D6(r.localStore,oB(o[0])),a=$_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ki.EMPTY_BYTE_STRING);yield Qa(r,s,a);break}case"rejected":yield zf(r.localStore,e,!0),Qf(r,e,i);break;default:Pe()}}),cA.apply(this,arguments)}function tse(n,e,t){return uA.apply(this,arguments)}function uA(){return uA=(0,G.Z)(function*(n,e,t){const i=dA(n);if(i.Fa){for(const r of e){if(i.pa.has(r)){_e("SyncEngine","Adding an already active target "+r);continue}const o=yield x6(i.localStore,r),s=yield $f(i.localStore,o);yield $S(i,Q6(o),s.targetId,!1,s.resumeToken),nE(i.remoteStore,s)}for(const r of t)i.pa.has(r)&&(yield zf(i.localStore,r,!1).then(()=>{ny(i.remoteStore,r),Qf(i,r)}).catch(Jl))}}),uA.apply(this,arguments)}function dA(n){const e=we(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=W6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hoe.bind(null,e),e.fa.u_=Poe.bind(null,e.eventManager),e.fa.xa=Roe.bind(null,e.eventManager),e}function hA(n){const e=we(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$oe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zoe.bind(null,e),e}class iy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,G.Z)(function*(){t.serializer=ey(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return E6(this.persistence,new w6,e.initialUser,this.serializer)}createPersistence(e){return new nS(Zw.Hr,this.serializer)}createSharedClientState(e){return new k6}terminate(){var e=this;return(0,G.Z)(function*(){var t,i;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(i=e.indexBackfillerScheduler)||void 0===i||i.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fA extends iy{constructor(e,t,i){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,G.Z)(function*(){yield t().call(i,e),yield i.Na.initialize(i,e),yield hA(i.Na.syncEngine),yield Gf(i.Na.remoteStore),yield i.persistence.fi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return E6(this.persistence,new w6,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new h6(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new Sie(t,this.persistence);return new Die(e.asyncQueue,i)}createPersistence(e){const t=oS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new rS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,R6(),tE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new k6}}class X6 extends fA{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,G.Z)(function*(){yield t().call(i,e);const r=i.Na.syncEngine;i.sharedClientState instanceof pS&&(i.sharedClientState.syncEngine={Zs:Qoe.bind(null,r),Xs:ese.bind(null,r),eo:tse.bind(null,r),Li:Joe.bind(null,r),Ys:Yoe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.fi(function(){var o=(0,G.Z)(function*(s){yield function Xoe(n,e){return aA.apply(this,arguments)}(i.Na.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=R6();if(!pS.D(t))throw new me(Q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=oS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pS(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Xf{initialize(e,t){var i=this;return(0,G.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Z6(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Woe.bind(null,i.syncEngine),yield RS(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new koe}createDatastore(e){const t=ey(e.databaseInfo.databaseId),i=new poe(e.databaseInfo);return new _oe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>Z6(this.syncEngine,t,0),a=P6.D()?new P6:new doe,new boe(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,l,c,h){const m=new Voe(r,o,s,a,l,c);return h&&(m.Fa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,G.Z)(function*(){var t,i;yield(i=(0,G.Z)(function*(o){const s=we(o);_e("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield qf(s),s.M_.shutdown(),s.x_.set("Unknown")}),function r(o){return i.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}function J6(n,e=10240){let t=0;return{read:()=>(0,G.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,G.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class rE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class rse{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new Mi,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(i=>{i&&i.ea()?this.metadata.resolve(i.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.X_)}`))},i=>this.metadata.reject(i))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,G.Z)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,G.Z)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,G.Z)(function*(){const t=yield e.Ka();if(null===t)return null;const i=e.qa.decode(t),r=Number(i);isNaN(r)&&e.$a(`length string (${i}) is not valid number`);const o=yield e.Ua(r);return new Ooe(JSON.parse(o),t.length+r)})()}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ka(){var e=this;return(0,G.Z)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const t=e.Wa();t<0&&e.$a("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ua(e){var t=this;return(0,G.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ga())&&t.$a("Reached the end of bundle when more is expected.");const i=t.qa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,G.Z)(function*(){const t=yield e.ka.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class ose{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,G.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new me(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const i=yield(r=(0,G.Z)(function*(s,a){const l=we(s),c={documents:a.map(b=>q_(l.serializer,b))},h=yield l.vo("BatchGetDocuments",l.serializer.databaseId,At.emptyPath(),c,a.length),m=new Map;h.forEach(b=>{const C=function xre(n,e){return"found"in e?function(i,r){Ue(!!r.found);const o=ha(i,r.found.name),s=ni(r.found.updateTime),a=r.found.createTime?ni(r.found.createTime):je.min(),l=new ir({mapValue:{fields:r.found.fields}});return Mn.newFoundDocument(o,s,a,l)}(n,e):"missing"in e?function(i,r){Ue(!!r.missing),Ue(!!r.readTime);const o=ha(i,r.missing),s=ni(r.readTime);return Mn.newNoDocument(o,s)}(n,e):Pe()}(l.serializer,b);m.set(C.key.toString(),C)});const y=[];return a.forEach(b=>{const C=m.get(b.toString());Ue(!!C),y.push(C)}),y}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ff(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,G.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=Ce.fromPath(r);e.mutations.push(new LD(o,e.precondition(o)))}),yield(i=(0,G.Z)(function*(o,s){const a=we(o),l={writes:s.map(c=>G_(a.serializer,c))};yield a.So("Commit",a.serializer.databaseId,At.emptyPath(),l)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pe();t=je.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new me(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(je.min())?Fn.exists(!1):Fn.updateTime(t):Fn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(je.min()))throw new me(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(t)}return Fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sse{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.za=i.maxAttempts,this.jo=new gS(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,G.Z)(function*(){const t=new ose(e.datastore),i=e.Ja(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Ya(o)}))}).catch(r=>{e.Ya(r)})}))}Ja(e){try{const t=this.updateFunction(e);return!S_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!CB(t)}return!1}}class ase{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ui.UNAUTHENTICATED,this.clientId=v5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,G.Z)(function*(a){_e("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(_e("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Zf(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function oE(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,G.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,G.Z)(function*(o){i.isEqual(o)||(yield C6(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),pA.apply(this,arguments)}function mA(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,G.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _A(n);_e("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>U6(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>U6(e.remoteStore,r)),n._onlineComponents=e}),gA.apply(this,arguments)}function eU(n){return"FirebaseError"===n.name?n.code===Q.FAILED_PRECONDITION||n.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function _A(n){return yA.apply(this,arguments)}function yA(){return yA=(0,G.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{yield oE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!eU(t))throw t;ro("Error using user provided cache. Falling back to memory cache: "+t),yield oE(n,new iy)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),yield oE(n,new iy);return n._offlineComponents}),yA.apply(this,arguments)}function sE(n){return vA.apply(this,arguments)}function vA(){return vA=(0,G.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),yield mA(n,n._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),yield mA(n,new Xf))),n._onlineComponents}),vA.apply(this,arguments)}function tU(n){return _A(n).then(e=>e.persistence)}function Jf(n){return _A(n).then(e=>e.localStore)}function nU(n){return sE(n).then(e=>e.remoteStore)}function bA(n){return sE(n).then(e=>e.syncEngine)}function ep(n){return wA.apply(this,arguments)}function wA(){return wA=(0,G.Z)(function*(n){const e=yield sE(n),t=e.eventManager;return t.onListen=Boe.bind(null,e.syncEngine),t.onUnlisten=Uoe.bind(null,e.syncEngine),t}),wA.apply(this,arguments)}function rU(n,e,t={}){const i=new Mi;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(o,s,a,l,c){const h=new rE({next:y=>{s.enqueueAndForget(()=>VS(o,m));const b=y.docs.has(a);!b&&y.fromCache?c.reject(new me(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&l&&"server"===l.source?c.reject(new me(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(y)},error:y=>c.reject(y)}),m=new jS(Mf(a.path),h,{includeMetadataChanges:!0,Z_:!0});return FS(o,m)}(yield ep(n),n.asyncQueue,e,t,i)})),i.promise}function oU(n,e,t={}){const i=new Mi;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(o,s,a,l,c){const h=new rE({next:y=>{s.enqueueAndForget(()=>VS(o,m)),y.fromCache&&"server"===l.source?c.reject(new me(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(y)},error:y=>c.reject(y)}),m=new jS(a,h,{includeMetadataChanges:!0,Z_:!0});return FS(o,m)}(yield ep(n),n.asyncQueue,e,t,i)})),i.promise}function sU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const aU=new Map;function EA(n,e,t){if(!t)throw new me(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lU(n,e,t,i){if(!0===e&&!0===i)throw new me(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cU(n){if(!Ce.isDocumentKey(n))throw new me(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uU(n){if(Ce.isDocumentKey(n))throw new me(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Pe()}function xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=aE(n);throw new me(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dU(n,e){if(e<=0)throw new me(Q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hU{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new me(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new me(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=sU(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ry{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new me(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hU(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new mie;switch(i.type){case"firstParty":return new vie(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=aU.get(t);i&&(_e("ComponentProvider","Removing Datastore"),aU.delete(t),i.terminate())}(this),Promise.resolve()}}class rr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new rr(this.firestore,e,this._query)}}class kn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class fa extends rr{constructor(e,t,i){super(e,t,Mf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new Ce(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function pU(n,e,...t){if(n=(0,qt.m9)(n),EA("collection","path",e),n instanceof ry){const i=At.fromString(e,...t);return uU(i),new fa(n,null,i)}{if(!(n instanceof kn||n instanceof fa))throw new me(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(At.fromString(e,...t));return uU(i),new fa(n.firestore,null,i)}}function lE(n,e,...t){if(n=(0,qt.m9)(n),1===arguments.length&&(e=v5.newId()),EA("doc","path",e),n instanceof ry){const i=At.fromString(e,...t);return cU(i),new kn(n,null,new Ce(i))}{if(!(n instanceof kn||n instanceof fa))throw new me(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(At.fromString(e,...t));return cU(i),new kn(n.firestore,n instanceof fa?n.converter:null,new Ce(i))}}function mU(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),(n instanceof kn||n instanceof fa)&&(e instanceof kn||e instanceof fa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function CA(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),n instanceof rr&&e instanceof rr&&n.firestore===e.firestore&&F_(n._query,e._query)&&n.converter===e.converter}class vse{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new gS(this,"async_queue_retry"),this._u=()=>{const t=tE();t&&_e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.jo.Ko()};const e=tE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=tE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const t=new Mi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,G.Z)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(t){if(!ec(t))throw t;_e("AsyncQueue","Operation failed with retryable error: "+t)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const t=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{throw this.ru=i,this.iu=!1,ti("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.iu=!1,i))));return this.Xa=t,t}enqueueAfterDelay(e,t,i){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=NS.createAndSchedule(this,e,t,i,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&Pe()}verifyOperationInProgress(){}hu(){var e=this;return(0,G.Z)(function*(){let t;do{t=e.Xa,yield t}while(t!==e.Xa)})()}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function TA(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class bse{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class En extends ry{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new vse,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gU(this),this._firestoreClient.terminate()}}function Zn(n){return n._firestoreClient||gU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gU(n){var e,t,i;const r=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Kie(n._databaseId,l,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sU(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;n._firestoreClient=new ase(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function _U(n,e,t){const i=new Mi;return n.asyncQueue.enqueue((0,G.Z)(function*(){try{yield oE(n,t),yield mA(n,e),i.resolve()}catch(r){const o=r;if(!eU(o))throw o;ro("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function yU(n){if(n._initialized||n._terminated)throw new me(Q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(ki.fromBase64String(e))}catch(t){throw new me(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pa(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new me(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wu{constructor(e){this._methodName=e}}class cE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}const kse=/^__.*__$/;class Pse{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nf(e,this.data,t,this.fieldTransforms)}}class vU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class uE{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new uE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return fE(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(bU(this.du)&&kse.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Rse{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ey(e)}Su(e,t,i,r=!1){return new uE({du:e,methodName:t,wu:i,path:An.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zu(n){const e=n._freezeSettings(),t=ey(n._databaseId);return new Rse(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dE(n,e,t,i,r,o={}){const s=n.Su(o.merge||o.mergeFields?2:0,e,t,r);kA("Data must be an object, but it was:",s,i);const a=CU(i,s);let l,c;if(o.merge)l=new oo(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const y=ay(e,m,t);if(!s.contains(y))throw new me(Q.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);IU(h,y)||h.push(y)}l=new oo(h),c=s.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=s.fieldTransforms;return new Pse(new ir(a),l,c)}class sy extends Wu{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sy}}function wU(n,e,t){return new uE({du:3,wu:e.settings.wu,methodName:n._methodName,Vu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class IA extends Wu{_toFieldTransform(e){return new U_(e.path,new Rf)}isEqual(e){return e instanceof IA}}class xA extends Wu{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=wU(this,e,!0),i=this.bu.map(o=>Ku(o,t)),r=new Vu(i);return new U_(e.path,r)}isEqual(e){return e instanceof xA&&(0,qt.vZ)(this.bu,e.bu)}}class DA extends Wu{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=wU(this,e,!0),i=this.bu.map(o=>Ku(o,t)),r=new Bu(i);return new U_(e.path,r)}isEqual(e){return e instanceof DA&&(0,qt.vZ)(this.bu,e.bu)}}class SA extends Wu{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new Of(e.serializer,hB(e.serializer,this.Du));return new U_(e.path,t)}isEqual(e){return e instanceof SA&&this.Du===e.Du}}function AA(n,e,t,i){const r=n.Su(1,e,t);kA("Data must be an object, but it was:",r,i);const o=[],s=ir.empty();tc(i,(l,c)=>{const h=hE(e,l,t);c=(0,qt.m9)(c);const m=r.fu(h);if(c instanceof sy)o.push(h);else{const y=Ku(c,m);null!=y&&(o.push(h),s.set(h,y))}});const a=new oo(o);return new vU(s,a,r.fieldTransforms)}function MA(n,e,t,i,r,o){const s=n.Su(1,e,t),a=[ay(e,i,t)],l=[r];if(o.length%2!=0)throw new me(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(ay(e,o[y])),l.push(o[y+1]);const c=[],h=ir.empty();for(let y=a.length-1;y>=0;--y)if(!IU(c,a[y])){const b=a[y];let C=l[y];C=(0,qt.m9)(C);const T=s.fu(b);if(C instanceof sy)c.push(b);else{const D=Ku(C,T);null!=D&&(c.push(b),h.set(b,D))}}const m=new oo(c);return new vU(h,m,s.fieldTransforms)}function EU(n,e,t,i=!1){return Ku(t,n.Su(i?4:3,e))}function Ku(n,e){if(TU(n=(0,qt.m9)(n)))return kA("Unsupported field value:",e,n),CU(n,e);if(n instanceof Wu)return function(i,r){if(!bU(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=Ku(a,r.gu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,qt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return hB(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Nn.fromDate(i);return{timestampValue:Lf(r.serializer,o)}}if(i instanceof Nn){const o=new Nn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lf(r.serializer,o)}}if(i instanceof cE)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pa)return{bytesValue:RB(r.serializer,i._byteString)};if(i instanceof kn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$D(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${aE(i)}`)}(n,e)}function CU(n,e){const t={};return O5(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tc(n,(i,r)=>{const o=Ku(r,e.Ru(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function TU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof cE||n instanceof pa||n instanceof kn||n instanceof Wu)}function kA(n,e,t){if(!TU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=aE(t);throw e.pu("an object"===i?n+" a custom object":n+" "+i)}var r}function ay(n,e,t){if((e=(0,qt.m9)(e))instanceof Xa)return e._internalPath;if("string"==typeof e)return hE(n,e);throw fE("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ose=new RegExp("[~\\*/\\[\\]]");function hE(n,e,t){if(e.search(Ose)>=0)throw fE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xa(...e.split("."))._internalPath}catch{throw fE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fE(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new me(Q.INVALID_ARGUMENT,a+n+l)}function IU(n,e){return n.some(t=>t.isEqual(e))}class ly{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Nse extends ly{data(){return super.data()}}function pE(n,e){return"string"==typeof e?hE(n,e):e instanceof Xa?e._internalPath:e._delegate._internalPath}function xU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new me(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PA{}class cy extends PA{}function pc(n,e,...t){let i=[];e instanceof PA&&i.push(e),i=i.concat(t),function(o){const s=o.filter(l=>l instanceof tp).length,a=o.filter(l=>l instanceof uy).length;if(s>1||s>0&&a>0)throw new me(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class uy extends cy{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new uy(e,t,i)}_apply(e){const t=this._parse(e);return MU(e._query,t),new rr(e.firestore,e.converter,ND(e._query,t))}_parse(e){const t=Zu(e.firestore);return function(o,s,a,l,c,h,m){let y;if(c.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new me(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){AU(m,h);const b=[];for(const C of m)b.push(SU(l,o,C));y={arrayValue:{values:b}}}else y=SU(l,o,m)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||AU(m,h),y=EU(a,"where",m,"in"===h||"not-in"===h);return Mt.create(c,h,y)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class tp extends PA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:en.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)MU(s,l),s=ND(s,l)}(e._query,t),new rr(e.firestore,e.converter,ND(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class RA extends cy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new RA(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new me(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new me(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new O_(o,s)}(e._query,this._field,this._direction);return new rr(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Wa(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class mE extends cy{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new mE(e,t,i)}_apply(e){return new rr(e.firestore,e.converter,Nw(e._query,this._limit,this._limitType))}}class gE extends cy{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new gE(e,t,i)}_apply(e){const t=DU(e,this.type,this._docOrFields,this._inclusive);return new rr(e.firestore,e.converter,(o=t,new Wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class _E extends cy{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new _E(e,t,i)}_apply(e){const t=DU(e,this.type,this._docOrFields,this._inclusive);return new rr(e.firestore,e.converter,(o=t,new Wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function DU(n,e,t,i){if(t[0]=(0,qt.m9)(t[0]),t[0]instanceof ly)return function(o,s,a,l,c){if(!l)throw new me(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const m of kf(o))if(m.field.isKeyField())h.push(Fu(s,l.key));else{const y=l.data.field(m.field);if(Sw(y))throw new me(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const b=m.field.canonicalString();throw new me(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}h.push(y)}return new ac(h,c)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Zu(n.firestore);return function(s,a,l,c,h,m){const y=s.explicitOrderBy;if(h.length>y.length)throw new me(Q.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let C=0;C<h.length;C++){const T=h[C];if(y[C].field.isKeyField()){if("string"!=typeof T)throw new me(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof T}`);if(!OD(s)&&-1!==T.indexOf("/"))throw new me(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${T}' contains a slash.`);const D=s.path.child(At.fromString(T));if(!Ce.isDocumentKey(D))throw new me(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const F=new Ce(D);b.push(Fu(a,F))}else{const D=EU(l,c,T);b.push(D)}}return new ac(b,m)}(n._query,n.firestore._databaseId,r,e,t,i)}}function SU(n,e,t){if("string"==typeof(t=(0,qt.m9)(t))){if(""===t)throw new me(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OD(e)&&-1!==t.indexOf("/"))throw new me(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(At.fromString(t));if(!Ce.isDocumentKey(i))throw new me(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fu(n,new Ce(i))}if(t instanceof kn)return Fu(n,t._key);throw new me(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${aE(t)}.`)}function AU(n,e){if(!Array.isArray(n)||0===n.length)throw new me(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MU(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new me(Q.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class OA{convertValue(e,t="none"){switch(oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return tc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new cE(Wn(e.latitude),Wn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Aw(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(M_(e));default:return null}}convertTimestamp(e){const t=nc(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=At.fromString(e);Ue(zB(i));const r=new ic(i.get(1),i.get(3)),o=new Ce(i.popFirst(5));return r.isEqual(t)||ti(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function yE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class zse extends OA{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}class Yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends ly{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(pE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class dy extends Ja{data(e={}){return super.data(e)}}class mc{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new dy(this._firestore,this._userDataWriter,i.key,i,new Yu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new dy(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Yu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new dy(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Yu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Gse(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gse(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}function PU(n,e){return n instanceof Ja&&e instanceof Ja?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof mc&&e instanceof mc&&n._firestore===e._firestore&&CA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class gc extends OA{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function RU(n,e,t){n=xt(n,kn);const i=xt(n.firestore,En),r=yE(n.converter,e,t);return np(i,[dE(Zu(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Fn.none())])}function OU(n,e,t,...i){n=xt(n,kn);const r=xt(n.firestore,En),o=Zu(r);let s;return s="string"==typeof(e=(0,qt.m9)(e))||e instanceof Xa?MA(o,"updateDoc",n._key,e,t,i):AA(o,"updateDoc",n._key,e),np(r,[s.toMutation(n._key,Fn.exists(!0))])}function NU(n,...e){var t,i,r;n=(0,qt.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||TA(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(TA(e[s])){const m=e[s];e[s]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[s+1]=null===(i=m.error)||void 0===i?void 0:i.bind(m),e[s+2]=null===(r=m.complete)||void 0===r?void 0:r.bind(m)}let l,c,h;if(n instanceof kn)c=xt(n.firestore,En),h=Mf(n._key.path),l={next:m=>{e[s]&&e[s](NA(c,n,m))},error:e[s+1],complete:e[s+2]};else{const m=xt(n,rr);c=xt(m.firestore,En),h=m._query;const y=new gc(c);l={next:b=>{e[s]&&e[s](new mc(c,y,m,b))},error:e[s+1],complete:e[s+2]},xU(n._query)}return function(y,b,C,T){const D=new rE(T),F=new jS(b,D,C);return y.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return FS(yield ep(y),F)})),()=>{D.La(),y.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return VS(yield ep(y),F)}))}}(Zn(c),h,a,l)}function np(n,e){return function(i,r){const o=new Mi;return i.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function joe(n,e,t){return GS.apply(this,arguments)}(yield bA(i),r,o)})),o.promise}(Zn(n),e)}function NA(n,e,t){const i=t.docs.get(e._key),r=new gc(n);return new Ja(n,r,e._key,i,new Yu(t.hasPendingWrites,t.fromCache),e.converter)}const uae={maxAttempts:5};class FU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zu(e)}set(e,t,i){this._verifyNotCommitted();const r=_c(e,this._firestore),o=yE(r.converter,t,i),s=dE(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Fn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=_c(e,this._firestore);let s;return s="string"==typeof(t=(0,qt.m9)(t))||t instanceof Xa?MA(this._dataReader,"WriteBatch.update",o._key,t,i,r):AA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_c(e,this._firestore);return this._mutations=this._mutations.concat(new Ff(t._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _c(n,e){if((n=(0,qt.m9)(n)).firestore!==e)throw new me(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dae extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Zu(t)}get(t){const i=_c(t,this._firestore),r=new zse(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return Pe();const s=o[0];if(s.isFoundDocument())return new ly(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new ly(this._firestore,r,i._key,null,i.converter);throw Pe()})}set(t,i,r){const o=_c(t,this._firestore),s=yE(o.converter,i,r),a=dE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=_c(t,this._firestore);let a;return a="string"==typeof(i=(0,qt.m9)(i))||i instanceof Xa?MA(this._dataReader,"Transaction.update",s._key,i,r,o):AA(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=_c(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_c(e,this._firestore),i=new gc(this._firestore);return super.get(e).then(r=>new Ja(this._firestore,i,t._key,r._document,new Yu(!1,!1),t.converter))}}function LA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UU(){if(typeof Uint8Array>"u")throw new me("unimplemented","Uint8Arrays are not available in this environment.")}function jU(){if(!function Wie(){return typeof atob<"u"}())throw new me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Ef=hf.SDK_VERSION,(0,hf._registerComponent)(new Y3.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new En(new _ie(i.getProvider("auth-internal")),new bie(i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new me(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(c.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,hf.registerVersion)(g5,"4.4.3",e),(0,hf.registerVersion)(g5,"4.4.3","esm2017")}();class hy{constructor(e){this._delegate=e}static fromBase64String(e){return jU(),new hy(pa.fromBase64String(e))}static fromUint8Array(e){return UU(),new hy(pa.fromUint8Array(e))}toBase64(){return jU(),this._delegate.toBase64()}toUint8Array(){return UU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function VA(n){return function wae(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Eae{enableIndexedDbPersistence(e,t){return function Ese(n,e){yU(n=xt(n,En));const t=Zn(n);if(t._uninitializedComponentsProvider)throw new me(Q.FAILED_PRECONDITION,"SDK cache is already specified.");ro("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Xf;return _U(t,r,new fA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Cse(n){yU(n=xt(n,En));const e=Zn(n);if(e._uninitializedComponentsProvider)throw new me(Q.FAILED_PRECONDITION,"SDK cache is already specified.");ro("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Xf;return _U(e,i,new X6(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Tse(n){if(n._initialized&&!n._terminated)throw new me(Q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{yield(t=(0,G.Z)(function*(r){if(!Qo.D())return Promise.resolve();const o=r+"main";yield Qo.delete(o)}),function i(r){return t.apply(this,arguments)})(oS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class HU{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ic||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ro("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function fU(n,e,t,i={}){var r;const o=(n=xt(n,ry))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Ui.MOCK_USER;else{a=(0,qt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new me(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ui(c)}n._authCredentials=new gie(new _5(a,l))}}(this._delegate,e,t,i)}enableNetwork(){return function xse(n){return function lse(n){return n.asyncQueue.enqueue((0,G.Z)(function*(){const e=yield tU(n),t=yield nU(n);return e.setNetworkEnabled(!0),function(r){const o=we(r);return o.v_.delete(0),ty(o)}(t)}))}(Zn(n=xt(n,En)))}(this._delegate)}disableNetwork(){return function Dse(n){return function cse(n){return n.asyncQueue.enqueue((0,G.Z)(function*(){const e=yield tU(n),t=yield nU(n);return e.setNetworkEnabled(!1),(i=(0,G.Z)(function*(o){const s=we(o);s.v_.add(0),yield qf(s),s.x_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(Zn(n=xt(n,En)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,lU("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ise(n){return function(t){const i=new Mi;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function qoe(n,e){return QS.apply(this,arguments)}(yield bA(t),i)})),i.promise}(Zn(n=xt(n,En)))}(this._delegate)}onSnapshotsInSync(e){return function tae(n,e){return function hse(n,e){const t=new rE(e);return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return r=yield ep(n),o=t,we(r).K_.add(o),void o.next();var r,o})),()=>{t.La(),n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return r=yield ep(n),o=t,void we(r).K_.delete(o);var r,o}))}}(Zn(n=xt(n,En)),TA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ip(this,pU(this._delegate,e))}catch(t){throw zr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xo(this,lE(this._delegate,e))}catch(t){throw zr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qr(this,function yse(n,e){if(n=xt(n,ry),EA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new me(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rr(n,null,(i=e,new Wa(At.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw zr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hae(n,e,t){n=xt(n,En);const i=Object.assign(Object.assign({},uae),t);return function(o){if(o.maxAttempts<1)throw new me(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new Mi;return o.asyncQueue.enqueueAndForget((0,G.Z)(function*(){const c=yield function iU(n){return sE(n).then(e=>e.datastore)}(o);new sse(o.asyncQueue,c,a,s,l).ja()})),l.promise}(Zn(n),r=>e(new dae(n,r)),i)}(this._delegate,t=>e(new $U(this,t)))}batch(){return Zn(this._delegate),new zU(new FU(this._delegate,e=>np(this._delegate,e)))}loadBundle(e){return function Sse(n,e){const t=Zn(n=xt(n,En)),i=new bse;return function fse(n,e,t,i){const r=function(s,a){let l;return l="string"==typeof s?IB().encode(s):s,h=function(h,m){if(h instanceof Uint8Array)return J6(h,m);if(h instanceof ArrayBuffer)return J6(new Uint8Array(h),m);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new rse(h,a);var h}(t,ey(e));n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){!function nse(n,e,t){const i=we(n);var r;(r=(0,G.Z)(function*(s,a,l){try{const c=yield a.getMetadata();if(yield function(C,T){const D=we(C),F=ni(T.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",O=>D.$r.getBundleMetadata(O,T.id)).then(O=>!!O&&O.createTime.compareTo(F)>=0)}(s.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(C=c).totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}),Promise.resolve(new Set);l._updateProgress($6(c));const h=new Noe(c,s.localStore,a.serializer);let m=yield a.Oa();for(;m;){const b=yield h.na(m);b&&l._updateProgress(b),m=yield a.Oa()}const y=yield h.complete();return yield Qa(s,y.sa,void 0),yield function(C,T){const D=we(C);return D.persistence.runTransaction("Save bundle","readwrite",F=>D.$r.saveBundleMetadata(F,T))}(s.localStore,c),l._completeWith(y.progress),Promise.resolve(y.ia)}catch(c){return ro("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var C}),function o(s,a,l){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield bA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Ase(n,e){return function pse(n,e){return n.asyncQueue.enqueue((0,G.Z)(function*(){return function(i,r){const o=we(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield Jf(n),e)}))}(Zn(n=xt(n,En)),e).then(t=>t?new rr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new qr(this,t):null)}}class bE extends OA{constructor(e){super(),this.firestore=e}convertBytes(e){return new hy(new pa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xo.forKey(t,this.firestore,null)}}class $U{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new bE(e)}get(e){const t=Xu(e);return this._delegate.get(t).then(i=>new fy(this._firestore,new Ja(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Xu(e);return i?(LA("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Xu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Xu(e);return this._delegate.delete(t),this}}class zU{constructor(e){this._delegate=e}set(e,t,i){const r=Xu(e);return i?(LA("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Xu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Xu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qu{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new dy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new py(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Qu.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Qu(e,new bE(e),t),r.set(t,o)),o}}Qu.INSTANCES=new WeakMap;class Xo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xo(t,new kn(t._delegate,i,new Ce(e)))}static forKey(e,t,i){return new Xo(t,new kn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ip(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ip(this.firestore,pU(this._delegate,e))}catch(t){throw zr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qt.m9)(e))instanceof kn&&mU(this._delegate,e)}set(e,t){t=LA("DocumentReference.set",t);try{return t?RU(this._delegate,e,t):RU(this._delegate,e)}catch(i){throw zr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?OU(this._delegate,e):OU(this._delegate,e,t,...i)}catch(r){throw zr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Jse(n){return np(xt(n.firestore,En),[new Ff(n._key,Fn.none())])}(this._delegate)}onSnapshot(...e){const t=qU(e),i=GU(e,r=>new fy(this.firestore,new Ja(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return NU(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Zse(n){n=xt(n,kn);const e=xt(n.firestore,En),t=Zn(e),i=new gc(e);return function use(n,e){const t=new Mi;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(i=(0,G.Z)(function*(o,s,a){try{const l=yield function(h,m){const y=we(h);return y.persistence.runTransaction("read document","readonly",b=>y.localDocuments.getDocument(b,m))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new me(Q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=Zf(l,`Failed to get document '${s} from cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Jf(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Ja(e,i,n._key,r,new Yu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Kse(n){n=xt(n,kn);const e=xt(n.firestore,En);return rU(Zn(e),n._key,{source:"server"}).then(t=>NA(e,n,t))}(this._delegate):function Wse(n){n=xt(n,kn);const e=xt(n.firestore,En);return rU(Zn(e),n._key).then(t=>NA(e,n,t))}(this._delegate),t.then(i=>new fy(this.firestore,new Ja(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Xo(this.firestore,this._delegate.withConverter(e?Qu.getInstance(this.firestore,e):null))}}function zr(n,e,t){return n.message=n.message.replace(e,t),n}function qU(n){for(const e of n)if("object"==typeof e&&!VA(e))return e;return{}}function GU(n,e){var t,i;let r;return r=VA(n[0])?n[0]:VA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class fy{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return PU(this._delegate,e._delegate)}}class py extends fy{data(e){const t=this._delegate.data(e);return this._delegate._converter||function pie(n,e){n||Pe()}(void 0!==t),t}}class qr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bE(e)}where(e,t,i){try{return new qr(this.firestore,pc(this._delegate,function Fse(n,e,t){const i=e,r=pE("where",n);return uy._create(r,i,t)}(e,t,i)))}catch(r){throw zr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qr(this.firestore,pc(this._delegate,function Lse(n,e="asc"){const t=e,i=pE("orderBy",n);return RA._create(i,t)}(e,t)))}catch(i){throw zr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qr(this.firestore,pc(this._delegate,function Vse(n){return dU("limit",n),mE._create("limit",n,"F")}(e)))}catch(t){throw zr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qr(this.firestore,pc(this._delegate,function Bse(n){return dU("limitToLast",n),mE._create("limitToLast",n,"L")}(e)))}catch(t){throw zr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qr(this.firestore,pc(this._delegate,function Use(...n){return gE._create("startAt",n,!0)}(...e)))}catch(t){throw zr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qr(this.firestore,pc(this._delegate,function jse(...n){return gE._create("startAfter",n,!1)}(...e)))}catch(t){throw zr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qr(this.firestore,pc(this._delegate,function Hse(...n){return _E._create("endBefore",n,!1)}(...e)))}catch(t){throw zr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qr(this.firestore,pc(this._delegate,function $se(...n){return _E._create("endAt",n,!0)}(...e)))}catch(t){throw zr(t,"endAt()","Query.endAt()")}}isEqual(e){return CA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Qse(n){n=xt(n,rr);const e=xt(n.firestore,En),t=Zn(e),i=new gc(e);return function dse(n,e){const t=new Mi;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(i=(0,G.Z)(function*(o,s,a){try{const l=yield Qw(o,s,!0),c=new G6(s,l.hs),h=c.ha(l.documents),m=c.applyChanges(h,!1);a.resolve(m.snapshot)}catch(l){const c=Zf(l,`Failed to execute query '${s} against cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Jf(n),e,t);var i})),t.promise}(t,n._query).then(r=>new mc(e,i,n,r))}(this._delegate):"server"===e?.source?function Xse(n){n=xt(n,rr);const e=xt(n.firestore,En),t=Zn(e),i=new gc(e);return oU(t,n._query,{source:"server"}).then(r=>new mc(e,i,n,r))}(this._delegate):function Yse(n){n=xt(n,rr);const e=xt(n.firestore,En),t=Zn(e),i=new gc(e);return xU(n._query),oU(t,n._query).then(r=>new mc(e,i,n,r))}(this._delegate),t.then(i=>new BA(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=qU(e),i=GU(e,r=>new BA(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return NU(this._delegate,t,i)}withConverter(e){return new qr(this.firestore,this._delegate.withConverter(e?Qu.getInstance(this.firestore,e):null))}}class Tae{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new py(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class BA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new py(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Tae(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new py(this._firestore,i))})}isEqual(e){return PU(this._delegate,e._delegate)}}class ip extends qr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xo(this.firestore,e):null}doc(e){try{return new Xo(this.firestore,void 0===e?lE(this._delegate):lE(this._delegate,e))}catch(t){throw zr(t,"doc()","CollectionReference.doc()")}}add(e){return function eae(n,e){const t=xt(n.firestore,En),i=lE(n),r=yE(n.converter,e);return np(t,[dE(Zu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Fn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Xo(this.firestore,t))}isEqual(e){return mU(this._delegate,e._delegate)}withConverter(e){return new ip(this.firestore,this._delegate.withConverter(e?Qu.getInstance(this.firestore,e):null))}}function Xu(n){return xt(n,kn)}class UA{constructor(...e){this._delegate=new Xa(...e)}static documentId(){return new UA(An.keyField().canonicalString())}isEqual(e){return(e=(0,qt.m9)(e))instanceof Xa&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ju{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pae(){return new IA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ju(e)}static delete(){const e=function fae(){return new sy("deleteField")}();return e._methodName="FieldValue.delete",new Ju(e)}static arrayUnion(...e){const t=function mae(...n){return new xA("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ju(t)}static arrayRemove(...e){const t=function gae(...n){return new DA("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ju(t)}static increment(e){const t=function _ae(n){return new SA("increment",n)}(e);return t._methodName="FieldValue.increment",new Ju(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Iae={Firestore:HU,GeoPoint:cE,Timestamp:Nn,Blob:hy,Transaction:$U,WriteBatch:zU,DocumentReference:Xo,DocumentSnapshot:fy,Query:qr,QueryDocumentSnapshot:py,QuerySnapshot:BA,CollectionReference:ip,FieldPath:UA,FieldValue:Ju,setLogLevel:function Cae(n){!function fie(n){Xl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function WU(n,e){return function Sae(n,e=i_){return new pt(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function jA(n,e){return WU(n,e).pipe(Re(t=>({payload:t,type:"query"})))}!function Dae(n){(function xae(n,e){n.INTERNAL.registerComponent(new Y3.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Iae)))})(n,(e,t)=>new HU(e,t,new Eae)),n.registerVersion("@firebase/firestore-compat","0.3.26")}(Su.Z);class ZU{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=XU(i,t);return new QU(r,o,this.afs)}snapshotChanges(){return function Aae(n,e){return WU(n,e).pipe(vu(void 0),Rx(),Re(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(vo)}valueChanges(e={}){return this.snapshotChanges().pipe(Re(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return R(this.ref.get(e)).pipe(vo)}}function wE(n,e){return jA(n,e).pipe(vu(void 0),Rx(),Re(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=o.find(m=>m.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(m=>m.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function KU(n,e,t){return wE(n,t).pipe(_b((i,r)=>function Mae(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function kae(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return HA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return HA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return HA(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),pn(),Re(i=>i.map(r=>({type:r.type,payload:r}))))}function HA(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function YU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class QU{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=wE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Re(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(vu(void 0),Rx(),Ai(([i,r])=>r.length>0||!i),Re(([,i])=>i),vo)}auditTrail(e){return this.stateChanges(e).pipe(_b((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=YU(e);return KU(this.query,t,this.afs.schedulers.outsideAngular).pipe(vo)}valueChanges(e={}){return jA(this.query,this.afs.schedulers.outsideAngular).pipe(Re(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),vo)}get(e){return R(this.query.get(e)).pipe(vo)}add(e){return this.ref.add(e)}doc(e){return new ZU(this.ref.doc(e),this.afs)}}class Pae{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?wE(this.query,this.afs.schedulers.outsideAngular).pipe(Re(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ai(t=>t.length>0),vo):wE(this.query,this.afs.schedulers.outsideAngular).pipe(vo)}auditTrail(e){return this.stateChanges(e).pipe(_b((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=YU(e);return KU(this.query,t,this.afs.schedulers.outsideAngular).pipe(vo)}valueChanges(e={}){return jA(this.query,this.afs.schedulers.outsideAngular).pipe(Re(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),vo)}get(e){return R(this.query.get(e)).pipe(vo)}}const Rae=new fe("angularfire2.enableFirestorePersistence"),Oae=new fe("angularfire2.firestore.persistenceSettings"),Nae=new fe("angularfire2.firestore.settings"),Fae=new fe("angularfire2.firestore.use-emulator");function XU(n,e=(t=>t)){return{query:e(n),ref:n}}let $A=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,l,c,h,m,y,b,C,T,D,F,O){this.schedulers=l;const H=Px(t,a,i),ne=h;m&&Z3(H,a,y,C,T,D,b,F),[this.firestore,this.persistenceEnabled$]=V3(`${H.name}.firestore`,"AngularFirestore",H.name,()=>{const be=a.runOutsideAngular(()=>H.firestore());if(o&&be.settings(o),ne&&be.useEmulator(...ne),r&&!lb(s)){const Le=()=>{try{return R(be.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(Ke){return typeof console<"u"&&console.warn(Ke),ie(!1)}};return[be,a.runOutsideAngular(Le)]}return[be,ie(!1)]},[o,ne,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=XU(r,i),a=this.schedulers.ngZone.run(()=>o);return new QU(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new Pae(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new ZU(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(B(Qb),B(Xb,8),B(Rae,8),B(Nae,8),B(us),B(Ze),B(F3),B(Oae,8),B(Fae,8),B(K3,8),B(H3,8),B($3,8),B(z3,8),B(q3,8),B(G3,8),B(W3,8),B(O3,8))};static \u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),zA=(()=>{class n{constructor(t){this.firestore=t}createCallDocument(){var t=this;return(0,G.Z)(function*(){return console.log("createCallDocument called."),yield t.firestore.collection("calls").add({})})()}addOfferCandidate(t,i){return(0,G.Z)(function*(){yield t.collection("offerCandidates").add(i.toJSON())})()}addAnswerCandidate(t,i){return(0,G.Z)(function*(){return t.ref.collection("answerCandidates").add(i.toJSON()).then(()=>{})})()}getCallDocument(t){return this.firestore.collection("calls").doc(t)}updateCallDocument(t,i){return(0,G.Z)(function*(){yield t.update(i)})()}static#e=this.\u0275fac=function(i){return new(i||n)(B($A))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Lae={apiKey:"AIzaSyCYcmdrSRMuFPpvTnU55PMg4WjuFX8PZYQ",authDomain:"docconnect-ddea5.firebaseapp.com",projectId:"docconnect-ddea5",storageBucket:"docconnect-ddea5.appspot.com",messagingSenderId:"347551372277",appId:"1:347551372277:web:7d9856bf795fc23e7546bc",measurementId:"G-KZ6E9E57P9"};let rp=(()=>{class n{constructor(t){this.http=t,this.url_getdoctors=dn_baseUrl+"api/doctor/",this.url_get_doctor=dn_baseUrl+"api/doctor/",this.url_get_patient=dn_baseUrl+"api/patient/",this.url_update_patient=dn_baseUrl+"api/patient/",this.url_create_orderId=dn_baseUrl+"api/patient/payment/createOrderId",this.url_verify_payment=dn_baseUrl+"api/patient/payment/verify",this.url_appointment=dn_baseUrl+"api/patient/appointment/",this.url_payment=dn_baseUrl+"api/patient/payment/",this.url_cancel_appoinment=dn_baseUrl+"api/patient/appointment/cancleappointment"}getDoctors(){return this.http.get(this.url_getdoctors).pipe(bn(i=>{throw console.error("Error in Geting Doctor:",i),i}))}getDoctor(t){return this.http.get(this.url_get_doctor+t).pipe(bn(r=>{throw console.error("Error in fetchin doctor:",r),r}))}getPatient(){return this.http.get(this.url_get_patient).pipe(bn(i=>{throw console.error("Error in fetchin doctor:",i),i}))}updatePatient(t){return this.http.put(this.url_update_patient,t).pipe(bn(r=>{throw console.error("Error in update Patient:",r),r}))}createOrderId(t){const i=new Go({"Content-Type":"application/json"});return this.http.post(this.url_create_orderId,t,{headers:i}).pipe(bn(r=>{throw console.error("Error in createOrderId:",r),r}))}verifyPayment(t){const i=new Go({"Content-Type":"application/json"});return this.http.post(this.url_verify_payment,t,{headers:i}).pipe(bn(r=>{throw console.error("Error in verifyPayment:",r),r}))}bookAppointment(t){return this.http.post(this.url_appointment+"bookAppointment",t).pipe(bn(r=>{throw console.error("Error in book Appointment",r),r}))}appointmentPayment(t){return this.http.post(this.url_payment+"createPayment",t).pipe(bn(r=>{throw console.error("Error in appointment Payment",r),r}))}updateDoctorSlotBook(t,i){return this.http.put(this.url_get_doctor+i+"/bookSlot",t).pipe(bn(o=>{throw console.error("Error in appointment Payment",o),o}))}cancelAppoinment(t){return console.log(this.url_cancel_appoinment),this.http.put(this.url_cancel_appoinment,{appointmentId:t}).pipe(bn(r=>{throw console.error("Error in cancel appoitment:",r),r}))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Gg))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vae(n,e){if(1&n&&(g(0,"option",35),w(1),_()),2&n){const t=e.$implicit;S("value",t.value),x(1),He("",t.label," ")}}function Bae(n,e){if(1&n){const t=Ct();g(0,"form",4),ee("submit",function(){return le(t),oe(L().submitForm())}),g(1,"div",5)(2,"div",6)(3,"div")(4,"label",7),w(5," Edit Your Profile "),_(),g(6,"button",8),ee("click",function(){return le(t),oe(L().closeModal.emit())}),g(7,"span",9),w(8," \xd7 "),_()()(),g(9,"div",10)(10,"div",11)(11,"div",12)(12,"label",13),w(13,"Name"),_(),g(14,"input",14),ee("ngModelChange",function(r){return le(t),oe(L().patient.Name=r)}),_()(),g(15,"div",12)(16,"label",15),w(17,"Password"),_(),g(18,"input",16),ee("ngModelChange",function(r){return le(t),oe(L().patient.Password=r)}),_()()(),g(19,"div",11)(20,"div",17)(21,"label",18),w(22,"Date of Birth"),_(),g(23,"input",19),ee("ngModelChange",function(r){return le(t),oe(L().patient.DoB=r)}),_()(),g(24,"div",17)(25,"label",20),w(26,"Age"),_(),g(27,"input",21),ee("ngModelChange",function(r){return le(t),oe(L().patient.Age=r)}),_()(),g(28,"div",17)(29,"label",22),w(30,"Gender"),_(),g(31,"select",23),ee("ngModelChange",function(r){return le(t),oe(L().patient.Gender=r)}),ge(32,Vae,2,2,"option",24),_()()(),g(33,"div",11)(34,"div",12)(35,"label",25),w(36,"Profile Picture"),_(),g(37,"div",26)(38,"div",27),K(39,"img",28),_(),g(40,"label",29)(41,"span",30),w(42,"Choose profile photo"),_(),g(43,"input",31),ee("change",function(r){return le(t),oe(L().loadFile(r))}),_()()()(),g(44,"div",12)(45,"label",32),w(46,"Phone No."),_(),g(47,"input",33),ee("ngModelChange",function(r){return le(t),oe(L().patient.Phone_no=r)}),_()()()()()(),g(48,"div")(49,"button",34),w(50,"Save Changes"),_()()()}if(2&n){const t=L();x(14),S("ngModel",t.patient.Name),x(4),S("ngModel",t.patient.Password),x(5),S("ngModel",t.patient.DoB)("value",t.patient.DoB),x(4),S("ngModel",t.patient.Age),x(4),S("ngModel",t.patient.Gender),x(1),S("ngForOf",t.genders),x(7),S("src",t.patient.Profile_picture,eo),x(8),S("ngModel",t.patient.Phone_no)}}let Uae=(()=>{class n{constructor(){this.saveChanges=new Kt,this.closeModal=new Kt,this.genders=[{label:"Select Your Gender",value:"0"},{label:"Male",value:"Male"},{label:"Female",value:"Female"}]}submitForm(){this.saveChanges.emit(this.patient),this.closeModal.emit()}loadFile(t){return(0,G.Z)(function*(){const i=t.target;if(i.files&&i.files[0]){const r=new FileReader;r.onload=()=>{},r.readAsDataURL(i.files[0])}})()}ngOnInit(){var t=this;return(0,G.Z)(function*(){console.log(t.patient)})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-edit-patient"]],inputs:{patient:"patient"},outputs:{saveChanges:"saveChanges",closeModal:"closeModal"},decls:4,vars:1,consts:[[1,"fixed","inset-0","z-50","bg-black","bg-opacity-50","flex","items-center","justify-center"],[1,"mt-4",2,"margin-top","1rem","margin-bottom","1.5rem"],[1,"bg-blue-300","p-4","rounded-lg","my-6","max-h-screen","overflow-auto","scrollbar-thin","scrollbar-thumb-gray-500","scrollbar-track-gray-200"],[3,"submit",4,"ngIf"],[3,"submit"],[1,"w-full","backdrop-blur-lg","bg-white/50","md:mt-0","sm:max-w-4xl","xl:p-0","rounded-lg","shadow"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-none","tracking-normal","text-gray-950","md:text-2xl"],[1,"text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","float-right","px-2","pb-1",3,"click"],[1,"text-3xl"],["action","#",1,"mt-4","space-y-4","md:space-y-6"],[1,"flex","flex-wrap","-mx-3","mb-6"],[1,"w-full","md:w-1/2","px-3","mb-6","md:mb-0"],["for","fullname",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","fullname","id","fullname","placeholder","John Cena","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","password",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","password","name","password","id","password","disabled","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"border","bg-gray-200","text-gray-500","cursor-not-allowed","border-gray-400","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[1,"w-full","md:w-1/3","px-3","mb-6","md:mb-0"],["for","dob",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","date","name","dob","id","dob","required","","placeholder","patient.DoB",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","value","ngModelChange"],["for","age",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","age","id","age","placeholder","49","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","selectedGender",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["id","selectedGender","name","selectedGender","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","profile_picture",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],[1,"flex","items-center","pl-3","space-x-6"],[1,"shrink-0"],["id","preview_img","alt","Current profile photo",1,"h-16","w-16","object-cover","rounded-full",3,"src"],[1,"block"],[1,"sr-only"],["type","file","accept","image/*",1,"block","w-full","text-sm","text-slate-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-violet-50","file:text-violet-700","hover:file:bg-violet-100",3,"change"],["for","phone_no",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","tel","name","phone_no","id","phone_no","pattern","[0-9]{5}-[0-9]{5}","placeholder","84123-49856","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","submit",1,"w-full","mt-3","text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5"],[3,"value"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"div",2),ge(3,Bae,51,9,"form",3),_()()()),2&i&&(x(3),S("ngIf",r.patient))},dependencies:[ps,Xi,ia,lf,cf,Wo,Kl,ta,na,bs,uf,vs,Zo]})}return n})();function jae(n,e){if(1&n&&(g(0,"div")(1,"li",38)(2,"span",39),w(3,"Full name:"),_(),g(4,"span",40),w(5),_()(),g(6,"li",38)(7,"span",39),w(8,"Birthday:"),_(),g(9,"span",40),w(10),function KO(n,e){const t=St();let i;const r=n+wt;t.firstCreatePass?(i=function XG(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=Ia(i.type)),a=cr(V);try{const l=nh(!1),c=o();return nh(l),function Vz(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,he(),r,c),c}finally{cr(a)}}(11,"date"),_()(),g(12,"li",38)(13,"span",39),w(14,"Mobile:"),_(),g(15,"span",40),w(16),_()(),g(17,"li",38)(18,"span",39),w(19,"Email:"),_(),g(20,"span",40)(21,"a",41),w(22),_()()(),g(23,"li",38)(24,"span",39),w(25,"Languages:"),_(),g(26,"span",40),w(27,"English"),_()()()),2&n){const t=L(2);x(5),rn(t.patient.Name),x(5),He(" ",YO(11,4,null==t.patient?null:t.patient.DoB,"d MMM, yyyy")," "),x(6),He(" ",t.patient.Phone_no," "),x(6),rn(t.patient.Email)}}function Hae(n,e){if(1&n){const t=Ct();g(0,"main",12)(1,"div",13)(2,"section",14),K(3,"div",15),_()(),g(4,"section",16)(5,"div",17)(6,"div",18)(7,"div",19)(8,"div",20)(9,"div",21),K(10,"img",22),_()(),g(11,"div",23)(12,"h3",24),w(13),_(),g(14,"div",25),K(15,"i",26),w(16,"Solution Manager - Creative Tim Officer "),_(),g(17,"div",27),K(18,"i",28),w(19,"University of Computer Science "),_()(),g(20,"div",29)(21,"div",20)(22,"div",30)(23,"div",31)(24,"h4",32),w(25,"Personal Info"),_(),g(26,"ul",33),ge(27,jae,28,7,"div",10),_(),g(28,"div",34)(29,"div",35)(30,"button",36),ee("click",function(){return le(t),oe(L().openEditProfilePopup())}),K(31,"i",37),g(32,"span"),w(33," Edit Profile "),_()()()()()()()()()()()()()}if(2&n){const t=L();S("@fadeInOut",void 0),x(10),S("src",t.patient.Profile_picture?t.patient.Profile_picture:"../../../assets/profile.jpeg",eo),x(3),He(" ",t.patient.Name," "),x(14),S("ngIf",t.patient)}}function $ae(n,e){if(1&n){const t=Ct();g(0,"div")(1,"app-edit-patient",42),ee("saveChanges",function(r){return le(t),oe(L().updatePatient(r))})("closeModal",function(){return le(t),oe(L().closeModal())}),_()()}if(2&n){const t=L();x(1),S("@fadeInOut",void 0)("patient",t.patient)}}const zae=function(n,e){return{opacity:n,cursor:e}};function qae(n,e){if(1&n){const t=Ct();g(0,"tbody",56)(1,"tr",57)(2,"td",49)(3,"div",58)(4,"div",59),K(5,"img",60)(6,"div",61),_(),g(7,"div")(8,"p",62),w(9),_()()()(),g(10,"td",63),w(11),_(),g(12,"td",63),w(13),_(),g(14,"td",63),w(15),_(),g(16,"td",64)(17,"span"),w(18),_()(),g(19,"td",63)(20,"button",65),ee("click",function(){const o=le(t).index,s=L(2);return oe(s.cancleAppointmet(s.allAppointments[o]._id))}),w(21,"Cancel"),_()()()()}if(2&n){const t=e.index,i=L(2);x(5),S("src",i.allAppointments[t].Doctor_id.Profile_photo?i.allAppointments[t].Doctor_id.Profile_photo:"../../../assets/profile.jpeg",eo),x(4),rn(i.allAppointments[t].Doctor_id.Name),x(2),He(" ",i.allAppointments[t].Date.slice(0,10)," "),x(2),He(" ",i.allAppointments[t].Starting_time," "),x(2),He(" ",i.allAppointments[t].Payment_id.Payable_amount," "),x(2),ug("px-2 py-1 font-semibold leading-tight \n  ","Canceled"===i.allAppointments[t].Status?"text-red-700 bg-red-100 dark:bg-red-700 dark:text-red-100":"text-green-700 bg-green-100 dark:bg-green-700 dark:text-green-100","\n  rounded-full"),x(1),He(" ",i.allAppointments[t].Status," "),x(2),S("disabled","Canceled"===i.allAppointments[t].Status)("ngStyle",jo(11,zae,"Canceled"===i.allAppointments[t].Status?"0.5":"1","Canceled"===i.allAppointments[t].Status?"not-allowed":"pointer"))}}function Gae(n,e){if(1&n&&(g(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46)(4,"table",47)(5,"thead")(6,"tr",48)(7,"th",49),w(8,"Doctor"),_(),g(9,"th",49),w(10,"Date"),_(),g(11,"th",49),w(12,"Time"),_(),g(13,"th",49),w(14,"Amount"),_(),g(15,"th",49),w(16,"Status"),_(),g(17,"th",49),w(18,"Cancel"),_()()(),ge(19,qae,22,14,"tbody",50),_()(),g(20,"div",51)(21,"span",52),w(22," Your Appointments "),_(),K(23,"span",53),g(24,"span",54),K(25,"nav",55),_()()()()()),2&n){const t=L();S("@fadeInOut",void 0),x(19),S("ngForOf",t.allAppointments)}}function Wae(n,e){1&n&&K(0,"div")}function Zae(n,e){if(1&n){const t=Ct();g(0,"input",76),ee("ngModelChange",function(r){return le(t),oe(L(2).callId=r)}),_()}2&n&&S("ngModel",L(2).callId)}function Kae(n,e){if(1&n){const t=Ct();g(0,"input",77),ee("ngModelChange",function(r){return le(t),oe(L(2).callId=r)}),_()}2&n&&S("ngModel",L(2).callId)}function Yae(n,e){if(1&n&&(g(0,"p",78),w(1),_()),2&n){const t=L(2);x(1),He(" ",t.message," ")}}function Qae(n,e){if(1&n){const t=Ct();g(0,"div",43)(1,"div",66)(2,"div",45)(3,"div",46)(4,"table",47)(5,"thead")(6,"tr",48)(7,"th",49),w(8,"Join Meeting"),_()()()()(),g(9,"form",67)(10,"div",57)(11,"div",49)(12,"div",68)(13,"div")(14,"label",69),w(15,"Enter Room Id"),_(),ge(16,Wae,1,0,"div",70),ge(17,Zae,1,1,"ng-template",null,71,yr),ge(19,Kae,1,1,"ng-template",null,72,yr),_()()(),g(21,"div",63)(22,"div",73)(23,"button",74),ee("click",function(){return le(t),oe(L().join_meet())}),w(24,"Join Room"),_()()(),g(25,"div"),ge(26,Yae,2,1,"p",75),_()()()()()()}if(2&n){const t=_r(18),i=_r(20),r=L();S("@fadeInOut",void 0),x(16),S("ngIf",r.incorrect)("ngIfThen",t)("ngIfElse",i),x(10),S("ngIf",r.incorrect)}}var op=function(n){return n.Profile="profile",n.Appointments="appointments",n.Join="join",n}(op||{});let Xae=(()=>{class n{constructor(t,i,r,o,s){this.route=t,this.firebaseService=i,this.services=r,this.router=o,this.ngZone=s,this.activeTab=op.Profile,this.incorrect=!1,this.message="",this.isEditProfileModalOpen=!1}get Tab(){return op}getshow(t){return t===this.activeTab?1:0}getTabIndex(t){return"profile"===t?"1":"appointments"===t?"2":"join"===t?"3":"0"}view_profile(){this.activeTab=op.Profile,this.profile=!0,this.appointments=!1,this.join=!1}view_appointments(){this.activeTab=op.Appointments,this.profile=!1,this.appointments=!0,this.join=!1,console.log("activeTab:",this.activeTab)}view_join(){this.activeTab=op.Join,this.profile=!1,this.appointments=!1,this.join=!0}openEditProfilePopup(){this.isEditProfileModalOpen=!0}closeModal(){this.isEditProfileModalOpen=!1}loadPatientData(){return new Promise((t,i)=>{this.patientId="",this.services.getPatient().subscribe(r=>{this.patient=r,this.allAppointments=this.patient.Appointment_id,console.log(this.allAppointments),console.log("DashBoard"),console.log(this.patient),t()},r=>{console.error("error",r),i(r)})})}updatePatient(t){var i=this;return new Promise((r,o)=>{console.log(this.patientId),this.services.updatePatient(t).subscribe(function(){var s=(0,G.Z)(function*(a){i.patient=a,console.log("Patient updated successfully"),r()});return function(a){return s.apply(this,arguments)}}(),s=>{console.error("Error updating doctor",s),o(s)})})}cancleAppointmet(t){var i=this;return(0,G.Z)(function*(){var r;return console.log("Inside cancleAppointmet"),new Promise((o,s)=>{i.services.cancelAppoinment(t).subscribe(a=>{r=a.mes,i.ngZone.run(()=>{alert(r)}),i.loadPatientData(),o()},a=>{console.error("error",a),s(a)})})})()}join_meet(){var t=this;return(0,G.Z)(function*(){try{t.firebaseService.getCallDocument(t.callId).valueChanges().subscribe({next:r=>{r?(t.incorrect=!1,t.message="",t.router.navigate(["/PatientConsulting",t.callId],{replaceUrl:!0})):(t.message=`Document with callId ${t.callId} does not exist`,t.incorrect=!0)},error:r=>{console.error("Error fetching document:",r)}}),console.log("Call ended successfully")}catch(i){console.error("Error handling call document:",i)}})()}ngOnInit(){var t=this;return(0,G.Z)(function*(){try{let i=localStorage.getItem("isLogin");"false"==i||null==i?yield t.router.navigate(["/signinPatient"],{replaceUrl:!0}):(t.view_profile(),yield t.loadPatientData(),setTimeout((0,G.Z)(function*(){}),2e3))}catch(i){console.error("error",i)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(V(gs),V(zA),V(rp),V(un),V(Ze))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-patient-dashboard"]],decls:20,vars:7,consts:[[1,"mt-14","flex","bg-blue-300","flex-wrap","min-vh-screen"],["id","sidebar",1,"sticky","top-14","w-full","md:w-1/6","pl-4","py-4","md:mb-0","bg-blue-600","min-vh-screen","mx","rounded-3xl"],[1,"w-full","flex","flex-col","items-center"],[1,"py-3","items-center","inline-block","w-full","rounded-xl","cursor-pointer",3,"click"],[1,"fa-regular","fa-user","fa-lg",2,"font-weight","bold"],[1,"bgw-full","font-semibold","text-lg","px-3","py-1"],[1,"fa-regular","fa-calendar-check","fa-lg",2,"font-weight","bold"],[1,"w-full","font-semibold","text-lg","px-3","py-1"],[1,"fa-solid","fa-video","fa-lg",2,"font-weight","bold"],["class","bg-blue-300 w-full md:w-5/6 mb-6 md:mb-0 h-auto mt-1",4,"ngIf"],[4,"ngIf"],["class","w-full md:w-5/6 mb-6 md:mb-0 bg-blue-300 h-auto mx",4,"ngIf"],[1,"bg-blue-300","w-full","md:w-5/6","mb-6","md:mb-0","h-auto","mt-1"],[1,"h-screen"],[1,"relative","h-1/2"],[1,"absolute","top-0","w-full","h-full","bg-no-repeat",2,"background-image","url('https://vojislavd.com/ta-template-demo/assets/img/profile-background.jpg??auto=format&fit=crop')"],[1,"relative","mb-8","mx-8","-mt-96"],[1,"container","mx-auto"],[1,"relative","flex","flex-col","min-w-0","break-words","bg-white","w-full","shadow-xl","rounded-lg"],[1,"px-8"],[1,"flex","flex-wrap","justify-center"],[1,"flex","flex-col","items-center","-mt-20"],["alt","Miss",1,"w-40","h-40","rounded-full",3,"src"],[1,"text-center","mt-8"],[1,"text-4xl","font-semibold","leading-normal","text-blueGray-700","mb-2"],[1,"mb-2","text-blueGray-600","mt-10"],[1,"fas","fa-briefcase","mr-2","text-lg","text-blueGray-400"],[1,"mb-2","text-blueGray-600"],[1,"fas","fa-university","mr-2","text-lg","text-blueGray-400"],[1,"mt-10","py-10","border-t","border-blueGray-200","text-center"],[1,"w-full","flex","flex-col","2xl:w-1/3"],[1,"flex-1","bg-white","rounded-lg","shadow-xl","p-8"],[1,"text-xl","text-gray-900","font-bold"],[1,"mt-2","text-gray-700"],[1,"flex-1","flex","flex-col","items-center","lg:items-center","justify-center","px-10","mt-2"],[1,"flex","items-center","space-x-4","mt-2"],["type","submit",1,"w-auto","h-10","my-5","flex","justify-center","items-center","text-black","font-semibold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5","space-x-2","transition","duration-100",3,"click"],[1,"fas","fa-user","fill-black"],[1,"flex","border-b","py-2"],[1,"font-bold","w-32"],[1,"text-gray-700"],["href","/cdn-cgi/l/email-protection","data-cfemail","01606c606f6560736e7272416479606c716d642f626e6c",1,"__cf_email__"],[3,"patient","saveChanges","closeModal"],[1,"w-full","md:w-5/6","mb-6","md:mb-0","bg-blue-300","h-auto","mx"],[1,"h-screen","p-8"],[1,"w-full","overflow-hidden","rounded-lg","shadow-xs"],[1,"w-full","overflow-x-auto"],[1,"w-full","whitespace-no-wrap"],[1,"text-lg","text-gray-900","font-bold","tracking-wide","text-left","uppercase","border-b","bg-white"],[1,"px-4","py-3"],["class","bg-white divide-y dark:divide-gray-700 ",4,"ngFor","ngForOf"],[1,"grid","px-4","py-3","text-xs","font-semibold","tracking-wide","text-gray-500","uppercase","border-t","bg-gray-50","sm:grid-cols-9"],[1,"flex","items-center","col-span-3"],[1,"col-span-2"],[1,"flex","col-span-4","mt-2","sm:mt-auto","sm:justify-end"],["aria-label","Table navigation"],[1,"bg-white","divide-y","dark:divide-gray-700"],[1,"text-gray-700","dark:text-gray-400"],[1,"flex","items-center","text-sm"],[1,"relative","hidden","w-8","h-8","mr-3","rounded-full","md:block"],["alt","","loading","lazy",1,"object-cover","w-full","h-full","rounded-full",3,"src"],["aria-hidden","true",1,"absolute","inset-0","rounded-full","shadow-inner"],[1,"font-semibold","text-gray-700"],[1,"px-4","py-3","text-gray-700","text-sm"],[1,"px-4","py-3","text-gray-700","text-xs"],[1,"inline-block","px-4","py-2","font-bold","text-center","text-white","uppercase","align-middle","transition-all","rounded-lg","cursor-pointer","bg-red-600","leading-pro","text-xs","ease-soft-in","tracking-tight-soft","shadow-soft-md","bg-150","bg-x-25","hover:scale-102","active:opacity-85","hover:shadow-soft-xs",3,"disabled","ngStyle","click"],[1,"h-full","p-8"],[1,"bg-white","space-y-4","md:space-y-6"],[1,"flex","justify-center","items-center","text-sm"],["for","callId",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],[1,""],["type","submit",1,"w-full","text-primary-700","font-bold","hover:bg-primary-700","focus:bg-primary-700","focus:text-white","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5",3,"click"],["class","text-sm font-semibold text-red-600 ",4,"ngIf"],["type","text","name","callId","id","callId","placeholder","bsewifiqevfhvefjvwfu","required","",1,"bg-gray-100","border-2","border-red-500","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","text","name","callId","id","callId","placeholder","bsewifiqevfhvefjvwfu","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[1,"text-sm","font-semibold","text-red-600"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"form")(3,"ul",2)(4,"li",3),ee("click",function(){return r.view_profile()}),K(5,"i",4),g(6,"a",5),w(7,"Profile"),_()(),g(8,"li",3),ee("click",function(){return r.view_appointments()}),K(9,"i",6),g(10,"a",7),w(11,"Appointments"),_()(),g(12,"li",3),ee("click",function(){return r.view_join()}),K(13,"i",8),g(14,"a",7),w(15,"Join Meeting"),_()()()()(),ge(16,Hae,34,4,"main",9),ge(17,$ae,2,2,"div",10),ge(18,Gae,26,2,"div",11),ge(19,Qae,27,5,"div",11),_()),2&i&&(x(4),S("@slideA",r.getshow(r.Tab.Profile)),x(4),S("@slideA",r.getshow(r.Tab.Appointments)),x(4),S("@slideA",r.getshow(r.Tab.Join)),x(4),S("ngIf",r.profile),x(1),S("ngIf",r.isEditProfileModalOpen),x(1),S("ngIf",r.appointments),x(1),S("ngIf",r.join))},dependencies:[ps,Xi,Gh,ia,Wo,ta,na,bs,vs,Zo,Uae,Wh],styles:['.indicator[_ngcontent-%COMP%]{z-index:-1;margin-top:84px;position:absolute;top:-10px;width:212px;height:52px;border-top-left-radius:23px;border-bottom-left-radius:23px;cursor:pointer;transition:transform .5s ease-out}.indicator[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-20px;left:193px;width:20px;height:20px;border-top-right-radius:35px;box-shadow:4px -6px 0 2px #93c5fd}.indicator[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-20px;left:193px;width:20px;height:20px;border-bottom-right-radius:35px;box-shadow:4px 6px 0 2px #93c5fd;z-index:-1}.indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:-25px;width:254px;height:45px;border-radius:23px;border:3px solid #29fd;background-color:#2563eb;transform-origin:bottom;transform:scale(.8);box-shadow:0 5px 15px #00000026}#sidebar[_ngcontent-%COMP%]{height:calc(100vh - 3.5rem)}'],data:{animation:[ra("slideIndicator",[Ko("1",Yt({transform:"translateY(0px)"})),Ko("2",Yt({transform:"translateY(52px)"})),Ko("3",Yt({transform:"translateY(104px)"})),jr("* => *",Ur("0.5s ease-out"))]),ra("slideA",[Ko("1",Yt({transform:"translateX(+30px)",color:"#68e8f7"})),Ko("0",Yt({transform:"translateY(0px)",color:"#ffffff"})),jr("* => *",Ur("0.3s ease-out"))]),ra("fadeInOut",[jr(":enter",[Yt({opacity:0}),Ur("200ms",Yt({opacity:1}))]),jr(":leave",[Ur("200ms",Yt({opacity:0}))])])]}})}return n})(),qA=(()=>{class n{constructor(t){this.http=t,this.url_login=dn_baseUrl+"api/doctor/auth/login",this.url_signup=dn_baseUrl+"api/doctor/auth/signup",this.url_checkUser=dn_baseUrl+"api/doctor/auth/check"}signupDoctor(t){return this.http.post(this.url_signup,t).pipe(bn(i=>{throw console.error("Error in Doctor Signup : ",i),i}))}loginDoctor(t){return console.log("in login doctor."),console.log(t),this.http.post(this.url_login,t).pipe(bn(i=>{throw console.error("Error in loginPatient:",i),i}))}isAuthenticated(){var t=this;return(0,G.Z)(function*(){try{const i=yield t.AuthDoctor().toPromise();return console.log(i),"success"===i.status||(console.log("in false : "),!1)}catch(i){return console.error("Authentication error",i),!1}})()}AuthDoctor(){return this.http.get(this.url_checkUser).pipe(bn(t=>{throw t}))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Gg))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jae(n,e){if(1&n){const t=Ct();g(0,"div")(1,"div",9)(2,"div",10)(3,"label",11),w(4,"Email"),_(),g(5,"input",12),ee("ngModelChange",function(r){return le(t),oe(L().email=r)}),_()(),g(6,"div",10)(7,"label",13),w(8,"Name"),_(),g(9,"input",14),ee("ngModelChange",function(r){return le(t),oe(L().name=r)}),_()()(),g(10,"div",9)(11,"div",10)(12,"label",15),w(13,"Password"),_(),g(14,"input",16),ee("ngModelChange",function(r){return le(t),oe(L().password=r)}),_()(),g(15,"div",10)(16,"label",17),w(17,"Confirm Password"),_(),g(18,"input",18),ee("ngModelChange",function(r){return le(t),oe(L().conpassword=r)}),_()()(),g(19,"button",19),ee("click",function(){return le(t),oe(L().next_verify())}),g(20,"span"),w(21," Next "),_(),K(22,"i",20),_(),g(23,"p",21),w(24," Already have an account? "),g(25,"a",22),w(26,"Sign in"),_()()()}if(2&n){const t=L();x(5),S("ngModel",t.email),x(4),S("ngModel",t.name),x(5),S("ngModel",t.password),x(4),S("ngModel",t.conpassword)}}function ele(n,e){if(1&n){const t=Ct();g(0,"div")(1,"button",23),ee("click",function(){return le(t),oe(L().back_to_email())}),K(2,"i",24),g(3,"span"),w(4," Back "),_()(),g(5,"div",9)(6,"div",10)(7,"label",25),w(8,"Varify Email"),_(),g(9,"input",26),ee("ngModelChange",function(r){return le(t),oe(L().entered_otp=r)})("input",function(r){return le(t),oe(L().autoVerify(r))}),_()()(),g(10,"div",9)(11,"div",27)(12,"label",25),w(13,"OTP will send to your Email"),_(),g(14,"button",28),ee("click",function(){return le(t),oe(L().genOTP())}),g(15,"span"),w(16," Click to Get OTP "),_()()()()()}if(2&n){const t=L();x(9),S("ngModel",t.entered_otp)}}function tle(n,e){if(1&n&&(g(0,"div")(1,"p",29),w(2),_()()),2&n){const t=L();x(2),rn(t.message)}}function nle(n,e){if(1&n&&(g(0,"option",52),w(1),_()),2&n){const t=e.$implicit;S("value",t.value),x(1),rn(t.label)}}function ile(n,e){if(1&n){const t=Ct();g(0,"div")(1,"button",23),ee("click",function(){return le(t),oe(L().back_to_verify())}),K(2,"i",24),g(3,"span"),w(4," Back "),_()(),g(5,"div",9)(6,"div",27)(7,"label",30),w(8,"Date of Birth"),_(),g(9,"input",31),ee("ngModelChange",function(r){return le(t),oe(L().dob=r)}),_()(),g(10,"div",27)(11,"label",32),w(12,"Age"),_(),g(13,"input",33),ee("ngModelChange",function(r){return le(t),oe(L().age=r)}),_()(),g(14,"div",27)(15,"label",34),w(16,"Gender"),_(),g(17,"select",35),ee("ngModelChange",function(r){return le(t),oe(L().selectedGender=r)}),ge(18,nle,2,2,"option",36),_()()(),g(19,"div",9)(20,"div",37)(21,"div",38),K(22,"img",39),_(),g(23,"label",40)(24,"span",41),w(25,"Choose profile photo"),_(),g(26,"input",42),ee("change",function(r){return le(t),oe(L().loadFile(r))}),_()()(),g(27,"div",10)(28,"label",43),w(29,"Phone No."),_(),g(30,"input",44),ee("ngModelChange",function(r){return le(t),oe(L().phnumber=r)}),_()()(),g(31,"div",45)(32,"div",46)(33,"label",47),w(34,"Bio"),_(),g(35,"textarea",48),ee("ngModelChange",function(r){return le(t),oe(L().bio=r)}),_()(),g(36,"div",46)(37,"label",49),w(38,"About"),_(),g(39,"textarea",50),ee("ngModelChange",function(r){return le(t),oe(L().about=r)}),_()()(),g(40,"button",51),ee("click",function(){return le(t),oe(L().next_professional())}),g(41,"span"),w(42," Next "),_(),K(43,"i",20),_()()}if(2&n){const t=L();x(9),S("ngModel",t.dob),x(4),S("ngModel",t.age),x(4),S("ngModel",t.selectedGender),x(1),S("ngForOf",t.genders),x(4),S("src",t.profilepic,eo),x(8),S("ngModel",t.phnumber),x(5),S("ngModel",t.bio),x(4),S("ngModel",t.about)}}function rle(n,e){if(1&n&&(g(0,"option",52),w(1),_()),2&n){const t=e.$implicit;S("value",t.value),x(1),rn(t.label)}}function ole(n,e){if(1&n&&(g(0,"option",52),w(1),_()),2&n){const t=e.$implicit;S("value",t.value),x(1),rn(t.label)}}function sle(n,e){if(1&n){const t=Ct();g(0,"label")(1,"div",66)(2,"input",67),ee("ngModelChange",function(r){return le(t),oe(L(2).selectedSlotlen=r)}),_(),g(3,"label",68),w(4),_()()()}if(2&n){const t=e.$implicit,i=L(2);x(2),S("ngModel",i.selectedSlotlen)("value",t.value),x(2),rn(t.label)}}function ale(n,e){if(1&n){const t=Ct();g(0,"div")(1,"button",23),ee("click",function(){return le(t),oe(L().back_to_profile())}),K(2,"i",24),g(3,"span"),w(4," Back "),_()(),g(5,"div",9)(6,"div",27)(7,"label",53),w(8,"Category"),_(),g(9,"select",54),ee("ngModelChange",function(r){return le(t),oe(L().selectedCategory=r)}),ge(10,rle,2,2,"option",36),_()(),g(11,"div",27)(12,"label",55),w(13,"Specialist"),_(),g(14,"select",56),ee("ngModelChange",function(r){return le(t),oe(L().selectedSpeciality=r)}),ge(15,ole,2,2,"option",36),_()(),g(16,"div",27)(17,"label",57),w(18,"Slot length"),_(),g(19,"div",58),ge(20,sle,5,3,"label",59),_()()(),g(21,"div",9)(22,"div",10)(23,"label",60),w(24,"Experience"),_(),g(25,"input",61),ee("ngModelChange",function(r){return le(t),oe(L().experience=r)}),_()(),g(26,"div",10)(27,"label",62),w(28,"Cirtificate"),_(),g(29,"input",63),ee("ngModelChange",function(r){return le(t),oe(L().certificate=r)}),_()()(),g(30,"button",64),ee("click",function(){return le(t),oe(L().signUp())}),w(31,"Register"),_(),g(32,"p",21),w(33," Already have an account? "),g(34,"a",65),w(35,"Sign in"),_()()()}if(2&n){const t=L();x(9),S("ngModel",t.selectedCategory),x(1),S("ngForOf",t.doctorCategories),x(4),S("ngModel",t.selectedSpeciality),x(1),S("ngForOf",t.doctorSpeciality),x(5),S("ngForOf",t.slotTiming),x(5),S("ngModel",t.experience),x(4),S("ngModel",t.certificate)}}var sp=function(n){return n.Profile="profile",n.Email="email",n.Verify="verify",n.Professional="professional",n}(sp||{});let lle=(()=>{class n{constructor(t,i,r){this.doctorAuthServ=t,this.router=i,this.navbarService=r,this.genders=[{label:"Select Your Gender",value:"0"},{label:"Male",value:"Male"},{label:"Female",value:"Female"}],this.doctorCategories=[{label:"Select Category",value:"0"},{label:"xyz",value:"Cardiologist"},{label:"Dermatologist",value:"Dermatologist"},{label:"Orthopedic Surgeon",value:"Orthopedic Surgeon"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"}],this.doctorSpeciality=[{label:"Select Specialist",value:"0"},{label:"xyz",value:"Cardiologist"},{label:"Dermatologist",value:"Dermatologist"},{label:"Orthopedic Surgeon",value:"Orthopedic Surgeon"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"}],this.slotTiming=[{label:"15 minute",value:15},{label:"30 minute",value:30},{label:"45 minute",value:45},{label:"60 minute",value:60}],this.email="",this.name="",this.password="",this.conpassword="",this.selectedGender="",this.profilepic="../../../../assets/profile.jpeg",this.selectedCategory="",this.selectedSpeciality="",this.selectedSlotlen=0,this.S_time_first=["","","","","","",""],this.E_time_first=["","","","","","",""],this.S_time_second=["","","","","","",""],this.E_time_second=["","","","","","",""],this.Slots=[[],[],[],[],[],[],[]],this.activeTab=sp.Email,this.actual_otp="012934",this.message="",this.varifyEmail=!1}genOTP(){this.actual_otp=Math.floor(1e5+9e5*Math.random()).toString(),console.log(this.actual_otp),console.log("Inside genOTP"),Ax_send("service_lx8ae8c","template_bs5tdjk",{name:this.name,otp:this.actual_otp,to_email:this.email},"Lx9Z4TNqPKTQ1oiUO").then(t=>{console.log("Email sent successfully!",t)}).catch(t=>{console.error("Email could not be sent:",t)})}varify_email(){console.log(this.actual_otp),console.log(this.entered_otp),this.actual_otp===this.entered_otp?(this.varifyEmail=!0,this.message="",this.next_profile()):this.message="OTP is incorrect !!!"}autoVerify(t){const i=t.target.value;this.entered_otp=i,6===i.length&&this.varify_email()}loadFile(t){var i=this;return(0,G.Z)(function*(){const r=t.target;if(r.files&&r.files[0]){const o=new FileReader;o.onload=()=>{i.profilepic=o.result},o.readAsDataURL(r.files[0])}})()}getshow(t){return t===this.activeTab?1:0}view_profile(){this.activeTab=sp.Profile}view_email(){this.activeTab=sp.Email}view_verify(){this.activeTab=sp.Verify}view_professional(){this.activeTab=sp.Professional}next_verify(){this.view_verify()}next_profile(){this.view_profile()}next_professional(){this.view_professional()}back_to_profile(){this.view_profile()}back_to_email(){this.view_email()}back_to_verify(){this.view_verify()}signUp(){this.password==this.conpassword?(console.log("Signed up"),this.doctorAuthServ.signupDoctor({Email:this.email,Name:this.name,Password:this.password,DoB:this.dob,Age:this.age,Profile_photo:this.profilepic,Gender:this.selectedGender,Phone_no:this.phnumber,Counselling_fee:0,Bio:this.bio,About:this.about,Category:this.selectedCategory,Specialist:this.selectedSpeciality,Experiance:this.experience,Cirtificate:this.certificate,Average_rating:0,Total_rating:0,Total_review:0,Starting_time_first:this.S_time_first,Ending_time_first:this.E_time_first,Starting_time_second:this.S_time_second,Ending_time_second:this.E_time_second,Slot_length:this.selectedSlotlen,Slots:this.Slots,Appointment_id:[],Review_id:[]}).subscribe(i=>this.doctor=i),this.email="",this.password="",console.log("patient : "),console.log(this.doctor),this.router.navigate(["/signinDoctor"])):console.log("Something Wrong.")}ngOnInit(){this.selectedGender="0",this.selectedCategory="0",this.selectedSpeciality="0",this.selectedSlotlen=0,this.navbarService.setHideNavbar(!0)}static#e=this.\u0275fac=function(i){return new(i||n)(V(qA),V(un),V(Js))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-registration-doctor"]],decls:14,vars:5,consts:[[1,"bg-custom-gradient"],[1,"flex","flex-col","min-h-screen","h-screen","items-center","justify-center","px-6","py-8","mx-auto","lg:py-0"],["routerLink","/homepatient","routerLinkActive","active",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","assets/Logo/logo1.png",1,"w-420","mix-blend-color-burn"],[1,"w-full","backdrop-blur-lg","bg-white/40","md:mt-0","sm:max-w-4xl","xl:p-0","rounded-lg","shadow"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-none","tracking-normal","text-gray-950","md:text-2xl"],["action","#",1,"mt-4","space-y-4","md:space-y-6"],[4,"ngIf"],[1,"flex","flex-wrap","-mx-3","mb-6"],[1,"w-full","md:w-1/2","px-3","mb-6","md:mb-0"],["for","email",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","email","name","email","id","email","placeholder","name@company.com","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","fullname",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","fullname","id","fullname","placeholder","John Cena","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","password",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","conpassword",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","password","name","conpassword","id","conpassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","submit",1,"float-right","w-20","h-10","my-5","flex","justify-center","items-center","text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-10","py-2.5","space-x-2","transition","duration-100",3,"click"],[1,"fas","fa-arrow-right","fill-black"],[1,"mt-5","text-sm","font-normal","text-black"],["routerLink","/signinPatient",1,"font-medium","text-primary-700","hover:underline"],["type","submit",1,"w-20","h-10","my-5","flex","justify-center","items-center","text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-10","py-2.5","space-x-2","transition","duration-100",3,"click"],[1,"fas","fa-arrow-left","fill-black"],["for","otp",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","otp","id","otp","placeholder","123456","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange","input"],[1,"w-full","md:w-1/3","px-3","mb-6","md:mb-0"],["type","submit",1,"block","w-full","p-2.5","text-primary-700","font-bold","border-2","border-primary-700","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-10","py-2","space-x-2","transition","duration-100",3,"click"],[1,"text-red-700"],["for","dob",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","date","name","dob","id","dob","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","age",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","age","id","age","placeholder","49","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","selectedGender",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["id","selectedGender","name","selectedGender","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-center","md:w-1/2","pl-3","space-x-6"],[1,"shrink-0"],["id","preview_img","alt","Current profile photo",1,"h-16","w-16","object-cover","rounded-full",3,"src"],[1,"block"],[1,"sr-only"],["type","file","accept","image/*",1,"block","w-full","text-sm","text-slate-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-violet-50","file:text-violet-700","hover:file:bg-violet-100",3,"change"],["for","phone_no",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","tel","name","phone_no","id","phone_no","pattern","[0-9]{10}","placeholder","8412349856","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[1,"flex","flex-wrap","-mx-3","mb-3"],[1,"w-full","md:w-1/2","px-3","mb-3","md:mb-0"],["for","bio",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["name","bio","id","bio","placeholder","","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","about",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["name","about","id","about","placeholder","","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","submit",1,"float-right","w-20","h-10","my-4","flex","justify-center","items-center","text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-10","py-2.5","space-x-2","transition","duration-100",3,"click"],[3,"value"],["for","category",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["id","category","name","selectedCategory","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","specialist",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["id","specialist","name","selectedSpeciality","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","slot_length",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],[1,"flex","flex-row","..."],[4,"ngFor","ngForOf"],["for","experience",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","experience","id","experience","placeholder","20","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","cirtificate",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","cirtificate","id","cirtificate","placeholder","John Cena","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","submit",1,"w-full","text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5",3,"click"],["routerLink","/signinDoctor",1,"font-medium","text-primary-700","hover:underline"],[1,"pt-2","pr-4","md:mb-0"],["id","red-radio","type","radio","name","colored-radio",1,"w-4","h-4","text-red-600","bg-gray-100","border-gray-300","focus:ring-red-500","dark:focus:ring-red-600","dark:ring-offset-gray-800",":bg-gray-700","dark:border-gray-600",3,"ngModel","value","ngModelChange"],["for","red-radio",1,"ms-2","text-md","font-medium","text-gray-900"]],template:function(i,r){1&i&&(g(0,"section",0)(1,"div",1)(2,"a",2),K(3,"img",3),_(),g(4,"div",4)(5,"div",5)(6,"h1",6),w(7," Register in Doc Connect "),_(),g(8,"form",7),ge(9,Jae,27,4,"div",8),ge(10,ele,17,1,"div",8),ge(11,tle,3,1,"div",8),ge(12,ile,44,8,"div",8),ge(13,ale,36,7,"div",8),_()()()()()),2&i&&(x(9),S("ngIf",r.getshow("email")),x(1),S("ngIf",r.getshow("verify")),x(1),S("ngIf",r.message),x(1),S("ngIf",r.getshow("profile")),x(1),S("ngIf",r.getshow("professional")))},dependencies:[ps,Xi,ys,Eu,ia,lf,cf,Wo,Kl,Jg,ta,na,bs,uf,vs,Zo]})}return n})();function cle(n,e){1&n&&(g(0,"p",26),w(1," *your email or password is incorrect.* "),_())}function ule(n,e){1&n&&K(0,"div")}function dle(n,e){if(1&n){const t=Ct();g(0,"input",27),ee("ngModelChange",function(r){return le(t),oe(L().email=r)}),_()}2&n&&S("ngModel",L().email)}function hle(n,e){if(1&n){const t=Ct();g(0,"input",28),ee("ngModelChange",function(r){return le(t),oe(L().email=r)}),_()}2&n&&S("ngModel",L().email)}function fle(n,e){1&n&&K(0,"div")}function ple(n,e){if(1&n){const t=Ct();g(0,"input",29),ee("ngModelChange",function(r){return le(t),oe(L().password=r)}),_()}2&n&&S("ngModel",L().password)}function mle(n,e){if(1&n){const t=Ct();g(0,"input",30),ee("ngModelChange",function(r){return le(t),oe(L().password=r)}),_()}2&n&&S("ngModel",L().password)}let gle=(()=>{class n{constructor(t,i,r){this.doctorAuthServ=t,this.navbarService=i,this.router=r,this.email="",this.password="",this.cssclass="failed",this.incorrect=!1,this.disablesiginin=!0}signin(){console.log("clicked"),console.log(this.email),console.log(this.password),this.password&&this.password?this.doctorAuthServ.loginDoctor({Email:this.email,Password:this.password}).subscribe(i=>{this.incorrect=!1,console.log("data : ",i),console.log("data_id : ",i._id),this.userId=i._id,console.log("userId"),console.log(this.userId),localStorage.removeItem("userId"),localStorage.setItem("userId",this.userId),localStorage.setItem("jwt",i.token),this.email="",this.password="",localStorage.setItem("isLogin","true"),localStorage.setItem("mode","Doctor"),this.navbarService.setMode("Doctor"),this.router.navigate(["/homedoctor"])},i=>{console.error("Login error",i),this.incorrect=!0}):console.log("unsucessful not login")}ngOnInit(){console.log("In login"),localStorage.removeItem("userId"),this.navbarService.setHideNavbar(!0),this.router.navigate(["/signinDoctor"])}static#e=this.\u0275fac=function(i){return new(i||n)(V(qA),V(Js),V(un))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-signin-doctor"]],decls:42,vars:7,consts:[[1,"bg-custom-gradient"],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","md:h-screen","lg:py-0"],["routerLink","/homepatient","routerLinkActive","active",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","assets/Logo/logo1.png",1,"w-420","mix-blend-color-burn"],[1,"w-full","backdrop-blur-lg","bg-white/40","md:mt-0","sm:max-w-lg","xl:p-0","rounded-lg","shadow"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-none","tracking-normal","text-gray-950","md:text-2xl"],["action","#",1,"mt-4","space-y-4","md:space-y-6"],["class","text-sm font-semibold text-red-600 ",4,"ngIf"],["for","email",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],["for","password",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["thenBlock1",""],["elseBlock1",""],[1,"flex","items-center","justify-between"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","remember","aria-describedby","remember","type","checkbox","required","",1,"w-4","h-4","border","border-gray-300","rounded","bg-gray-50","focus:ring-3","focus:ring-primary-300"],[1,"ml-3","text-sm"],["for","remember",1,"text-gray-800"],["href","#",1,"text-sm","font-semibold","text-primary-700","hover:underline"],["type","submit",1,"w-full","text-primary-700","font-bold","hover:bg-primary-700","focus:bg-primary-700","focus:text-white","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5",3,"click"],[1,"text-sm","font-normal","text-black"],["routerLink","/registerDoctor",1,"font-medium","text-primary-700","hover:underline"],[1,"text-sm","font-semibold","text-red-600"],["type","email","name","email","id","email","placeholder","name@company.com","required","",1,"bg-gray-100","border-2","border-red-500","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","email","name","email","id","email","placeholder","name@company.com","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-100","border-2","border-red-500","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"]],template:function(i,r){if(1&i&&(g(0,"section",0)(1,"div",1)(2,"a",2),K(3,"img",3),_(),g(4,"div",4)(5,"div",5)(6,"h1",6),w(7," Sign in to your account "),_(),g(8,"form",7)(9,"div"),ge(10,cle,2,0,"p",8),_(),g(11,"div")(12,"label",9),w(13,"Email"),_(),ge(14,ule,1,0,"div",10),ge(15,dle,1,1,"ng-template",null,11,yr),ge(17,hle,1,1,"ng-template",null,12,yr),_(),g(19,"div")(20,"label",13),w(21,"Password"),_(),ge(22,fle,1,0,"div",10),ge(23,ple,1,1,"ng-template",null,14,yr),ge(25,mle,1,1,"ng-template",null,15,yr),_(),g(27,"div",16)(28,"div",17)(29,"div",18),K(30,"input",19),_(),g(31,"div",20)(32,"label",21),w(33,"Remember me"),_()()(),g(34,"a",22),w(35,"Forgot password?"),_()(),g(36,"button",23),ee("click",function(){return r.signin()}),w(37,"Sign in"),_(),g(38,"p",24),w(39," Don't have an account yet? "),g(40,"a",25),w(41,"Sign up"),_()()()()()()()),2&i){const o=_r(16),s=_r(18),a=_r(24),l=_r(26);x(10),S("ngIf",r.incorrect),x(4),S("ngIf",r.incorrect)("ngIfThen",o)("ngIfElse",s),x(8),S("ngIf",r.incorrect)("ngIfThen",a)("ngIfElse",l)}},dependencies:[Xi,ys,Eu,ia,Wo,ta,na,bs,vs,Zo]})}return n})(),GA=(()=>{class n{constructor(t){this.http=t,this.url_getdoctor=dn_baseUrl+"api/doctor/",this.url_update_doctor=dn_baseUrl+"api/doctor/",this.url_cancel_appoinment=dn_baseUrl+"api/doctor/appointment/cancelAppointment"}getDoctor(t){return this.http.get(this.url_getdoctor+t).pipe(bn(r=>{throw console.error("Error in Geting Doctor:",r),r}))}updateDoctor(t,i){return this.http.put(this.url_update_doctor,i).pipe(bn(o=>{throw console.error("Error in loginPatient:",o),o}))}cancelAppoinment(t){return console.log(this.url_cancel_appoinment),this.http.put(this.url_cancel_appoinment,{appointmentId:t}).pipe(bn(r=>{throw console.error("Error in cancel appoitment:",r),r}))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Gg))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _le(n,e){if(1&n&&(g(0,"option",53),w(1),_()),2&n){const t=e.$implicit;S("value",t.value),x(1),He("",t.label," ")}}function yle(n,e){if(1&n&&(g(0,"option",53),w(1),_()),2&n){const t=e.$implicit;S("value",t.value),x(1),rn(t.label)}}function vle(n,e){if(1&n&&(g(0,"option",53),w(1),_()),2&n){const t=e.$implicit;S("value",t.value),x(1),He(" ",t.label,"")}}function ble(n,e){if(1&n){const t=Ct();g(0,"label")(1,"div",54)(2,"input",55),ee("ngModelChange",function(r){return le(t),oe(L(2).doctor.Slot_length=r)}),_(),g(3,"label",56),w(4),_()()()}if(2&n){const t=e.$implicit,i=L(2);x(2),lg("id","slot_length_",t.value,""),S("ngModel",i.doctor.Slot_length)("value",t.value),x(2),rn(t.label)}}function wle(n,e){if(1&n){const t=Ct();g(0,"form",4),ee("submit",function(){return le(t),oe(L().submitForm())}),g(1,"div",5)(2,"div",6)(3,"div")(4,"label",7),w(5," Edit Your Profile "),_(),g(6,"button",8),ee("click",function(){return le(t),oe(L().closeModal.emit())}),g(7,"span",9),w(8," \xd7 "),_()()(),g(9,"div",10)(10,"div",11)(11,"div",12)(12,"label",13),w(13,"Name"),_(),g(14,"input",14),ee("ngModelChange",function(r){return le(t),oe(L().doctor.Name=r)}),_()(),g(15,"div",15)(16,"label",16),w(17,"Password"),_(),g(18,"input",17),ee("ngModelChange",function(r){return le(t),oe(L().doctor.Password=r)}),_()()(),g(19,"div",11)(20,"div",18)(21,"label",19),w(22,"Date of Birth"),_(),g(23,"input",20),ee("ngModelChange",function(r){return le(t),oe(L().doctor.DoB=r)}),_()(),g(24,"div",18)(25,"label",21),w(26,"Age"),_(),g(27,"input",22),ee("ngModelChange",function(r){return le(t),oe(L().doctor.Age=r)}),_()(),g(28,"div",18)(29,"label",23),w(30,"Gender"),_(),g(31,"select",24),ee("ngModelChange",function(r){return le(t),oe(L().doctor.Gender=r)}),ge(32,_le,2,2,"option",25),_()()(),g(33,"div",11)(34,"div",12)(35,"label",26),w(36,"Profile Picture"),_(),g(37,"div",27)(38,"div",28),K(39,"img",29),_(),g(40,"label",30)(41,"span",31),w(42,"Choose profile photo"),_(),g(43,"input",32),ee("change",function(r){return le(t),oe(L().loadFile(r))}),_()()()(),g(44,"div",12)(45,"label",33),w(46,"Phone No."),_(),g(47,"input",34),ee("ngModelChange",function(r){return le(t),oe(L().doctor.Phone_no=r)}),_()()(),g(48,"div",11)(49,"div",12)(50,"label",35),w(51,"Bio"),_(),g(52,"textarea",36),ee("ngModelChange",function(r){return le(t),oe(L().doctor.Bio=r)}),_()(),g(53,"div",12)(54,"label",37),w(55,"About"),_(),g(56,"textarea",38),ee("ngModelChange",function(r){return le(t),oe(L().doctor.About=r)}),_()()(),g(57,"div",11)(58,"div",18)(59,"label",39),w(60,"Category"),_(),g(61,"select",40),ee("ngModelChange",function(r){return le(t),oe(L().doctor.Category=r)}),ge(62,yle,2,2,"option",25),_()(),g(63,"div",18)(64,"label",41),w(65,"Specialist"),_(),g(66,"select",42),ee("ngModelChange",function(r){return le(t),oe(L().doctor.Specialist=r)}),ge(67,vle,2,2,"option",25),_()(),g(68,"div",18)(69,"label",43),w(70,"Slot length"),_(),g(71,"div",44),ge(72,ble,5,4,"label",45),_()()(),g(73,"div",11)(74,"div",46)(75,"div",47)(76,"label",48),w(77,"Experience"),_(),g(78,"input",49),ee("ngModelChange",function(r){return le(t),oe(L().doctor.Experiance=r)}),_()()(),g(79,"div",12)(80,"label",50),w(81,"Cirtificate"),_(),g(82,"input",51),ee("ngModelChange",function(r){return le(t),oe(L().doctor.Cirtificate=r)}),_()()()()()(),g(83,"div")(84,"button",52),w(85,"Save Changes"),_()()()}if(2&n){const t=L();x(14),S("ngModel",t.doctor.Name),x(4),S("ngModel",t.doctor.Password),x(5),S("ngModel",t.doctor.DoB)("value",t.doctor.DoB),x(4),S("ngModel",t.doctor.Age),x(4),S("ngModel",t.doctor.Gender),x(1),S("ngForOf",t.genders),x(7),S("src",t.doctor.Profile_photo,eo),x(8),S("ngModel",t.doctor.Phone_no),x(5),S("ngModel",t.doctor.Bio),x(4),S("ngModel",t.doctor.About),x(5),S("ngModel",t.doctor.Category),x(1),S("ngForOf",t.doctorCategories),x(4),S("ngModel",t.doctor.Specialist),x(1),S("ngForOf",t.doctorSpeciality),x(5),S("ngForOf",t.slotTiming),x(6),S("ngModel",t.doctor.Experiance),x(4),S("ngModel",t.doctor.Cirtificate)}}let Ele=(()=>{class n{constructor(){this.saveChanges=new Kt,this.closeModal=new Kt,this.genders=[{label:"Select Your Gender",value:"0"},{label:"Male",value:"Male"},{label:"Female",value:"Female"}],this.doctorCategories=[{label:"Select Category",value:"0"},{label:"xyz",value:"Cardiologist"},{label:"Dermatologist",value:"Dermatologist"},{label:"Orthopedic Surgeon",value:"Orthopedic Surgeon"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"}],this.doctorSpeciality=[{label:"Select Specialist",value:"0"},{label:"xyz",value:"Cardiologist"},{label:"Dermatologist",value:"Dermatologist"},{label:"Orthopedic Surgeon",value:"Orthopedic Surgeon"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"},{label:"Pediatrician",value:"Pediatrician"}],this.slotTiming=[{label:"30 minute",value:30},{label:"60 minute",value:60}],this.selectedGender="",this.selectedCategory="",this.selectedSpeciality="",this.selectedSlotlen=0}submitForm(){this.saveChanges.emit(this.doctor),this.closeModal.emit()}loadFile(t){return(0,G.Z)(function*(){})()}ngOnInit(){var t=this;return(0,G.Z)(function*(){console.log(t.doctor)})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-edit-profile"]],inputs:{doctor:"doctor"},outputs:{saveChanges:"saveChanges",closeModal:"closeModal"},decls:4,vars:1,consts:[[1,"fixed","inset-0","z-50","bg-black","bg-opacity-50","flex","items-center","justify-center"],[1,"mt-4",2,"margin-top","1rem","margin-bottom","1.5rem"],[1,"bg-blue-300","p-4","rounded-lg","my-6","max-h-screen","overflow-auto","scrollbar-thin","scrollbar-thumb-gray-500","scrollbar-track-gray-200"],[3,"submit",4,"ngIf"],[3,"submit"],[1,"w-full","backdrop-blur-lg","bg-white/50","md:mt-0","sm:max-w-4xl","xl:p-0","rounded-lg","shadow"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-none","tracking-normal","text-gray-950","md:text-2xl"],[1,"text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","float-right","px-2","pb-1",3,"click"],[1,"text-3xl"],["action","#",1,"mt-4","space-y-4","md:space-y-6"],[1,"flex","flex-wrap","-mx-3","mb-6"],[1,"w-full","md:w-1/2","px-3","mb-6","md:mb-0"],["for","fullname",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","fullname","id","fullname","placeholder","John Cena","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[1,"w-full","md:w-1/2","px-3","mb-6","md:mb-0","opacity-35"],["for","password",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["disabled","","type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[1,"w-full","md:w-1/3","px-3","mb-6","md:mb-0"],["for","dob",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","date","name","dob","id","dob","required","","placeholder","doctor.DoB",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","value","ngModelChange"],["for","age",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","age","id","age","placeholder","49","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","selectedGender",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["id","selectedGender","name","selectedGender","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","profile_picture",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],[1,"flex","items-center","pl-3","space-x-6"],[1,"shrink-0"],["id","preview_img","alt","Current profile photo",1,"h-16","w-16","object-cover","rounded-full",3,"src"],[1,"block"],[1,"sr-only"],["type","file","accept","image/*",1,"block","w-full","text-sm","text-slate-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-violet-50","file:text-violet-700","hover:file:bg-violet-100",3,"change"],["for","phone_no",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","tel","name","phone_no","id","phone_no","pattern","[0-9]{5}-[0-9]{5}","placeholder","84123-49856","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","bio",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["name","bio","id","bio","placeholder","","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","about",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["name","about","id","about","placeholder","","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","category",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["id","category","name","selectedCategory","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","specialist",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["id","specialist","name","selectedSpeciality","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","slot_length",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],[1,"flex","flex-row","..."],[4,"ngFor","ngForOf"],[1,"w-full","md:w-1/2","mb-6","md:mb-0"],[1,"w-full","px-3","mb-6","md:mb-0"],["for","experience",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","experience","id","experience","placeholder","20","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["for","cirtificate",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","text","name","cirtificate","id","cirtificate","placeholder","John Cena","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","submit",1,"w-full","mt-3","text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5"],[3,"value"],[1,"pt-2","pr-4","md:mb-0"],["type","radio","name","colored-radio",1,"w-4","h-4","text-red-600","bg-gray-100","border-gray-300","focus:ring-red-500","dark:focus:ring-red-600","dark:ring-offset-gray-800",":bg-gray-700","dark:border-gray-600",3,"id","ngModel","value","ngModelChange"],["for","slot_length",1,"ms-2","text-md","font-medium","text-gray-900","/*dark:text-gray-300*/"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"div",2),ge(3,wle,86,18,"form",3),_()()()),2&i&&(x(3),S("ngIf",r.doctor))},dependencies:[ps,Xi,ia,lf,cf,Wo,Kl,Jg,ta,na,bs,uf,vs,Zo]})}return n})();function Cle(n,e){if(1&n&&(g(0,"div"),K(1,"img",27),g(2,"div",28)(3,"p",29),w(4),_(),g(5,"span",30),Fi(),g(6,"svg",31),K(7,"path",32),_()()(),Li(),g(8,"p",33),w(9),_(),g(10,"p",34),w(11,"Nadiad, Gujarat"),_()()),2&n){const t=L(2);x(1),S("src",t.doctor.Profile_photo?t.doctor.Profile_photo:"../../../assets/profile.jpeg",eo),x(3),He(" ",t.doctor.Name," "),x(5),He(" ",t.doctor.Specialist," ")}}function Tle(n,e){if(1&n&&(g(0,"div")(1,"li",35)(2,"span",36),w(3,"Full name:"),_(),g(4,"span",33),w(5),_()(),g(6,"li",37)(7,"span",36),w(8,"Birthday:"),_(),g(9,"span",33),w(10),_()(),g(11,"li",37)(12,"span",36),w(13,"Mobile:"),_(),g(14,"span",33),w(15),_()(),g(16,"li",37)(17,"span",36),w(18,"Email:"),_(),g(19,"span",33)(20,"a",38),w(21,"bharadraj2003@gmail.com"),_()()(),g(22,"li",37)(23,"span",36),w(24,"Specialist :"),_(),g(25,"span",33),w(26),_()(),g(27,"li",37)(28,"span",36),w(29,"Category :"),_(),g(30,"span",33),w(31),_()(),g(32,"li",37)(33,"span",36),w(34,"Experiance :"),_(),g(35,"span",33),w(36),_()(),g(37,"li",37)(38,"span",36),w(39,"Languages:"),_(),g(40,"span",33),w(41,"English"),_()()()),2&n){const t=L(2);x(5),rn(t.doctor.Name),x(5),He(" ",t.birthday," "),x(5),He(" ",t.doctor.Phone_no," "),x(11),He(" ",t.doctor.Specialist," "),x(5),He(" ",t.doctor.Category," "),x(5),He(" ",t.doctor.Experiance," ")}}function Ile(n,e){if(1&n){const t=Ct();g(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15),K(4,"img",16),_(),g(5,"div",17),ge(6,Cle,12,3,"div",10),_()(),g(7,"div",18)(8,"div",19)(9,"div",20)(10,"h4",21),w(11,"Personal Info"),_(),g(12,"ul",22),ge(13,Tle,42,6,"div",10),_(),g(14,"div",23)(15,"div",24)(16,"button",25),ee("click",function(){return le(t),oe(L().openEditProfilePopup())}),K(17,"i",26),g(18,"span"),w(19," Edit Profile "),_()()()()()()()()()}if(2&n){const t=L();x(6),S("ngIf",t.doctor),x(7),S("ngIf",t.doctor)}}function xle(n,e){if(1&n){const t=Ct();g(0,"div")(1,"app-edit-profile",39),ee("saveChanges",function(r){return le(t),oe(L().updateDoctor(r))})("closeModal",function(){return le(t),oe(L().closeModal())}),_()()}if(2&n){const t=L();x(1),S("@fadeInOut",void 0)("doctor",t.doctor)}}const WA=function(n,e){return{opacity:n,cursor:e}};function Dle(n,e){if(1&n){const t=Ct();g(0,"tbody",51)(1,"tr",52)(2,"td",44)(3,"div",53)(4,"div",54),K(5,"img",55)(6,"div",56),_(),g(7,"div")(8,"p",57),w(9),_(),g(10,"p",58),w(11,"Senior Software Engineer"),_()()()(),g(12,"td",59),w(13),_(),g(14,"td",59),w(15),_(),g(16,"td",59),w(17),_(),g(18,"td",60)(19,"span"),w(20),_()(),g(21,"td",59)(22,"button",61),ee("click",function(){const o=le(t).index;return oe(L(2).navigateToCoun(o))}),w(23,"Create Room "),_()(),g(24,"td",59)(25,"button",62),ee("click",function(){const o=le(t).index,s=L(2);return oe(s.cancleAppointmet(s.allAppointments[o]._id))}),w(26,"Cancel"),_()()()()}if(2&n){const t=e.index,i=L(2);x(5),S("src",i.allAppointments[t].Patient_id.Profile_picture?i.allAppointments[t].Patient_id.Profile_picture:"../../../assets/profile.jpeg",eo),x(4),rn(i.allAppointments[t].Patient_id.Name),x(4),He(" ",i.allAppointments[t].Date.slice(0,10)," "),x(2),He(" ",i.allAppointments[t].Starting_time," "),x(2),He(" ",i.allAppointments[t].Payment_id.Payable_amount," "),x(2),ug("px-2 py-1 font-semibold leading-tight \n  ","Canceled"===i.allAppointments[t].Status?"text-red-700 bg-red-100 dark:bg-red-700 dark:text-red-100":"text-green-700 bg-green-100 dark:bg-green-700 dark:text-green-100","\n  rounded-full"),x(1),He(" ",i.allAppointments[t].Status," "),x(2),S("disabled","Canceled"===i.allAppointments[t].Status)("ngStyle",jo(13,WA,"Canceled"===i.allAppointments[t].Status?"0.5":"1","Canceled"===i.allAppointments[t].Status?"not-allowed":"pointer")),x(3),S("disabled","Canceled"===i.allAppointments[t].Status)("ngStyle",jo(16,WA,"Canceled"===i.allAppointments[t].Status?"0.5":"1","Canceled"===i.allAppointments[t].Status?"not-allowed":"pointer"))}}function Sle(n,e){if(1&n&&(g(0,"div",12)(1,"div",13)(2,"div",40)(3,"div",41)(4,"table",42)(5,"thead")(6,"tr",43)(7,"th",44),w(8,"Patient"),_(),g(9,"th",44),w(10,"Date"),_(),g(11,"th",44),w(12,"Time"),_(),g(13,"th",44),w(14,"Amount"),_(),g(15,"th",44),w(16,"Status"),_(),g(17,"th",44),w(18,"Invite"),_(),g(19,"th",44),w(20,"Cancel"),_()()(),ge(21,Dle,27,19,"tbody",45),_()(),g(22,"div",46)(23,"span",47),w(24," Your Appointments "),_(),K(25,"span",48),g(26,"span",49),K(27,"nav",50),_()()()()()),2&n){const t=L();x(21),S("ngForOf",t.allAppointments)}}function Ale(n,e){if(1&n){const t=Ct();g(0,"label")(1,"div",91)(2,"input",92),ee("ngModelChange",function(r){return le(t),oe(L(3).doctor.Slot_length=r)}),_(),g(3,"label",93),w(4),_()()()}if(2&n){const t=e.$implicit,i=L(3);x(2),lg("id","slot_length_",t.value,""),S("ngModel",i.doctor.Slot_length)("value",t.value),to("disabled",!!i.disableRadio||null),x(2),rn(t.label)}}function Mle(n,e){if(1&n&&(g(0,"option",94),w(1),_()),2&n){const t=e.$implicit;S("value",t.value),x(1),rn(t.label)}}function kle(n,e){1&n&&K(0,"div")}function Ple(n,e){1&n&&(g(0,"div",106)(1,"p",107),w(2,"Ending time must be greater than starting time."),_()())}function Rle(n,e){1&n&&(g(0,"div",106)(1,"p",107),w(2,"Starting time of seconde must be greater than ending time of first. "),_()())}function Ole(n,e){1&n&&(g(0,"div",106)(1,"p",107),w(2,"Ending time must be greater than starting time."),_()())}function Nle(n,e){if(1&n){const t=Ct();g(0,"div",95)(1,"div",72)(2,"div",73)(3,"label",96),w(4,"Starting Time (First)"),_(),g(5,"div",97)(6,"input",98),ee("ngModelChange",function(r){return le(t),oe(L(3).startTimeFirst=r)})("change",function(){return le(t),oe(L(3).onChange())}),_()()(),g(7,"div",73)(8,"label",99),w(9,"Ending Time (First)"),_(),g(10,"input",100),ee("ngModelChange",function(r){return le(t),oe(L(3).endTimeFirst=r)})("change",function(){return le(t),oe(L(3).onChange())}),_()(),ge(11,Ple,3,0,"div",101),_(),g(12,"div",72)(13,"div",73)(14,"label",102),w(15,"Starting Time (Second)"),_(),g(16,"input",103),ee("ngModelChange",function(r){return le(t),oe(L(3).startTimeSecond=r)})("change",function(){return le(t),oe(L(3).onChange())}),_()(),g(17,"div",73)(18,"label",104),w(19,"Ending Time (Second)"),_(),g(20,"input",105),ee("ngModelChange",function(r){return le(t),oe(L(3).endTimeSecond=r)})("change",function(){return le(t),oe(L(3).onChange())}),_()(),ge(21,Rle,3,0,"div",101),ge(22,Ole,3,0,"div",101),_()()}if(2&n){const t=L(3);x(6),S("ngModel",t.startTimeFirst),x(4),S("ngModel",t.endTimeFirst),x(1),S("ngIf",t.compareTimes(t.endTimeFirst,t.startTimeFirst)),x(5),S("ngModel",t.startTimeSecond),x(4),S("ngModel",t.endTimeSecond),x(1),S("ngIf",t.compareTimes(t.startTimeSecond,t.endTimeFirst)),x(1),S("ngIf",t.compareTimes(t.endTimeSecond,t.startTimeSecond))}}function Fle(n,e){if(1&n){const t=Ct();g(0,"div",95)(1,"div",72)(2,"div",73)(3,"label",96),w(4,"Starting Time (First)"),_(),g(5,"input",108),ee("ngModelChange",function(r){le(t);const o=L(3);return oe(o.doctor.Starting_time_first[o.selectedslots]=r)}),_()(),g(6,"div",73)(7,"label",99),w(8,"Ending Time (First)"),_(),g(9,"input",109),ee("ngModelChange",function(r){le(t);const o=L(3);return oe(o.doctor.Ending_time_first[o.selectedslots]=r)}),_()()(),g(10,"div",72)(11,"div",73)(12,"label",102),w(13,"Starting Time (Second)"),_(),g(14,"input",110),ee("ngModelChange",function(r){le(t);const o=L(3);return oe(o.doctor.Starting_time_second[o.selectedslots]=r)}),_()(),g(15,"div",73)(16,"label",104),w(17,"Ending Time (Second)"),_(),g(18,"input",111),ee("ngModelChange",function(r){le(t);const o=L(3);return oe(o.doctor.Ending_time_second[o.selectedslots]=r)}),_()()()()}if(2&n){const t=L(3);x(5),S("ngModel",t.doctor.Starting_time_first[t.selectedslots]),x(4),S("ngModel",t.doctor.Ending_time_first[t.selectedslots]),x(5),S("ngModel",t.doctor.Starting_time_second[t.selectedslots]),x(4),S("ngModel",t.doctor.Ending_time_second[t.selectedslots])}}function Lle(n,e){if(1&n&&(g(0,"div",107),w(1),_()),2&n){const t=L(3);x(1),He(" ",t.slotFirstRelatedString," ")}}function Vle(n,e){if(1&n&&(g(0,"div",107),w(1),_()),2&n){const t=L(3);x(1),He(" ",t.slotSecondeRelatedString," ")}}function Ble(n,e){if(1&n){const t=Ct();g(0,"form",71),ee("submit",function(){return le(t),oe(L(2).submitForm())}),g(1,"div",67)(2,"div",68)(3,"h1",69),w(4," Confirm Your Slots "),_(),g(5,"div",70)(6,"div",72)(7,"div",73)(8,"label",74),w(9,"Counselling Fee"),_(),g(10,"input",75),ee("ngModelChange",function(r){return le(t),oe(L(2).doctor.Counselling_fee=r)})("change",function(){return le(t),oe(L(2).onChangeFee())}),_()(),g(11,"div",76)(12,"label",77),w(13,"Slot length"),_(),g(14,"div",78),ge(15,Ale,5,5,"label",79),_()()(),g(16,"div",80)(17,"div",81)(18,"div",82)(19,"label",83),w(20,"Day"),_(),g(21,"select",84),ee("ngModelChange",function(r){return le(t),oe(L(2).selectedDay=r)})("change",function(){return le(t),oe(L(2).onChange())}),ge(22,Mle,2,2,"option",85),_()()(),ge(23,kle,1,0,"div",86),ge(24,Nle,23,7,"ng-template",null,87,yr),ge(26,Fle,19,4,"ng-template",null,88,yr),_(),ge(28,Lle,2,1,"div",89),ge(29,Vle,2,1,"div",89),_()()(),g(30,"div")(31,"button",90),w(32,"Save Changes"),_()()()}if(2&n){const t=_r(25),i=_r(27),r=L(2);x(10),S("ngModel",r.doctor.Counselling_fee),x(5),S("ngForOf",r.slotTiming),x(6),S("ngModel",r.selectedDay),x(1),S("ngForOf",r.Alldays),x(1),S("ngIf",-1==r.selectedslots)("ngIfThen",t)("ngIfElse",i),x(5),S("ngIf",r.slotFirstRelatedString),x(1),S("ngIf",r.slotSecondeRelatedString),x(2),S("disabled",r.isButtonDisabled)("ngStyle",jo(11,WA,r.isButtonDisabled?"0.5":"1",r.isButtonDisabled?"not-allowed":"pointer"))}}function Ule(n,e){1&n&&K(0,"div")}function jle(n,e){1&n&&(g(0,"div")(1,"p",57),w(2," Yes "),_()())}function Hle(n,e){1&n&&(g(0,"div")(1,"p",57),w(2," No "),_()())}function $le(n,e){1&n&&K(0,"div")}function zle(n,e){if(1&n&&(g(0,"td",60)(1,"div",53)(2,"div")(3,"p",57),w(4),_(),g(5,"p",57),w(6),_()()()(),g(7,"td",59)(8,"div",53)(9,"div")(10,"p",57),w(11),_(),g(12,"p",57),w(13),_()()()()),2&n){const t=L(2).index,i=L(2);x(4),He(" First : ",i.doctor.Starting_time_first[t]," "),x(2),He(" Second : ",i.doctor.Starting_time_second[t]," "),x(5),He(" First : ",i.doctor.Ending_time_first[t]," "),x(2),He(" Second : ",i.doctor.Ending_time_second[t]," ")}}function qle(n,e){if(1&n&&(g(0,"td",60)(1,"div",53)(2,"div")(3,"p",57),w(4),_()()()(),g(5,"td",59)(6,"div",53)(7,"div")(8,"p",57),w(9),_()()()()),2&n){const t=L(2).index,i=L(2);x(4),He(" First : ",i.doctor.Starting_time_first[t]," "),x(5),He(" First : ",i.doctor.Ending_time_first[t]," ")}}function Gle(n,e){if(1&n&&(g(0,"tr",52)(1,"td",44)(2,"div",53)(3,"div")(4,"p",57),w(5),_()()()(),g(6,"td",59)(7,"div",53),ge(8,jle,3,0,"div",10),ge(9,Hle,3,0,"div",10),_()(),ge(10,$le,1,0,"div",86),ge(11,zle,14,4,"ng-template",null,114,yr),ge(13,qle,10,2,"ng-template",null,115,yr),_()),2&n){const t=_r(12),i=_r(14),r=L().index,o=L(2);x(5),He(" ",o.days[r]," "),x(3),S("ngIf",""!==o.doctor.Starting_time_second[r]),x(1),S("ngIf",""===o.doctor.Starting_time_second[r]),x(1),S("ngIf",""!==o.doctor.Starting_time_second[r])("ngIfThen",t)("ngIfElse",i)}}function Wle(n,e){if(1&n&&(g(0,"tbody",51),ge(1,Ule,1,0,"div",112),ge(2,Gle,15,6,"ng-template",null,113,yr),_()),2&n){const t=e.index,i=_r(3),r=L(2);x(1),S("ngIf",""!==r.doctor.Starting_time_first[t])("ngIfThen",i)}}function Zle(n,e){if(1&n&&(g(0,"div",63)(1,"div",13)(2,"div",40)(3,"div",64),ge(4,Ble,33,14,"form",65),_()(),g(5,"div",66)(6,"div",64)(7,"div",67)(8,"div",68)(9,"h1",69),w(10," Your Weekly Slots "),_(),g(11,"div",70)(12,"div",66)(13,"div",41)(14,"table",42)(15,"thead")(16,"tr",43)(17,"th",44),w(18,"Days"),_(),g(19,"th",44),w(20,"Break"),_(),g(21,"th",44),w(22,"Starting Time"),_(),g(23,"th",44),w(24,"Ending Time"),_()()(),ge(25,Wle,4,2,"tbody",45),_()(),g(26,"div",46)(27,"span",47),w(28," Showing days for which slot is booked "),_(),K(29,"span",48),_()()()()()()()()()),2&n){const t=L();x(4),S("ngIf",t.doctor),x(21),S("ngForOf",t.days)}}var ap=function(n){return n.Profile="profile",n.Appointments="appointments",n.Slots="slot",n}(ap||{});let Kle=(()=>{class n{compareTimes(t,i){return new Date(`1970-01-01T${t}`)<=new Date(`1970-01-01T${i}`)}navigateToCoun(t){this.router.navigate(["/DoctorConsulting"],{queryParams:{userData:JSON.stringify(this.allAppointments[t].Patient_id.Email)}})}cancleAppointmet(t){var i=this;return(0,G.Z)(function*(){var r;return console.log("Inside cancleAppointmet"),new Promise((o,s)=>{i.doctorServ.cancelAppoinment(t).subscribe(a=>{r=a.mes,i.ngZone.run(()=>{alert(r)}),i.loadDoctorData(),o()},a=>{console.error("error",a),s(a)})})})()}onChangeFee(){this.isButtonDisabled=this.doctor.Counselling_fee<0}onChange(){this.isButtonDisabled=this.compareTimes(this.endTimeFirst,this.startTimeFirst)||this.compareTimes(this.endTimeSecond,this.startTimeSecond)||this.compareTimes(this.startTimeSecond,this.endTimeFirst),(""===this.startTimeFirst||""===this.endTimeFirst)&&(this.isButtonDisabled=!0),""===this.startTimeSecond&&""!==this.endTimeSecond&&(this.isButtonDisabled=!0),""!==this.startTimeSecond&&""===this.endTimeSecond&&(this.isButtonDisabled=!0),console.log(this.isButtonDisabled)}openEditProfilePopup(){this.isEditProfileModalOpen=!0}closeModal(){this.isEditProfileModalOpen=!1}constructor(t,i,r,o){this.doctorServ=t,this.datePipe=i,this.ngZone=r,this.router=o,this.slotFirstRelatedString="",this.slotSecondeRelatedString="",this.activeTab=ap.Profile,this.startTimeFirst="",this.endTimeFirst="",this.startTimeSecond="",this.endTimeSecond="",this.isEditProfileModalOpen=!1,this.currdate=new Date,this.days=["Monday","Tuesday","wednesday","Thursday","Friday","Saturday","Sunday"],this.selectedslots=-1,this.disableRadio=!0,this.slotTiming=[{label:"15 minute",value:15},{label:"30 minute",value:30},{label:"45 minute",value:45},{label:"60 minute",value:60}],this.selectedDay=-1,this.Alldays=[{label:"Select Your Day for slot",value:-1},{label:"Monday",value:0},{label:"Tuesday",value:1},{label:"Wednesday",value:2},{label:"Thursday",value:3},{label:"Friday",value:4},{label:"Saturday",value:5},{label:"Sunday",value:6}],this.isButtonDisabled=!0}get Tab(){return ap}getshow(t){return t===this.activeTab?1:0}getTabIndex(t){return"profile"===t?"1":"appointments"===t?"2":"slot"===t?"3":"0"}view_profile(){this.activeTab=ap.Profile,this.profile=!0,this.appointments=!1,this.slot=!1}view_appointments(){this.activeTab=ap.Appointments,this.profile=!1,this.appointments=!0,this.slot=!1,console.log("activeTab:",this.activeTab)}view_slots(){this.activeTab=ap.Slots,this.profile=!1,this.appointments=!1,this.slot=!0,console.log("activeTab:",this.activeTab)}updateDoctor(t){var i=this;return new Promise((r,o)=>{console.log(this.doctorId),this.doctorServ.updateDoctor(this.doctorId,t).subscribe(function(){var s=(0,G.Z)(function*(a){console.log("Doctor updated successfully"),yield i.loadDoctorData(),r()});return function(a){return s.apply(this,arguments)}}(),s=>{console.error("Error updating doctor",s),o(s)})})}loadDoctorData(){return new Promise((t,i)=>{this.doctorId="",this.doctorId=localStorage.getItem("userId"),this.doctorServ.getDoctor(this.doctorId).subscribe(r=>{this.doctor=r,this.allAppointments=this.doctor.Appointment_id,console.log(this.allAppointments),console.log("DashBoard"),console.log(this.doctor),this.birthday=this.datePipe.transform(this.doctor?.DoB,"d MMM, yyyy"),t()},r=>{console.error("error",r),i(r)})})}onTimeSet(t){this.selectedTime=t,console.log("Selected Time:",this.selectedTime)}provideslotFirstOption(t,i,r){const o=[],s=[];var[a,l]=t.split(":").map(Number);const c=new Date(1970,0,1,a,l);[a,l]=i.split(":").map(Number);const m=(new Date(1970,0,1,a,l).getTime()-c.getTime())/6e4,y=Math.floor(m/r)*r,b=Math.ceil(m/r)*r,C=new Date(c.getTime()+60*y*1e3),T=new Date(c.getTime()+60*b*1e3);let D=new Date(c);for(;D.getTime()+60*r*1e3<=C.getTime();){const H=D.toTimeString().slice(0,5);new Date(D.getTime()+60*r*1e3).toTimeString().slice(0,5),o.push(`${H}`),D.setTime(D.getTime()+60*r*1e3)}for(D=new Date(c),console.log(D);D.getTime()+60*r*1e3<=T.getTime();){const H=D.toTimeString().slice(0,5);new Date(D.getTime()+60*r*1e3).toTimeString().slice(0,5),s.push(`${H}`),D.setTime(D.getTime()+60*r*1e3)}return{floorSlots:o,ceilSlots:s,floorEndTime:C.toTimeString().slice(0,5),ceilEndTime:T.toTimeString().slice(0,5)}}submitForm(){var t=this;return(0,G.Z)(function*(){console.log("Inside submitForm");const i=t.doctor.Slot_length;var r=[];const o=t.provideslotFirstOption(t.startTimeFirst,t.endTimeFirst,i);if(t.slotFirstRelatedString="",t.slotSecondeRelatedString="",o.floorEndTime!=o.ceilEndTime)return o.floorEndTime==t.startTimeFirst?void(t.slotFirstRelatedString=`You should select ending time ${o.ceilEndTime} or utilize your all time`):void(t.slotFirstRelatedString=`You should select ending time ${o.floorEndTime} or ${o.ceilEndTime} for utilize your all time`);if(""!==t.startTimeSecond){const s=t.provideslotFirstOption(t.startTimeSecond,t.endTimeSecond,i);if(s.floorEndTime!=s.ceilEndTime)return s.floorEndTime==t.startTimeSecond?void(t.slotSecondeRelatedString=`You should select ending time of First ${s.ceilEndTime} for utilize your all time`):void(t.slotSecondeRelatedString=`You should select ending time for Second ${s.floorEndTime} or ${s.ceilEndTime} for utilize your all time`)}if(console.log(t.doctor.Counselling_fee),console.log(t.selectedDay),console.log(t.startTimeFirst),console.log(t.endTimeFirst),console.log(t.startTimeSecond),console.log(t.endTimeSecond),console.log(o.floorSlots),t.doctor.Starting_time_first[t.selectedDay]=t.startTimeFirst,t.doctor.Ending_time_first[t.selectedDay]=t.endTimeFirst,t.doctor.Starting_time_second[t.selectedDay]=t.startTimeSecond,t.doctor.Ending_time_second[t.selectedDay]=t.endTimeSecond,o.floorSlots.forEach(s=>{r.push({Time:s,Booked:!1,Canceled:!1})}),""!==t.startTimeSecond){const s=t.provideslotFirstOption(t.startTimeSecond,t.endTimeSecond,i);s.floorSlots.forEach(a=>{r.push({Time:a,Booked:!1,Canceled:!1})}),console.log(s.floorSlots)}t.doctor.Slots[t.selectedDay]=r,yield t.updateDoctor(t.doctor),yield t.loadDoctorData()})()}ngOnInit(){var t=this;return(0,G.Z)(function*(){yield t.loadDoctorData(),t.view_profile(),console.log(t.doctorId),t.today=t.datePipe.transform(t.currdate,"EEEE"),t.todaydate=t.datePipe.transform(t.currdate,"MMMM d")})()}static#e=this.\u0275fac=function(i){return new(i||n)(V(GA),V(Wh),V(Ze),V(un))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-dashboard-doctor"]],decls:20,vars:7,consts:[[1,"mt-14","flex","bg-blue-300","flex-wrap","min-vh-screen"],["id","sidebar",1,"sticky","top-14","w-full","md:w-1/6","pl-4","py-4","md:mb-0","bg-blue-600","min-vh-screen","mx"],[1,"w-full","flex","flex-col","items-center"],[1,"py-3","items-center","inline-block","w-full","rounded-xl","cursor-pointer",3,"click"],[1,"fa-regular","fa-user","fa-lg",2,"font-weight","bold"],[1,"w-full","font-semibold","mdc-text-field--with-trailing-icon","px-3","py-1"],[1,"fa-regular","fa-calendar-check","fa-lg",2,"font-weight","bold"],[1,"w-full","font-semibold","text-lg","px-3","py-1"],[1,"fa-solid","fa-circle-info","fa-lg",2,"font-weight","bold"],["class","w-full top-14 md:w-5/6 mb-6 md:mb-0 bg-blue-300  h-auto mx",4,"ngIf"],[4,"ngIf"],["class","w-full md:w-5/6 mb-6 md:mb-0 bg-blue-300 h-auto mx",4,"ngIf"],[1,"w-full","top-14","md:w-5/6","mb-6","md:mb-0","bg-blue-300","h-auto","mx"],[1,"h-full","p-8"],[1,"bg-white","rounded-xl","shadow-xl","pb-8"],[1,"w-full","h-[250px]"],["src","https://vojislavd.com/ta-template-demo/assets/img/profile-background.jpg",1,"w-full","h-full","rounded-tl-lg","rounded-tr-lg"],[1,"flex","flex-col","items-center","-mt-20"],[1,"mt-4","flex","flex-col","2xl:flex-row","space-y-4","2xl:space-y-0","2xl:space-x-4"],[1,"w-full","flex","flex-col","2xl:w-1/3"],[1,"flex-1","bg-white","rounded-lg","shadow-xl","p-8"],[1,"text-xl","text-gray-900","font-bold"],[1,"mt-2","text-gray-700"],[1,"flex-1","flex","flex-col","items-center","lg:items-end","justify-end","px-8","mt-2"],[1,"flex","items-center","space-x-4","mt-2"],[1,"flex","items-center","bg-blue-600","hover:bg-blue-700","text-gray-100","px-4","py-2","rounded","text-sm","space-x-2","transition","duration-100",3,"click"],[1,"fas","fa-user",2,"color","#ffffff"],[1,"w-40","h-40","border-4","border-white","rounded-full",3,"src"],[1,"flex","items-center","space-x-2","mt-2"],[1,"text-2xl"],["title","Verified",1,"bg-blue-500","rounded-full","p-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"text-gray-100","h-2.5","w-2.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","4","d","M5 13l4 4L19 7"],[1,"text-gray-700"],[1,"text-sm","text-gray-500"],[1,"flex","border-y","py-2"],[1,"font-bold","w-32"],[1,"flex","border-b","py-2"],["href","/cdn-cgi/l/email-protection","data-cfemail","01606c606f6560736e7272416479606c716d642f626e6c",1,"__cf_email__"],[3,"doctor","saveChanges","closeModal"],[1,"w-full","overflow-hidden","rounded-lg","shadow-xs"],[1,"w-full","overflow-x-auto"],[1,"w-full","whitespace-no-wrap"],[1,"text-lg","text-gray-900","font-bold","tracking-wide","text-left","uppercase","border-b","bg-white"],[1,"px-4","py-3"],["class","bg-white divide-y dark:divide-gray-700 ",4,"ngFor","ngForOf"],[1,"grid","px-4","py-3","text-xs","font-semibold","tracking-wide","text-gray-500","uppercase","border-t","bg-gray-50","sm:grid-cols-9"],[1,"flex","items-center","col-span-3"],[1,"col-span-2"],[1,"flex","col-span-4","mt-2","sm:mt-auto","sm:justify-end"],["aria-label","Table navigation"],[1,"bg-white","divide-y","dark:divide-gray-700"],[1,"text-gray-700","dark:text-gray-400"],[1,"flex","items-center","text-sm"],[1,"relative","hidden","w-8","h-8","mr-3","rounded-full","md:block"],["alt","","loading","lazy",1,"object-cover","w-full","h-full","rounded-full",3,"src"],["aria-hidden","true",1,"absolute","inset-0","rounded-full","shadow-inner"],[1,"font-semibold","text-gray-700"],[1,"text-xs","text-gray-600"],[1,"px-4","py-3","text-gray-700","text-sm"],[1,"px-4","py-3","text-gray-700","text-xs"],[1,"inline-block","px-4","py-2","font-bold","text-center","text-white","uppercase","align-middle","transition-all","rounded-lg","cursor-pointer","bg-gradient-to-tl","from-purple-700","to-pink-500","leading-pro","text-xs","ease-soft-in","tracking-tight-soft","shadow-soft-md","bg-150","bg-x-25","hover:scale-102","active:opacity-85","hover:shadow-soft-xs",3,"disabled","ngStyle","click"],[1,"inline-block","px-4","py-2","font-bold","text-center","text-white","uppercase","align-middle","transition-all","rounded-lg","cursor-pointer","bg-red-600","leading-pro","text-xs","ease-soft-in","tracking-tight-soft","shadow-soft-md","bg-150","bg-x-25","hover:scale-102","active:opacity-85","hover:shadow-soft-xs",3,"disabled","ngStyle","click"],[1,"w-full","md:w-5/6","mb-6","md:mb-0","bg-blue-300","h-auto","mx"],[1,"bg-blue-300","rounded-lg","max-h","overflow-hidden","scrollbar-thin","scrollbar-thumb-gray-500","scrollbar-track-gray-200"],[3,"submit",4,"ngIf"],[1,"w-full","overflow-hidden","rounded-lg","shadow"],[1,"w-full","backdrop-blur-lg","bg-white/50","md:mt-0","sm:max-w-6xl","xl:p-0","rounded-lg","shadow"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-none","tracking-normal","text-gray-950","md:text-2xl"],["action","#",1,"mt-4","space-y-4","md:space-y-6"],[3,"submit"],[1,"flex","flex-wrap","-mx-3","mb-6"],[1,"w-full","md:w-1/2","px-3","mb-6","md:mb-0"],["for","counselling_fee",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["type","number","name","counselling_fee","id","counselling_fee","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange","change"],[1,"w-full","md:w-1/3","px-3","mb-6","md:mb-0"],["for","slot_length",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],[1,"flex","flex-row","..."],[4,"ngFor","ngForOf"],[1,"flex","flex-wrap","w-full"],[1,"md:w-1/3","ml"],[1,"flex","flex-wrap","mr-6"],["for","DayDropdown",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["id","DayDropdown","name","DayDropdown","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],["defaultvalueblock",""],["slotbookingblock",""],["style","color: red;",4,"ngIf"],["type","submit",1,"w-full","my-3","text-primary-700","font-bold","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5",3,"disabled","ngStyle"],[1,"pt-2","pr-4","md:mb-0"],["type","radio","name","colored-radio",1,"w-4","h-4","text-red-600","disabled","bg-gray-100","border-gray-300","focus:ring-red-500","dark:focus:ring-red-600","dark:ring-offset-gray-800",":bg-gray-700","dark:border-gray-600",3,"id","ngModel","value","ngModelChange"],["for","slot_length",1,"ms-2","text-md","font-medium","text-gray-900","/*dark:text-gray-300*/"],[3,"value"],[1,"md:w-2/3"],["for","starting_time_first",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],[1,"flex"],["value","0","type","time","name","starting_time_first","placeholder","Enter Starting Time","id","starting_time_first","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange","change"],["for","ending_time_first",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["value","0","type","time","name","ending_time_first","placeholder","Enter Starting Time","id","ending_time_first","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange","change"],["class","w-full px-3 mb-6 md:mb-0",4,"ngIf"],["for","starting_time_second",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["value","0","type","time","name","starting_time_second","placeholder","Enter Starting Time","id","starting_time_second","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange","change"],["for","ending_time_second",1,"block","mb-2","text-sm","font-semibold","text-gray-900"],["value","0","type","time","name","ending_time_second","placeholder","Enter Starting Time","id","ending_time_second","required","",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange","change"],[1,"w-full","px-3","mb-6","md:mb-0"],[2,"color","red"],["type","number","name","starting_time_first","id","starting_time_first",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","number","name","ending_time_first","id","ending_time_first",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","number","name","starting_time_second","id","starting_time_second",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],["type","number","name","ending_time_second","id","ending_time_second",1,"bg-gray-100","border","border-gray-400","text-gray-800","sm:text-sm","rounded-lg","focus:ring-primary-#2563eb","focus:border-primary-#2563eb","block","w-full","p-2.5",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfThen"],["Showblock",""],["thenBlock",""],["elseBlock",""]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"form")(3,"ul",2)(4,"li",3),ee("click",function(){return r.view_profile()}),K(5,"i",4),g(6,"a",5),w(7,"Profile"),_()(),g(8,"li",3),ee("click",function(){return r.view_appointments()}),K(9,"i",6),g(10,"a",7),w(11,"Appointments"),_()(),g(12,"li",3),ee("click",function(){return r.view_slots()}),K(13,"i",8),g(14,"a",7),w(15,"Slots"),_()()()()(),ge(16,Ile,20,2,"div",9),ge(17,xle,2,2,"div",10),ge(18,Sle,28,1,"div",9),ge(19,Zle,30,2,"div",11),_()),2&i&&(x(4),S("@slideA",r.getshow(r.Tab.Profile)),x(4),S("@slideA",r.getshow(r.Tab.Appointments)),x(4),S("@slideA",r.getshow(r.Tab.Slots)),x(4),S("ngIf",r.profile),x(1),S("ngIf",r.isEditProfileModalOpen),x(1),S("ngIf",r.appointments),x(1),S("ngIf",r.slot))},dependencies:[ps,Xi,Gh,ia,lf,cf,Wo,Cx,Kl,Jg,ta,na,bs,vs,Zo,Ele],styles:['.indicator[_ngcontent-%COMP%]{z-index:-1;margin-top:84px;position:absolute;top:-10px;width:212px;height:52px;border-top-left-radius:23px;border-bottom-left-radius:23px;cursor:pointer;transition:transform .5s ease-out}.indicator[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-20px;left:193px;width:20px;height:20px;border-top-right-radius:35px;box-shadow:4px -6px 0 2px #93c5fd}.indicator[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-20px;left:193px;width:20px;height:20px;border-bottom-right-radius:35px;box-shadow:4px 6px 0 2px #93c5fd;z-index:-1}.indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:-25px;width:254px;height:45px;border-radius:23px;border:3px solid #29fd;background-color:#2563eb;transform-origin:bottom;transform:scale(.8);box-shadow:0 5px 15px #00000026}#sidebar[_ngcontent-%COMP%]{height:calc(100vh - 3.5rem)}'],data:{animation:[ra("slideIndicator",[Ko("1",Yt({transform:"translateY(0px)"})),Ko("2",Yt({transform:"translateY(52px)"})),Ko("3",Yt({transform:"translateY(104px)"})),jr("* => *",Ur("0.3s ease-out"))]),ra("slideA",[Ko("1",Yt({transform:"translateX(+30px)",color:"#68e8f7"})),Ko("0",Yt({transform:"translateY(0px)",color:"#ffffff"})),jr("* => *",Ur("0.3s ease-out"))]),ra("fadeInOut",[jr(":enter",[Yt({opacity:0}),Ur("300ms",Yt({opacity:1}))]),jr(":leave",[Ur("300ms",Yt({opacity:0}))])])]}})}return n})(),ZA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-footer"]],decls:65,vars:0,consts:[[1,"left-0","bottom-0","w-full"],[1,"bg-blue-800","text-white","px-4","divide-y","dark:text-gray-100"],[1,"container","flex","flex-col","justify-between","py-10","mx-auto","space-y-8","lg:flex-row","lg:space-y-0"],[1,"lg:w-1/3"],["rel","noopener noreferrer","href","#",1,"flex","justify-center","space-x-3","lg:justify-start"],[1,"flex","items-center","justify-center","w-12","h-12","rounded-full","dark:bg-violet-400"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 32 32","fill","currentColor",1,"flex-shrink-0","w-5","h-5","rounded-full","dark:text-gray-900"],["d","M18.266 26.068l7.839-7.854 4.469 4.479c1.859 1.859 1.859 4.875 0 6.734l-1.104 1.104c-1.859 1.865-4.875 1.865-6.734 0zM30.563 2.531l-1.109-1.104c-1.859-1.859-4.875-1.859-6.734 0l-6.719 6.734-6.734-6.734c-1.859-1.859-4.875-1.859-6.734 0l-1.104 1.104c-1.859 1.859-1.859 4.875 0 6.734l6.734 6.734-6.734 6.734c-1.859 1.859-1.859 4.875 0 6.734l1.104 1.104c1.859 1.859 4.875 1.859 6.734 0l21.307-21.307c1.859-1.859 1.859-4.875 0-6.734z"],[1,"self-center","text-2xl","font-semibold"],[1,"grid","grid-cols-2","text-sm","gap-x-3","gap-y-8","lg:w-2/3","sm:grid-cols-4"],[1,"space-y-3"],[1,"tracking-wide","uppercase","dark:text-gray-50"],[1,"space-y-1"],["rel","noopener noreferrer","href","#"],[1,"uppercase","dark:text-gray-50"],[1,"flex","justify-start","space-x-3"],["rel","noopener noreferrer","href","#","title","Facebook",1,"flex","items-center","p-1"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 32 32",1,"w-5","h-5","fill-current"],["d","M32 16c0-8.839-7.167-16-16-16-8.839 0-16 7.161-16 16 0 7.984 5.849 14.604 13.5 15.803v-11.177h-4.063v-4.625h4.063v-3.527c0-4.009 2.385-6.223 6.041-6.223 1.751 0 3.584 0.312 3.584 0.312v3.937h-2.021c-1.984 0-2.604 1.235-2.604 2.5v3h4.437l-0.713 4.625h-3.724v11.177c7.645-1.199 13.5-7.819 13.5-15.803z"],["rel","noopener noreferrer","href","#","title","Twitter",1,"flex","items-center","p-1"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","fill-current"],["d","M23.954 4.569a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.691 8.094 4.066 6.13 1.64 3.161a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.061a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.937 4.937 0 004.604 3.417 9.868 9.868 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63a9.936 9.936 0 002.46-2.548l-.047-.02z"],["rel","noopener noreferrer","href","#","title","Instagram",1,"flex","items-center","p-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 32 32","fill","currentColor",1,"w-5","h-5","fill-current"],["d","M16 0c-4.349 0-4.891 0.021-6.593 0.093-1.709 0.084-2.865 0.349-3.885 0.745-1.052 0.412-1.948 0.959-2.833 1.849-0.891 0.885-1.443 1.781-1.849 2.833-0.396 1.020-0.661 2.176-0.745 3.885-0.077 1.703-0.093 2.244-0.093 6.593s0.021 4.891 0.093 6.593c0.084 1.704 0.349 2.865 0.745 3.885 0.412 1.052 0.959 1.948 1.849 2.833 0.885 0.891 1.781 1.443 2.833 1.849 1.020 0.391 2.181 0.661 3.885 0.745 1.703 0.077 2.244 0.093 6.593 0.093s4.891-0.021 6.593-0.093c1.704-0.084 2.865-0.355 3.885-0.745 1.052-0.412 1.948-0.959 2.833-1.849 0.891-0.885 1.443-1.776 1.849-2.833 0.391-1.020 0.661-2.181 0.745-3.885 0.077-1.703 0.093-2.244 0.093-6.593s-0.021-4.891-0.093-6.593c-0.084-1.704-0.355-2.871-0.745-3.885-0.412-1.052-0.959-1.948-1.849-2.833-0.885-0.891-1.776-1.443-2.833-1.849-1.020-0.396-2.181-0.661-3.885-0.745-1.703-0.077-2.244-0.093-6.593-0.093zM16 2.88c4.271 0 4.781 0.021 6.469 0.093 1.557 0.073 2.405 0.333 2.968 0.553 0.751 0.291 1.276 0.635 1.844 1.197 0.557 0.557 0.901 1.088 1.192 1.839 0.22 0.563 0.48 1.411 0.553 2.968 0.072 1.688 0.093 2.199 0.093 6.469s-0.021 4.781-0.099 6.469c-0.084 1.557-0.344 2.405-0.563 2.968-0.303 0.751-0.641 1.276-1.199 1.844-0.563 0.557-1.099 0.901-1.844 1.192-0.556 0.22-1.416 0.48-2.979 0.553-1.697 0.072-2.197 0.093-6.479 0.093s-4.781-0.021-6.48-0.099c-1.557-0.084-2.416-0.344-2.979-0.563-0.76-0.303-1.281-0.641-1.839-1.199-0.563-0.563-0.921-1.099-1.197-1.844-0.224-0.556-0.48-1.416-0.563-2.979-0.057-1.677-0.084-2.197-0.084-6.459 0-4.26 0.027-4.781 0.084-6.479 0.083-1.563 0.339-2.421 0.563-2.979 0.276-0.761 0.635-1.281 1.197-1.844 0.557-0.557 1.079-0.917 1.839-1.199 0.563-0.219 1.401-0.479 2.964-0.557 1.697-0.061 2.197-0.083 6.473-0.083zM16 7.787c-4.541 0-8.213 3.677-8.213 8.213 0 4.541 3.677 8.213 8.213 8.213 4.541 0 8.213-3.677 8.213-8.213 0-4.541-3.677-8.213-8.213-8.213zM16 21.333c-2.948 0-5.333-2.385-5.333-5.333s2.385-5.333 5.333-5.333c2.948 0 5.333 2.385 5.333 5.333s-2.385 5.333-5.333 5.333zM26.464 7.459c0 1.063-0.865 1.921-1.923 1.921-1.063 0-1.921-0.859-1.921-1.921 0-1.057 0.864-1.917 1.921-1.917s1.923 0.86 1.923 1.917z"],[1,"py-6","text-sm","text-center","dark:text-gray-400"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"footer",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"div",5),Fi(),g(6,"svg",6),K(7,"path",7),_()(),Li(),g(8,"span",8),w(9,"Doc-Connect"),_()()(),g(10,"div",9)(11,"div",10)(12,"h3",11),w(13,"Product"),_(),g(14,"ul",12)(15,"li")(16,"a",13),w(17,"Features"),_()(),g(18,"li")(19,"a",13),w(20,"Integrations"),_()(),g(21,"li")(22,"a",13),w(23,"Pricing"),_()(),g(24,"li")(25,"a",13),w(26,"FAQ"),_()()()(),g(27,"div",10)(28,"h3",11),w(29,"Company"),_(),g(30,"ul",12)(31,"li")(32,"a",13),w(33,"Privacy"),_()(),g(34,"li")(35,"a",13),w(36,"Terms of Service"),_()()()(),g(37,"div",10)(38,"h3",14),w(39,"Developers"),_(),g(40,"ul",12)(41,"li")(42,"a",13),w(43,"Public API"),_()(),g(44,"li")(45,"a",13),w(46,"Documentation"),_()(),g(47,"li")(48,"a",13),w(49,"Guides"),_()()()(),g(50,"div",10)(51,"div",14),w(52,"Social media"),_(),g(53,"div",15)(54,"a",16),Fi(),g(55,"svg",17),K(56,"path",18),_()(),Li(),g(57,"a",19),Fi(),g(58,"svg",20),K(59,"path",21),_()(),Li(),g(60,"a",22),Fi(),g(61,"svg",23),K(62,"path",24),_()()()()()(),Li(),g(63,"div",25),w(64,"\xa9 1968 Company Co. All rights reserved."),_()()())}})}return n})(),Yle=(()=>{class n{constructor(t,i){this.doctorServ=t,this.navbarService=i}ngOnInit(){this.navbarService.showNavbar(),this.doctorId=localStorage.getItem("userId"),console.log(this.doctorId),this.doctorServ.getDoctor(this.doctorId).subscribe(t=>{this.doctor=t,console.log(t)},t=>{console.error("Doctor not avialable.",t)})}static#e=this.\u0275fac=function(i){return new(i||n)(V(GA),V(Js))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-home-doctor"]],decls:64,vars:0,consts:[[1,"bg-gray-100","mt-14","font-sans","leading-normal","tracking-normal"],[1,"hero-section","h-auto"],[1,"h-screen"],["src","assets/desk1.jpeg","alt","Doctor's Desk Image",1,"relative","w-full","h-3/4","bg-cover"],[1,"welcome-text","text-center","text-white","absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2"],[1,"text-4xl","md:text-6xl","font-bold","mb-4"],[1,"text-lg","md:text-xl","mb-8"],[1,"flex","justify-center","space-x-4"],["href","#",1,"bg-blue-500","hover:bg-blue-600","text-white","font-bold","py-2","px-4","rounded-full"],["href","#",1,"bg-gray-500","hover:bg-gray-600","text-white","font-bold","py-2","px-4","rounded-full"],[1,"container","mx-auto","px-20","py-12"],[1,"text-3xl","font-semibold","text-gray-900","mb-6","text-center"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-56"],[1,"bg-white","p-6","pl-12","rounded-lg","shadow-md"],[1,"text-xl","font-semibold","mb-2"],[1,"text-gray-700"],[1,"font-semibold"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"div",2),K(3,"img",3),g(4,"div",4)(5,"h1",5),w(6,"Welcome, Dr. John Doe"),_(),g(7,"p",6),w(8,"Manage your appointments and patients with ease."),_(),g(9,"div",7)(10,"a",8),w(11,"View Appointments"),_(),g(12,"a",9),w(13,"Manage Patients"),_()()()()(),g(14,"div",10)(15,"h2",11),w(16,"Upcoming Appointments"),_(),g(17,"div",12)(18,"div",13)(19,"h3",14),w(20,"John Smith"),_(),g(21,"p",15),w(22,"Date: "),g(23,"span",16),w(24,"Feb 25, 2024"),_()(),g(25,"p",15),w(26,"Time: "),g(27,"span",16),w(28,"10:00 AM"),_()(),g(29,"p",15),w(30,"Reason: "),g(31,"span",16),w(32,"Checkup"),_()()(),g(33,"div",13)(34,"h3",14),w(35,"Jane Doe"),_(),g(36,"p",15),w(37,"Date: "),g(38,"span",16),w(39,"Mar 10, 2024"),_()(),g(40,"p",15),w(41,"Time: "),g(42,"span",16),w(43,"2:30 PM"),_()(),g(44,"p",15),w(45,"Reason: "),g(46,"span",16),w(47,"Follow-up"),_()()(),g(48,"div",13)(49,"h3",14),w(50,"Emily Johnson"),_(),g(51,"p",15),w(52,"Date: "),g(53,"span",16),w(54,"Apr 5, 2024"),_()(),g(55,"p",15),w(56,"Time: "),g(57,"span",16),w(58,"9:00 AM"),_()(),g(59,"p",15),w(60,"Reason: "),g(61,"span",16),w(62,"Annual Physical"),_()()()()(),K(63,"app-footer"),_())},dependencies:[ZA],styles:[".hero-section[_ngcontent-%COMP%]{position:relative}.welcome-text[_ngcontent-%COMP%]{position:absolute;top:34%;left:28%;transform:translate(-50%,-50%)}"]})}return n})();function Qle(n,e){1&n&&K(0,"span",8),2&n&&Lh("active",e.index===L().slideIndex)}let Xle=(()=>{class n{constructor(){this.slideIndex=0,this.images=["assets/image-1.jpg","assets/image-2.jpg","assets/image-3.jpg"]}ngOnInit(){setInterval(()=>{this.slideIndex=(this.slideIndex+1)%this.images.length},3500)}getCurrentImage(){return this.images[this.slideIndex]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-animation"]],decls:11,vars:3,consts:[[1,"image-container"],["alt","Current Slide",1,"min-w-max","mix-blend-color-burn",3,"src"],[1,"quote-overlay"],[1,"quote"],[1,"second-line"],[1,"third-line"],[2,"text-align","center"],["class","dot",3,"active",4,"ngFor","ngForOf"],[1,"dot"]],template:function(i,r){1&i&&(g(0,"div",0),K(1,"img",1),g(2,"div",2)(3,"p",3),w(4,'"Health is the greatest gift,'),K(5,"br",4),w(6," contentment the greatest wealth,"),K(7,"br",5),w(8,' faithfulness the best relationship." - Buddha'),_()()(),g(9,"div",6),ge(10,Qle,1,2,"span",7),_()),2&i&&(S("@imageFadeInOut",r.slideIndex),x(1),S("src",r.getCurrentImage(),eo),x(9),S("ngForOf",r.images))},dependencies:[ps],styles:[".image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:574px;overflow:hidden;position:relative}img[_ngcontent-%COMP%]{width:100%;height:auto;transition:opacity 1.5s ease-in-out}.quote-overlay[_ngcontent-%COMP%]{position:absolute;top:30%;left:20px;transform:translateY(-50%);padding:20px;background-color:#0000002c}.quote[_ngcontent-%COMP%]{font-size:30px;text-align:left;font-weight:700;color:#000;white-space:pre-line}.quote[_ngcontent-%COMP%]   .second-line[_ngcontent-%COMP%]{padding-left:20px}"],data:{animation:[ra("imageFadeInOut",[jr(":increment, :decrement",[Yt({opacity:0}),Ur("1.5s",Yt({opacity:1}))])])]}})}return n})();ra("fadeInOut",[jr(":enter",[Yt({opacity:0}),Ur("300ms",Yt({opacity:1}))]),jr(":leave",[Ur("300ms",Yt({opacity:0}))])]);const Jle=function(n){return["/doctor-details",n]};function ece(n,e){if(1&n&&(g(0,"div",7)(1,"div",8),K(2,"img",9),_(),g(3,"div")(4,"div",10),w(5),_(),g(6,"p",11),w(7),_(),g(8,"p",12),w(9),_(),g(10,"div",13)(11,"div",14)(12,"div",15)(13,"a",16),w(14,"View Doctor"),_()()()()()()),2&n){const t=e.$implicit;x(2),S("src",t.Profile_photo?t.Profile_photo:"https://images.unsplash.com/photo-1567515004624-219c11d31f2e??auto=format&q=75&fit=crop&w=256",eo),x(3),He(" ",t.Name," "),x(2),He(" ",t.Category," "),x(2),He(" Specialist: ",t.Specialist," "),x(4),S("routerLink",gg(5,Jle,t._id))}}let tce=(()=>{class n{constructor(t,i){this.navbarService=t,this.services=i}ngOnInit(){var t=this;return(0,G.Z)(function*(){t.navbarService.showNavbar(),yield t.loadDoctorData()})()}loadDoctorData(){return new Promise((t,i)=>{this.services.getDoctors().subscribe(r=>{this.doctors=r,t()},r=>{console.error("error",r),i(r)})})}static#e=this.\u0275fac=function(i){return new(i||n)(V(Js),V(rp))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-home-patient"]],decls:12,vars:1,consts:[[1,"bg-custom-gradient","py-6","sm:py-8","lg:py-12"],[1,"mx-auto","max-w-screen-xl","px-4","md:px-8"],[1,"mb-10","md:mb-16"],[1,"mb-4","text-center","text-2xl","font-bold","text-gray-800","md:mb-6","lg:text-3xl"],[1,"mx-auto","max-w-screen-md","text-center","text","md:text-lg"],[1,"grid","grid-cols-2","gap-4","md:grid-cols-3","lg:grid-cols-4","lg:gap-8"],["class","flex flex-col items-center rounded-lg bg-white/40 p-4 lg:p-8 hover:shadow-xl shadow-black duration-300 transform transition-transform hover:scale-105",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","rounded-lg","bg-white/40","p-4","lg:p-8","hover:shadow-xl","shadow-black","duration-300","transform","transition-transform","hover:scale-105"],[1,"mb-2","h-24","w-24","overflow-hidden","rounded-full","bg-gray-200","shadow-lg","md:mb-4","md:h-32","md:w-32"],["loading","lazy","alt","Photo by Radu Florin",1,"h-full","w-full","object-cover","object-center",3,"src"],[1,"text-center","font-bold","text-primary-700","md:text-lg"],[1,"mb-1","text-center","text-sm","text-gray-700","md:mb-1","md:text-base"],[1,"mb-3","text-center","text-sm","text-gray-700","md:mb-4","md:text-base"],[1,"flex","justify-center"],[1,"flex","gap-4"],[1,"flex","gap-2.5"],[1,"inline-block","flex-1","rounded-lg","text-primary-700","font-semibold","hover:bg-primary-700","focus:bg-primary-700","focus:text-white","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","px-8","py-3","text-center","text-sm","outline-none","ring-indigo-300","transition","duration-100","focus-visible:ring","active:bg-indigo-700","sm:flex-none","md:text-base",3,"routerLink"]],template:function(i,r){1&i&&(g(0,"div"),K(1,"app-animation"),g(2,"div",0)(3,"div",1)(4,"div",2)(5,"h2",3),w(6," Doctor's Profile "),_(),g(7,"p",4),w(8," This is a section of some simple filler text, also known as placeholder text. It shares some characteristics of a real written text but is random or otherwise generated. "),_()(),g(9,"div",5),ge(10,ece,15,7,"div",6),_()()(),K(11,"app-footer"),_()),2&i&&(x(10),S("ngForOf",r.doctors))},dependencies:[ps,ys,Xle,ZA],styles:[".container[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px 0}h1[_ngcontent-%COMP%]{text-align:center;color:#3d1e1e}.profiles-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto;gap:20px;padding-bottom:20px;justify-content:center}.profile-card[_ngcontent-%COMP%]{margin:center;flex:0 0 auto;width:300px;border:1px solid #471ea7;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px #0000001a;transition:transform .3s;background-color:#ececec;margin:20px}.profile-card[_ngcontent-%COMP%]:last-child{margin-right:0}.profile-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #0003}.profile-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-top-left-radius:10px;border-top-right-radius:10px;margin-bottom:10px;display:block;margin-left:auto;margin-right:auto;padding-top:20px}.profile-details[_ngcontent-%COMP%]{text-align:center;padding:20px}.profile-name[_ngcontent-%COMP%]{margin-bottom:10px;color:#230303;font-size:1.5em}.profile-specialty[_ngcontent-%COMP%]{margin-bottom:10px;color:#777;font-size:1.1em}.profile-bio[_ngcontent-%COMP%]{margin-bottom:15px;color:#555}.profile-icons[_ngcontent-%COMP%]{display:flex;gap:10px;font-size:1.2em}.profile-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#777;cursor:pointer}.profile-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#333}.custom-prev-arrow[_ngcontent-%COMP%], .custom-next-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);color:#210e09;cursor:pointer}.custom-prev-arrow[_ngcontent-%COMP%]{left:1px}.custom-next-arrow[_ngcontent-%COMP%]{right:1px}"]})}return n})();const nce=function(n){return["/bookappointment",n]};let ice=(()=>{class n{constructor(t,i){this.route=t,this.services=i,this.ratings=[2.4,3.1,5,4.8,1.2],this.starsArray=Array.from({length:5},(r,o)=>o+1),this.rating=4.2}ngOnInit(){var t=this;return(0,G.Z)(function*(){try{const r=(yield t.route.params.pipe(Ys()).toPromise())?.id;void 0!==r?(t.doctorId=r,t.doctor=yield t.services.getDoctor(t.doctorId).toPromise()):console.error("Error: 'id' parameter is undefined.")}catch(i){console.error("error",i)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(V(gs),V(rp))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-doctor-card"]],decls:159,vars:13,consts:[[1,"bg-custom-gradient","mt-14","py-8"],[1,"mx-auto","bg-white/40","rounded-lg","sm:pt-8","sm:pb-32","sm:px-6","lg:max-w-7xl","lg:px-8"],[1,"lg:grid","lg:grid-rows-1","lg:grid-cols-12","lg:gap-x-8","lg:gap-y-10","xl:gap-x-16"],[1,"lg:row-end-1","lg:col-span-5"],[1,"aspect-w-1","aspect-h-1","rounded-lg","bg-gray-100","overflow-hidden"],["alt","Sample of 30 icons with friendly and fun details in outline, filled, and brand color styles.",1,"object-center","object-cover",3,"src"],[1,"max-w-2xl","mx-auto","mt-14","sm:mt-16","lg:max-w-none","lg:mt-0","lg:row-end-2","lg:row-span-2","lg:col-span-7"],[1,"flex","flex-col-reverse"],[1,"mt-4"],[1,"text-2xl","font-extrabold","tracking-tight","text-gray-900","sm:text-3xl"],[1,"sr-only"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"text-yellow-400","h-5","w-5","flex-shrink-0"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"text-gray-300","h-5","w-5","flex-shrink-0"],[1,"text-gray-600","mt-6"],[1,"flex","mt-4"],[1,"relative","text-base","font-medium","text-gray-900"],[1,"prose","prose-base","text-gray-600","ml-2"],[1,"flex"],[1,"mt-10","grid","grid-cols-1","gap-x-6","gap-y-4","sm:grid-cols-2"],["type","button",1,"w-full","text-primary-700","hover:bg-primary-700","focus:bg-primary-700","focus:text-white","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","border","border-transparent","rounded-md","py-3","px-8","flex","items-center","justify-center","text-base","font-medium","focus:ring-offset-2","focus:ring-offset-gray-50",3,"routerLink"],[1,"border-t","border-primary-800","mt-10","pt-10"],[1,"text-sm","font-medium","text-gray-900"],[1,"mt-4","text-sm","text-gray-600"],[1,"mt-4","prose","prose-sm","text-gray-600"],["role","list"],["role","list",1,"flex","items-center","space-x-6","mt-4"],["href","#",1,"flex","items-center","justify-center","w-6","h-6","text-gray-400","hover:text-gray-500"],["fill","currentColor","viewBox","0 0 20 20","aria-hidden","true",1,"w-5","h-5"],["fill-rule","evenodd","d","M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z","clip-rule","evenodd"],["fill","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-6","h-6"],["fill-rule","evenodd","d","M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z","clip-rule","evenodd"],["d","M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"],[1,"w-full","max-w-2xl","mx-auto","mt-16","lg:max-w-none","lg:mt-0","lg:col-span-5"],[1,"border-b","border-primary-800"],["aria-orientation","horizontal","role","tablist",1,"-mb-px","flex","space-x-8"],["id","tab-reviews","aria-controls","tab-panel-reviews","role","tab","type","button",1,"border-transparent","text-gray-600","hover:text-gray-800","hover:border-gray-300","whitespace-nowrap","py-6","border-b-2","font-medium","text-sm"],["id","tab-panel-reviews","aria-labelledby","tab-reviews","role","tabpanel","tabindex","0",1,"-mb-10"],[1,"flex","text-sm","text-gray-500","space-x-4"],[1,"flex-none","py-10"],["src","https://images.unsplash.com/photo-1502685104226-ee32379fefbe?ixlib=rb-=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=8&w=256&h=256&q=80","alt","",1,"w-10","h-10","bg-gray-100","rounded-full"],[1,"flex-1","py-10"],[1,"font-medium","text-gray-900"],["datetime","2021-07-16"],[1,"flex","items-center","mt-4"],[1,"mt-4","prose","prose-sm","max-w-none","text-gray-600"],[1,"flex","text-sm","text-gray-600","space-x-4"],["src","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=8&w=256&h=256&q=80","alt","",1,"w-10","h-10","bg-gray-100","rounded-full"],[1,"flex-1","py-10","border-t","border-primary-800"],["datetime","2021-07-12"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"main",1)(2,"div",2)(3,"div",3)(4,"div",4),K(5,"img",5),_()(),g(6,"div",6)(7,"div",7)(8,"div",8)(9,"h1",9),w(10),_()(),g(11,"div")(12,"h3",10),w(13,"Reviews"),_(),g(14,"div",11),Fi(),g(15,"svg",12),K(16,"path",13),_(),g(17,"svg",12),K(18,"path",13),_(),g(19,"svg",12),K(20,"path",13),_(),g(21,"svg",12),K(22,"path",13),_(),g(23,"svg",14),K(24,"path",13),_()(),Li(),g(25,"p",10),w(26,"4 out of 5 stars"),_()()(),g(27,"p",15),w(28),_(),g(29,"div",16)(30,"h3",17),w(31,"Age : "),_(),g(32,"h3",18),w(33),_()(),g(34,"div",19)(35,"h3",17),w(36,"Experiance : "),_(),g(37,"h3",18),w(38),_()(),g(39,"div",19)(40,"h3",17),w(41,"Category : "),_(),g(42,"h3",18),w(43),_()(),g(44,"div",19)(45,"h3",17),w(46,"Specialist : "),_(),g(47,"h3",18),w(48),_()(),g(49,"div",19)(50,"h3",17),w(51,"Counselling Duration : "),_(),g(52,"h3",18),w(53),_()(),g(54,"div",19)(55,"h3",17),w(56,"Counselling Fees : "),_(),g(57,"h3",18),w(58),_()(),g(59,"div",20)(60,"a",21),w(61,"Book Appoinment"),_()(),g(62,"div",22)(63,"h3",23),w(64,"About Doctor"),_(),g(65,"p",24),w(66),_()(),g(67,"div",22)(68,"h3",23),w(69,"Highlights"),_(),g(70,"div",25)(71,"ul",26)(72,"li"),w(73,"200+ SVG icons in 3 unique styles"),_(),g(74,"li"),w(75,"Compatible with Figma, Sketch, and Adobe XD"),_(),g(76,"li"),w(77,"Drawn on 24 x 24 pixel grid"),_()()()(),g(78,"div",22)(79,"h3",23),w(80,"Share"),_(),g(81,"ul",27)(82,"li")(83,"a",28)(84,"span",10),w(85,"Share on Facebook"),_(),Fi(),g(86,"svg",29),K(87,"path",30),_()()(),Li(),g(88,"li")(89,"a",28)(90,"span",10),w(91,"Share on Instagram"),_(),Fi(),g(92,"svg",31),K(93,"path",32),_()()(),Li(),g(94,"li")(95,"a",28)(96,"span",10),w(97,"Share on Twitter"),_(),Fi(),g(98,"svg",29),K(99,"path",33),_()()()()()(),Li(),g(100,"div",34)(101,"div")(102,"div",35)(103,"div",36)(104,"button",37),w(105,"Patient Reviews"),_()()(),g(106,"div",38)(107,"h3",10),w(108,"Customer Reviews"),_(),g(109,"div",39)(110,"div",40),K(111,"img",41),_(),g(112,"div",42)(113,"h3",43),w(114,"Emily Selman"),_(),g(115,"p")(116,"time",44),w(117,"July 16, 2021"),_()(),g(118,"div",45),Fi(),g(119,"svg",12),K(120,"path",13),_(),g(121,"svg",12),K(122,"path",13),_(),g(123,"svg",12),K(124,"path",13),_(),g(125,"svg",12),K(126,"path",13),_(),g(127,"svg",12),K(128,"path",13),_()(),Li(),g(129,"p",10),w(130,"5 out of 5 stars"),_(),g(131,"div",46)(132,"p"),w(133,"This icon pack is just what I need for my latest project. There's an icon for just about anything I could ever need. Love the playful look!"),_()()()(),g(134,"div",47)(135,"div",40),K(136,"img",48),_(),g(137,"div",49)(138,"h3",43),w(139,"Hector Gibbons"),_(),g(140,"p")(141,"time",50),w(142,"July 12, 2021"),_()(),g(143,"div",45),Fi(),g(144,"svg",12),K(145,"path",13),_(),g(146,"svg",12),K(147,"path",13),_(),g(148,"svg",12),K(149,"path",13),_(),g(150,"svg",12),K(151,"path",13),_(),g(152,"svg",12),K(153,"path",13),_()(),Li(),g(154,"p",10),w(155,"5 out of 5 stars"),_(),g(156,"div",46)(157,"p"),w(158,"Blown away by how polished this icon pack is. Everything looks so consistent and each SVG is optimized out of the box so I can use it directly with confidence. It would take me several hours to create a single icon this good, so it's a steal at this price."),_()()()()()()()()()()),2&i&&(x(5),S("src",r.doctor.Profile_photo?r.doctor.Profile_photo:"https://images.unsplash.com/photo-1567515004624-219c11d31f2e??auto=format&q=75&fit=crop&w=256",eo),x(5),He("Dr. ",r.doctor.Name," "),x(18),He("",r.doctor.Bio," "),x(5),He(" ",r.doctor.Age," Years"),x(5),He(" ",r.doctor.Experiance," Years"),x(5),He(" ",r.doctor.Category,""),x(5),He(" ",r.doctor.Specialist,""),x(5),He(" ",r.doctor.Slot_length," Minutes"),x(5),He(" \u20b9 ",r.doctor.Counselling_fee,""),x(2),S("routerLink",gg(11,nce,r.doctor._id)),x(6),He(" ",r.doctor.About," "))},dependencies:[ys]})}return n})();function JU(n,e=0){return function rce(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function EE(n){return Array.isArray(n)?n:[n]}function pi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function lp(n){return n instanceof xi?n.nativeElement:n}const oce=["addListener","removeListener"],sce=["addEventListener","removeEventListener"],ace=["on","off"];function KA(n,e,t,i){if(I(t)&&(i=t,t=void 0),i)return KA(n,e,t).pipe(FI(i));const[r,o]=function uce(n){return I(n.addEventListener)&&I(n.removeEventListener)}(n)?sce.map(s=>a=>n[s](e,a,t)):function lce(n){return I(n.addListener)&&I(n.removeListener)}(n)?oce.map(e9(n,e)):function cce(n){return I(n.on)&&I(n.off)}(n)?ace.map(e9(n,e)):[];if(!r&&Dt(n))return ln(s=>KA(s,e,t))(Ln(n));if(!r)throw new TypeError("Invalid event target");return new pt(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function e9(n,e){return t=>i=>n[t](e,i)}const my={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=my;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Tt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=my;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=my;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class hce extends Yb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class dce extends Kb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=my.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(my.cancelAnimationFrame(t),e._scheduled=void 0)}});let YA,pce=1;const CE={};function t9(n){return n in CE&&(delete CE[n],!0)}const mce={setImmediate(n){const e=pce++;return CE[e]=!0,YA||(YA=Promise.resolve()),YA.then(()=>t9(e)&&n()),e},clearImmediate(n){t9(n)}},{setImmediate:gce,clearImmediate:_ce}=mce,TE={setImmediate(...n){const{delegate:e}=TE;return(e?.setImmediate||gce)(...n)},clearImmediate(n){const{delegate:e}=TE;return(e?.clearImmediate||_ce)(n)},delegate:void 0};new class vce extends Yb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class yce extends Kb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=TE.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(TE.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function n9(n,e=i_){return function wce(n){return J((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(Te(t,c=>{i=!0,r=c,o||Ln(n(c)).subscribe(o=Te(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function Cce(n=0,e,t=Hte){let i=-1;return null!=e&&(Sr(e)?t=e:i=e),new pt(r=>{let o=function Ece(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}let QA;try{QA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{QA=!1}let gy,ed,XA,ma=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function wY(n){return n===AF}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!QA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(B(us))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IE(n){return function Tce(){if(null==gy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gy=!0}))}finally{gy=gy||!1}return gy}()?n:!!n.capture}function Ice(){if(null==ed){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ed=!1,ed;if("scrollBehavior"in document.documentElement.style)ed=!0;else{const n=Element.prototype.scrollTo;ed=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ed}function JA(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function yc(n){return n.composedPath?n.composedPath()[0]:n.target}function eM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Sce=new fe("cdk-dir-doc",{providedIn:"root",factory:function Ace(){return Ie(Rt)}}),Mce=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let tM=(()=>{class n{constructor(t){this.value="ltr",this.change=new Kt,t&&(this.value=function kce(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Mce.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Sce,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_y=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({})}return n})(),Rce=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new W,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new pt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(n9(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ie()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ai(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=lp(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>KA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ze),B(ma),B(Rt,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),r9=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new W,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(n9(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(B(ma),B(Ze),B(Rt,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({})}return n})(),s9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({imports:[_y,o9,_y,o9]})}return n})();class nM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class iM extends nM{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class a9 extends nM{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Nce extends nM{constructor(e){super(),this.element=e instanceof xi?e.nativeElement:e}}class rM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof iM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof a9?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Nce?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Fce extends rM{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Di.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let oM=(()=>{class n extends rM{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Kt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(V(bh),V(Ho),V(Rt))};static#t=this.\u0275dir=ze({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Lt]})}return n})(),DE=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({})}return n})();const l9=Ice();class Lce{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=pi(-this._previousScrollPosition.left),e.style.top=pi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),l9&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),l9&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Vce{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ai(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class c9{enable(){}disable(){}attach(){}}function sM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function u9(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Bce{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();sM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Uce=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new c9,this.close=s=>new Vce(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Lce(this._viewportRuler,this._document),this.reposition=s=>new Bce(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rce),B(r9),B(Ze),B(Rt))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class d9{constructor(e){if(this.scrollStrategy=new c9,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class jce{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let h9=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rt))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hce=(()=>{class n extends h9{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rt),B(Ze,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$ce=(()=>{class n extends h9{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=yc(o)},this._clickListener=o=>{const s=yc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const h=l[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const m=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rt),B(ma),B(Ze,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SE=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||eM()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),eM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rt),B(ma))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class yy{constructor(e,t,i,r,o,s,a,l,c,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new W,this._attachments=new W,this._detachments=new W,this._locationChanges=Tt.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new W,this._outsidePointerEvents=new W,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=pi(this._config.width),e.height=pi(this._config.height),e.minWidth=pi(this._config.minWidth),e.minHeight=pi(this._config.minHeight),e.maxWidth=pi(this._config.maxWidth),e.maxHeight=pi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=EE(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(yb(re(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const f9="cdk-overlay-connected-position-bounding-box",zce=/([A-Za-z%]+)$/;class qce{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new W,this._resizeSubscription=Tt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(f9),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(c,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(h,c,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&td(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(f9),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=m9(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let y=0-a,b=a+o.height-i.height,C=this._subtractOverflows(o.width,0-s,s+o.width-i.width),T=this._subtractOverflows(o.height,y,b),D=C*T;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:T===o.height,fitsInViewportHorizontally:C==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=p9(this._overlayRef.getConfig().minHeight),a=p9(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=m9(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let h=0,m=0;return h=r.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,m=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:m},{x:e.x+h,y:e.y+m}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new jce(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,m,y;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const b=Math.min(i.bottom-e.y+i.top,e.y),C=this._lastBoundingBoxSize.height;o=2*b,s=e.y-b,o>C&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-C/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)y=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)m=e.x,h=i.right-e.x;else{const b=Math.min(i.right-e.x+i.left,e.x),C=this._lastBoundingBoxSize.width;h=2*b,m=e.x-b,h>C&&!this._isInitialRender&&!this._growAfterOpen&&(m=e.x-C/2)}return{top:s,left:m,bottom:a,right:y,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=pi(i.height),r.top=pi(i.top),r.bottom=pi(i.bottom),r.width=pi(i.width),r.left=pi(i.left),r.right=pi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=pi(o)),s&&(r.maxWidth=pi(s))}this._lastBoundingBoxSize=i,td(this._boundingBox.style,r)}_resetBoundingBoxStyles(){td(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){td(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();td(i,this._getExactOverlayY(t,e,h)),td(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=pi(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=pi(s.maxWidth):o&&(i.maxWidth="")),td(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=pi(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=pi(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:u9(e,i),isOriginOutsideView:sM(e,i),isOverlayClipped:u9(t,i),isOverlayOutsideView:sM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&EE(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof xi)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function td(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function p9(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(zce);return t&&"px"!==t?null:parseFloat(e)}return n||null}function m9(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const g9="cdk-global-overlay-wrapper";class Gce{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(g9),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,m=this._xOffset,y="rtl"===this._overlayRef.getConfig().direction;let b="",C="",T="";l?T="flex-start":"center"===h?(T="center",y?C=m:b=m):y?"left"===h||"end"===h?(T="flex-end",b=m):("right"===h||"start"===h)&&(T="flex-start",C=m):"left"===h||"start"===h?(T="flex-start",b=m):("right"===h||"end"===h)&&(T="flex-end",C=m),e.position=this._cssPosition,e.marginLeft=l?"0":b,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":C,t.justifyContent=T,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(g9),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Wce=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Gce}flexibleConnectedTo(t){return new qce(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(B(r9),B(Rt),B(ma),B(SE))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zce=0,up=(()=>{class n{constructor(t,i,r,o,s,a,l,c,h,m,y,b){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=h,this._location=m,this._outsideClickDispatcher=y,this._animationsModuleType=b}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new d9(t);return s.direction=s.direction||this._directionality.value,new yy(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Zce++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Bl)),new Fce(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Uce),B(SE),B(bh),B(Wce),B(Hce),B(Di),B(Ze),B(Rt),B(tM),B(Eg),B($ce),B(Zm,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Qce={provide:new fe("cdk-connected-overlay-scroll-strategy"),deps:[up],useFactory:function Yce(n){return()=>n.scrollStrategies.reposition()}};let _9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({providers:[up,Qce],imports:[_y,DE,s9,s9]})}return n})();function v9(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function b9(n){return Ai((e,t)=>n<=t)}let iue=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({providers:[iue]})}return n})();const w9=new Set;let nd,sue=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):lue}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function aue(n,e){if(!w9.has(n))try{nd||(nd=document.createElement("style"),e&&(nd.nonce=e),nd.setAttribute("type","text/css"),document.head.appendChild(nd)),nd.sheet&&(nd.sheet.insertRule(`@media ${n} {body{ }}`,0),w9.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(ma),B(OT,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lue(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let cue=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new W}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return E9(EE(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=hb(E9(EE(t)).map(s=>this._registerQuery(s).observable));return o=pb(o.pipe(qo(1)),o.pipe(b9(1),function oue(n,e=i_){return J((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,h=e.now();if(h<c)return r=this.schedule(void 0,c-h),void i.add(r);a()}t.subscribe(Te(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Re(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new pt(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(vu(i),Re(({matches:s})=>({query:t,matches:s})),yb(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(B(sue),B(Ze))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function E9(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let AE=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function fue(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function hue(n){try{return n.frameElement}catch{return null}}(function wue(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===x9(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=x9(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function vue(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function bue(n){return!function mue(n){return function _ue(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function pue(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function gue(n){return function yue(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||I9(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(B(ma))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function I9(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function x9(n){if(!I9(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Eue{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(qo(1)).subscribe(e)}}let aM=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Eue(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(B(AE),B(Ze),B(Rt))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function D9(n){return 0===n.buttons||0===n.detail}function S9(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Cue=new fe("cdk-input-modality-detector-options"),Tue={ignoreKeys:[18,17,224,91,16]},dp=IE({passive:!0,capture:!0});let Iue=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new U(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(D9(s)?"keyboard":"mouse"),this._mostRecentTarget=yc(s))},this._onTouchstart=s=>{S9(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yc(s))},this._options={...Tue,...o},this.modalityDetected=this._modality.pipe(b9(1)),this.modalityChanged=this.modalityDetected.pipe(pn()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dp),r.addEventListener("mousedown",this._onMousedown,dp),r.addEventListener("touchstart",this._onTouchstart,dp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dp),document.removeEventListener("mousedown",this._onMousedown,dp),document.removeEventListener("touchstart",this._onTouchstart,dp))}static#e=this.\u0275fac=function(i){return new(i||n)(B(ma),B(Ze),B(Rt),B(Cue,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Due=new fe("cdk-focus-monitor-default-options"),ME=IE({passive:!0,capture:!0});let lM=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new W,this._rootNodeFocusAndBlurListener=a=>{for(let c=yc(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=lp(t);if(!this._platform.isBrowser||1!==r.nodeType)return ie();const o=function Dce(n){if(function xce(){if(null==XA){const n=typeof document<"u"?document.head:null;XA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return XA}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new W,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=lp(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=lp(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=yc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ME),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ME)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yb(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ME),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ME),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ze),B(ma),B(Iue),B(Rt,8),B(Due,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const M9="cdk-high-contrast-black-on-white",k9="cdk-high-contrast-white-on-black",cM="cdk-high-contrast-active";let P9=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Ie(cue).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(cM,M9,k9),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(cM,M9):2===i&&t.add(cM,k9)}}static#e=this.\u0275fac=function(i){return new(i||n)(B(ma),B(Rt))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sue=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(B(P9))};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({imports:[rue]})}return n})();function Aue(n,e){}class kE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let R9=(()=>{class n extends rM{constructor(t,i,r,o,s,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=h=>{this._portalOutlet.hasAttached();const m=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),m},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=JA(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=JA();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=JA())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(V(xi),V(aM),V(Rt,8),V(kE),V(AE),V(Ze),V(yy),V(lM))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Uh(oM,7),2&i){let o;mu(o=gu())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&to("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Lt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&ge(0,Aue,0,0,"ng-template",0)},dependencies:[oM],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class uM{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new W,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!v9(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const O9=new fe("DialogScrollStrategy"),Mue=new fe("DialogData"),kue=new fe("DefaultDialogConfig"),Rue={provide:O9,deps:[up],useFactory:function Pue(n){return()=>n.scrollStrategies.block()}};let Oue=0,N9=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new W,this._afterOpenedAtThisLevel=new W,this._ariaHiddenElements=new Map,this.afterAllClosed=mb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vu(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new kE,...i}).id=i.id||"cdk-dialog-"+Oue++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new uM(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(t,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){dM(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){dM(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),dM(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new d9({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:kE,useValue:r},{provide:uM,useValue:i},{provide:yy,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=R9;const l=new iM(a,r.viewContainerRef,Di.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,o){if(t instanceof Zs){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new a9(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new iM(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:Mue,useValue:t.data},{provide:uM,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(tM,null,{optional:!0}))&&a.push({provide:tM,useValue:{value:t.direction,change:ie()}}),Di.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(B(up),B(Di),B(kue,8),B(n,12),B(SE),B(O9))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();function dM(n,e){let t=n.length;for(;t--;)e(n[t])}let Nue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({providers:[N9,Rue],imports:[_9,DE,Sue,DE]})}return n})();const Lue=new fe("mat-sanity-checks",{providedIn:"root",factory:function Fue(){return!0}});let V9=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!eM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(B(P9),B(Lue,8),B(Rt))};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({imports:[_y,_y]})}return n})();const B9=IE({passive:!0,capture:!0});class Uue{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=yc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,B9)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,B9)))}}class hM{static#e=this._eventManager=new Uue;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=lp(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...U9,...i.animation},s=i.radius||function Hue(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=l-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);const m=window.getComputedStyle(h),b=m.transitionDuration,C="none"===m.transitionProperty||"0s"===b||"0s, 0s"===b||0===r.width&&0===r.height,T=new Bue(this,h,i,C);h.style.transform="scale3d(1, 1, 1)",T.state=0,i.persistent||(this._mostRecentTransientRipple=T);return!C&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const F=()=>this._finishRippleTransition(T),O=()=>this._destroyRipple(T);h.addEventListener("transitionend",F),h.addEventListener("transitioncancel",O)}),this._activeRipples.set(T,null),(C||!c)&&this._finishRippleTransition(T),T}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...U9,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=lp(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,H9.forEach(i=>{hM._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$9.forEach(t=>{this._triggerElement.addEventListener(t,this,j9)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=D9(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!S9(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(H9.forEach(t=>hM._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&$9.forEach(t=>e.removeEventListener(t,this,j9)))}}function $ue(n,e){}class PE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const fM="mdc-dialog--open",z9="mdc-dialog--opening",q9="mdc-dialog--closing";let Gue=(()=>{class n extends R9{constructor(t,i,r,o,s,a,l,c){super(t,i,r,o,s,a,l,c),this._animationStateChanged=new Kt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#e=this.\u0275fac=function(i){return new(i||n)(V(xi),V(aM),V(Rt,8),V(PE),V(AE),V(Ze),V(yy),V(lM))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["ng-component"]],features:[Lt],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();const G9="--mat-dialog-transition-duration";function W9(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?JU(n.substring(0,n.length-2)):n.endsWith("s")?1e3*JU(n.substring(0,n.length-1)):"0"===n?0:null}let Wue=(()=>{class n extends Gue{constructor(t,i,r,o,s,a,l,c,h){super(t,i,r,o,s,a,l,h),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?W9(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?W9(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(G9,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(z9,fM)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(fM),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(fM),this._animationsEnabled?(this._hostElement.style.setProperty(G9,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(q9)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(z9,q9)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#e=this.\u0275fac=function(i){return new(i||n)(V(xi),V(aM),V(Rt,8),V(PE),V(AE),V(Ze),V(yy),V(Zm,8),V(lM))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(C1("id",r._config.id),to("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Lh("_mat-animation-noopable",!r._animationsEnabled))},features:[Lt],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1),ge(2,$ue,0,0,"ng-template",2),_()())},dependencies:[oM],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class Z9{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new W,this._beforeClosed=new W,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Ai(r=>"opened"===r.state),qo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ai(r=>"closed"===r.state),qo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),re(this.backdropClick(),this.keydownEvents().pipe(Ai(r=>27===r.keyCode&&!this.disableClose&&!v9(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function Zue(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ai(t=>"closing"===t.state),qo(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const K9=new fe("MatMdcDialogData"),Kue=new fe("mat-mdc-dialog-default-options"),Y9=new fe("mat-mdc-dialog-scroll-strategy"),Que={provide:Y9,deps:[up],useFactory:function Yue(n){return()=>n.scrollStrategies.block()}};let Xue=0,Jue=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,l,c,h,m){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new W,this._afterOpenedAtThisLevel=new W,this._idPrefix="mat-dialog-",this.dialogConfigClass=PE,this.afterAllClosed=mb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vu(void 0))),this._scrollStrategy=a,this._dialog=i.get(N9)}open(t,i){let r;(i={...this._defaultOptions||new PE,...i}).id=i.id||`${this._idPrefix}${Xue++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:kE,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){JT()};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})(),Q9=(()=>{class n extends Jue{constructor(t,i,r,o,s,a,l,c){super(t,i,o,a,l,s,Z9,Wue,K9,c),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||n)(B(up),B(Di),B(Eg,8),B(Kue,8),B(Y9),B(n,12),B(SE),B(Zm,8))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})(),ede=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({providers:[Q9,Que],imports:[Nue,_9,DE,V9,V9]})}return n})();function tde(n,e){1&n&&(g(0,"div",3),K(1,"img",4),g(2,"span",5),w(3,"Verifying payment..."),_()())}function nde(n,e){if(1&n&&(g(0,"div",3),K(1,"img",6),g(2,"span",5),w(3),_()()),2&n){const t=L();x(3),rn(t.verificationMessage)}}function ide(n,e){if(1&n&&(g(0,"div",3),K(1,"img",7),g(2,"span",5),w(3),_()()),2&n){const t=L();x(3),rn(t.verificationMessage)}}let rde=(()=>{class n{constructor(t,i,r){this.data=t,this.services=i,this.dialogRef=r,this.verificationDone=!1,this.verificationResult=!1,this.verificationMessage=""}ngOnInit(){this.verifyPayment()}verifyPayment(){var t=this;return(0,G.Z)(function*(){console.log("data"),console.log(t.data);const r=(yield t.services.verifyPayment(t.data).toPromise()).signatureIsValid;t.verificationDone=!0,t.verificationResult=r,t.verificationMessage=r?"Payment verified successfully":"Payment verification failed",r||(t.verificationMessage+=". Refund will be initiated."),t.closeDialogAfterDelay(t.verificationResult)})()}closeDialogAfterDelay(t){setTimeout(()=>{this.dialogRef.close(t)},5e3)}static#e=this.\u0275fac=function(i){return new(i||n)(V(K9),V(rp),V(Z9))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-payment-status-dialog"]],decls:5,vars:3,consts:[[1,"overlay"],[1,"flex","flex-col","bg-white","h-80","w-1/2","rounded-xl","items-center","justify-center","relative"],["class","flex items-center justify-center flex-col mb-4",4,"ngIf"],[1,"flex","items-center","justify-center","flex-col","mb-4"],["src","assets/Loader.gif","alt","Error Icon",1,"h-56","w-auto","text-red-500"],[1,"text-lg"],["src","assets/verification_success.gif","alt","Error Icon",1,"h-56","w-auto","text-red-500"],["src","assets/verification_failure.gif","alt","Error Icon",1,"h-56","w-auto","text-red-500"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1),ge(2,tde,4,0,"div",2),ge(3,nde,4,1,"div",2),ge(4,ide,4,1,"div",2),_()()),2&i&&(x(2),S("ngIf",!r.verificationDone),x(1),S("ngIf",r.verificationDone&&r.verificationResult),x(1),S("ngIf",r.verificationDone&&!r.verificationResult))},dependencies:[Xi],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}"]})}return n})();function ode(n,e){1&n&&function _2(n,e=0,t){const i=he(),r=St(),o=Th(r,wt+n,16,null,t||null);null===o.projection&&(o.projection=e),Zc(),(!i[fo]||js())&&32!=(32&o.flags)&&function ZH(n,e,t){wP(e[tt],0,e,t,mT(n,t,e),mP(t.parent||e[ui],t,e))}(r,i,o)}(0,0,["*ngIf","appearance  === 'custom-content'"])}const sde=function(n,e,t,i,r){return{"custom-content":n,circle:e,progress:t,"progress-dark":i,pulse:r}};function ade(n,e){if(1&n&&(g(0,"div",1),ge(1,ode,1,0,"ng-content",2),_()),2&n){const t=L();S("ngClass",$O(5,sde,"custom-content"===t.appearance,"circle"===t.appearance,"progress"===t.animation,"progress-dark"===t.animation,"pulse"===t.animation))("ngStyle",t.theme),to("aria-label",t.ariaLabel)("aria-valuetext",t.loadingText),x(1),S("ngIf","custom-content"===t.appearance)}}const lde=["*"],J9=new fe("ngx-skeleton-loader.config");let cde=(()=>{class n{constructor(t){this.config=t;const{appearance:i="line",animation:r="progress",theme:o=null,loadingText:s="Loading...",count:a=1,ariaLabel:l="loading"}=t||{};this.appearance=i,this.animation=r,this.theme=o,this.loadingText=s,this.count=a,this.items=[],this.ariaLabel=l}ngOnInit(){this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||(this.count=1),this.items.length=this.count;-1===["progress","progress-dark","pulse","false"].indexOf(String(this.animation))&&(this.animation="progress"),-1===["circle","line","custom-content",""].indexOf(String(this.appearance))&&(this.appearance=""),this.config?.theme?.extendsFromRoot&&null!==this.theme&&(this.theme={...this.config.theme,...this.theme})}ngOnChanges(t){["count","animation","appearance"].find(i=>t[i]&&(t[i].isFirstChange()||t[i].previousValue===t[i].currentValue))||this.validateInputValues()}static#e=this.\u0275fac=function(i){return new(i||n)(V(J9,8))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[Or],ngContentSelectors:lde,decls:1,vars:1,consts:[["class","skeleton-loader","aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"ngClass","ngStyle"],[4,"ngIf"]],template:function(i,r){1&i&&(function g2(n){const e=he()[Bn][ui];if(!e.projection){const i=e.projection=ou(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?Gz(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),ge(0,ade,2,11,"div",0)),2&i&&S("ngForOf",r.items)},dependencies:[Ig,ps,Xi,Gh],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:rgb(239,241,246) no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,rgba(255,255,255,0),rgba(255,255,255,.6),rgba(255,255,255,0))}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0})}return n})(),ude=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:J9,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({imports:[TI]})}return n})();function dde(n,e){if(1&n&&(Oh(0),g(1,"div",51)(2,"div",52),w(3),_()(),Nh()),2&n){const t=e.$implicit;x(3),He(" ",t," ")}}function hde(n,e){1&n&&(Oh(0),K(1,"div",53),Nh())}const fde=function(n,e){return{"bg-blue-500 text-white":n,"text-gray-700 hover:bg-blue-200":e}};function pde(n,e){if(1&n){const t=Ct();Oh(0),g(1,"div",54)(2,"div",55),ee("click",function(){const o=le(t).$implicit,s=L(2);return s.getDateValue(o),oe(s.calculateSlot())}),w(3),_()(),Nh()}if(2&n){const t=e.$implicit,i=L(2);x(2),S("ngClass",jo(2,fde,!0===i.isToday(t),!1===i.isToday(t))),x(1),He(" ",t," ")}}function mde(n,e){1&n&&(g(0,"div",59)(1,"p"),w(2,"No Slot On This Day."),_()())}function gde(n,e){if(1&n){const t=Ct();g(0,"button",63),ee("click",function(){le(t);const r=L().index;return oe(L(3).onChangeSlot(r))}),w(1),_()}if(2&n){const t=L().index,i=L(3);S("ngClass",i.selectedSlot==t?"bg-blue-900 text-blue-100":"bg-blue-100 text-blue-900"),x(1),He(" ",i.timeSlots[t].Time," ")}}function _de(n,e){if(1&n&&(g(0,"button",64),w(1),_()),2&n){const t=L().index,i=L(3);x(1),He(" ",i.timeSlots[t].Time," ")}}function yde(n,e){if(1&n&&(g(0,"button",65),w(1),_()),2&n){const t=L().index,i=L(3);x(1),He(" ",i.timeSlots[t].Time," ")}}function vde(n,e){if(1&n&&(g(0,"div"),ge(1,gde,2,2,"button",60),ge(2,_de,2,1,"button",61),ge(3,yde,2,1,"button",62),_()),2&n){const t=e.index,i=L(3);x(1),S("ngIf",!i.timeSlots[t].Booked&&!i.timeSlots[t].Canceled),x(1),S("ngIf",i.timeSlots[t].Booked),x(1),S("ngIf",i.timeSlots[t].Canceled)}}function bde(n,e){if(1&n&&(g(0,"div",29)(1,"p",56),w(2," Select a time "),_(),ge(3,mde,3,0,"div",57),g(4,"div",58),ge(5,vde,4,3,"div",46),_()()),2&n){const t=L(2);x(3),S("ngIf",0===t.timeSlots.length),x(2),S("ngForOf",t.timeSlots)}}const ej=function(n){return{"cursor-not-allowed opacity-25":n}},wde=function(n,e){return{opacity:n,cursor:e}};function Ede(n,e){if(1&n){const t=Ct();g(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),K(5,"img",7),_()(),g(6,"div",8)(7,"div",9)(8,"div",10)(9,"h1",11),w(10),_()(),g(11,"div")(12,"h3",12),w(13,"Reviews"),_(),g(14,"div",13),Fi(),g(15,"svg",14),K(16,"path",15),_(),g(17,"svg",14),K(18,"path",15),_(),g(19,"svg",14),K(20,"path",15),_(),g(21,"svg",14),K(22,"path",15),_(),g(23,"svg",16),K(24,"path",15),_()(),Li(),g(25,"p",12),w(26,"4 out of 5 stars"),_()()(),g(27,"p",17),w(28),_(),g(29,"div",18)(30,"h3",19),w(31,"Age :"),_(),g(32,"h3",20),w(33),_()(),g(34,"div",21)(35,"h3",19),w(36,"Experiance :"),_(),g(37,"h3",20),w(38),_()(),g(39,"div",21)(40,"h3",19),w(41,"Category :"),_(),g(42,"h3",20),w(43),_()(),g(44,"div",21)(45,"h3",19),w(46,"Specialist :"),_(),g(47,"h3",20),w(48),_()(),g(49,"div",21)(50,"h3",19),w(51," Counselling Duration : "),_(),g(52,"h3",20),w(53),_()(),g(54,"div",21)(55,"h3",19),w(56," Counselling Fees : "),_(),g(57,"h3",20),w(58),_()()(),g(59,"div",22)(60,"div",23)(61,"div",24)(62,"h1",25),w(63," Book an appointment "),_(),g(64,"p",26),w(65," Get an appointment with our experienced accountants "),_(),K(66,"img",27),_()(),g(67,"div",28)(68,"div",29)(69,"p",30),w(70," Select a date "),_(),g(71,"div",31)(72,"div",32),Fi(),g(73,"svg",33),K(74,"path",34),_()(),Li(),K(75,"input",35),g(76,"input",36),ee("ngModelChange",function(r){return le(t),oe(L().datepickerValue=r)})("click",function(){le(t);const r=L();return oe(r.showDatepicker=!r.showDatepicker)})("keydown.escape",function(){return le(t),oe(L().showDatepicker=!1)})("ngModelChange",function(){return le(t),oe(L().calculateSlot())}),_(),g(77,"div",37),ee("keydown.away",function(){return le(t),oe(L().showDatepicker=!1)}),g(78,"div",38)(79,"div")(80,"span",39),w(81),_(),g(82,"span",40),w(83),_()(),g(84,"div")(85,"button",41),ee("click",function(){le(t);const r=L();return oe(r.month=r.month-1)})("click",function(){return le(t),oe(L().getNoOfDays())}),Fi(),g(86,"svg",42),K(87,"path",43),_()(),Li(),g(88,"button",41),ee("click",function(){le(t);const r=L();return oe(r.month=r.month+1)})("click",function(){return le(t),oe(L().getNoOfDays())}),Fi(),g(89,"svg",42),K(90,"path",44),_()()()(),Li(),g(91,"div",45),ge(92,dde,4,1,"ng-container",46),_(),g(93,"div",47),ge(94,hde,2,0,"ng-container",46),ge(95,pde,4,5,"ng-container",48),_()()()(),ge(96,bde,6,2,"div",49),g(97,"button",50),ee("click",function(){return le(t),oe(L().bookAppointment())}),w(98," Book Now "),_()()()()()()}if(2&n){const t=L();S("@fadeInOut",void 0),x(5),S("src",t.doctor.Profile_photo?t.doctor.Profile_photo:"https://images.unsplash.com/photo-1567515004624-219c11d31f2e??auto=format&q=75&fit=crop&w=256",eo),x(5),He(" Dr. ",null==t.doctor?null:t.doctor.Name," "),x(18),rn(t.doctor.Bio),x(5),He(" ",t.doctor.Age," Years "),x(5),He(" ",t.doctor.Experiance," Years "),x(5),rn(t.doctor.Category),x(5),He(" ",t.doctor.Specialist," "),x(5),He(" ",t.doctor.Slot_length," Minutes "),x(5),He(" \u20b9 ",t.doctor.Counselling_fee," "),x(18),S("min",t.minDate)("max",t.maxDate)("ngModel",t.datepickerValue),x(1),S("hidden",!t.showDatepicker),x(4),rn(t.MONTH_NAMES[t.month]),x(2),rn(t.year),x(2),S("ngClass",gg(27,ej,0===t.month))("disabled",0===t.month),x(3),S("ngClass",gg(29,ej,11===t.month))("disabled",11===t.month),x(4),S("ngForOf",t.DAYS),x(2),S("ngForOf",t.blankdays),x(1),S("ngForOf",t.no_of_days)("ngForTrackBy",t.trackByIdentity),x(1),S("ngIf",t.datepickerValue!=t.today),x(1),S("disabled",-1===t.selectedSlot)("ngStyle",jo(31,wde,-1===t.selectedSlot?"0.5":"1",-1===t.selectedSlot?"not-allowed":"pointer"))}}const Cde=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"360px",height:"360px","border-radius":"10px"}},pM=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"150px",height:"35px","border-radius":"3px"}},Tde=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"300px",height:"35px","border-radius":"3px"}},Ide=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"100px",height:"35px","border-radius":"3px"}},xde=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"130px",height:"35px","border-radius":"3px"}},Dde=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"120px",height:"35px","border-radius":"3px"}},Sde=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"780px",height:"360px","border-radius":"10px"}},Ade=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"250px",height:"40px","border-radius":"8px"}},Mde=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"260px",height:"40px","border-radius":"8px"}},vc=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"150px",height:"40px","border-radius":"4px"}},kde=function(){return{"background-color":"rgba(40, 120, 255, 0.2)",width:"200px",height:"50px","border-radius":"4px"}};function Pde(n,e){1&n&&(g(0,"div",66)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",67),K(5,"ngx-skeleton-loader",68),_()(),g(6,"div",8)(7,"div",29),K(8,"ngx-skeleton-loader",68),_(),g(9,"div",29),K(10,"ngx-skeleton-loader",68),_(),g(11,"div",29),K(12,"ngx-skeleton-loader",68),_(),g(13,"div",29),K(14,"ngx-skeleton-loader",68),_(),g(15,"div",29),K(16,"ngx-skeleton-loader",68),_(),g(17,"div",29),K(18,"ngx-skeleton-loader",68),_(),g(19,"div",29),K(20,"ngx-skeleton-loader",68),_()(),g(21,"div",22),K(22,"ngx-skeleton-loader",68),g(23,"div",69)(24,"div",70),K(25,"ngx-skeleton-loader",68),g(26,"div",31),K(27,"ngx-skeleton-loader",68),_(),g(28,"div",31),K(29,"ngx-skeleton-loader",68)(30,"ngx-skeleton-loader",68)(31,"ngx-skeleton-loader",68)(32,"ngx-skeleton-loader",68),_(),g(33,"div",31),K(34,"ngx-skeleton-loader",68)(35,"ngx-skeleton-loader",68)(36,"ngx-skeleton-loader",68)(37,"ngx-skeleton-loader",68),_()(),g(38,"div",71),K(39,"ngx-skeleton-loader",72),_()()()()()()),2&n&&(S("@fadeInOut",void 0),x(5),S("theme",Jn(21,Cde)),x(3),S("theme",Jn(22,pM)),x(2),S("theme",Jn(23,Tde)),x(2),S("theme",Jn(24,Ide)),x(2),S("theme",Jn(25,xde)),x(2),S("theme",Jn(26,pM)),x(2),S("theme",Jn(27,Dde)),x(2),S("theme",Jn(28,pM)),x(2),S("theme",Jn(29,Sde)),x(3),S("theme",Jn(30,Ade)),x(2),S("theme",Jn(31,Mde)),x(2),S("theme",Jn(32,vc)),x(1),S("theme",Jn(33,vc)),x(1),S("theme",Jn(34,vc)),x(1),S("theme",Jn(35,vc)),x(2),S("theme",Jn(36,vc)),x(1),S("theme",Jn(37,vc)),x(1),S("theme",Jn(38,vc)),x(1),S("theme",Jn(39,vc)),x(2),S("theme",Jn(40,kde)))}let Rde=(()=>{class n{onChangeSlot(t){this.selectedSlot=t,console.log(t)}getindex(t){let i=0;switch(t){case"Mon":default:i=0;break;case"Tue":i=1;break;case"Wed":i=2;break;case"Thu":i=3;break;case"Fri":i=4;break;case"Sat":i=5;break;case"Sun":i=6}return i}bookAppointment(){var t=this;return(0,G.Z)(function*(){try{const i={amount:100*t.doctor.Counselling_fee},r=yield t.services.createOrderId(i).toPromise();t.orderId=r.orderId,console.log(t.orderId),console.log(t.selectedSlot),console.log(t.datepickerValue);const o={description:"Appointment of Dr."+t.doctor.Name,amount:100*t.doctor.Counselling_fee,name:`Doc-Connect + ${t.doctor.Name}`,key:"rzp_test_C7vohyckaiJWR6",image:"../assets/Logo/logo21.jpg",order_id:t.orderId,handler:a=>t.handlePaymentResponse(a),prefill:{name:t.patient.Name,email:t.patient.Email,phone:t.patient.Phone_no},theme:{color:"#528FF0"},modal:{ondismiss:()=>{console.log("dismissed")}}},s=new Razorpay(o);s.on("payment.failed",a=>{t.ngZone.run(()=>{alert(a.error.code),alert(a.error.description),alert(a.error.source),alert(a.error.step),alert(a.error.reason),alert(a.error.metadata.order_id),alert(a.error.metadata.payment_id)})}),s.open()}catch(i){console.error("Error getting doctor:",i)}})()}handlePaymentResponse(t){var i=this;return(0,G.Z)(function*(){try{i.ngZone.run(()=>{}),console.log(t);const r=t;console.log("verificationdata"),console.log(r),i.dialog.open(rde,{data:r}).afterClosed().subscribe(function(){var s=(0,G.Z)(function*(a){if(a){i.payment={RazrPay_id:t.razorpay_payment_id,Doctor_id:i.doctorId,Patient_id:i.patientId,Payable_amount:i.doctor.Counselling_fee,Status:"Paid"};const l=yield i.services.appointmentPayment(i.payment).toPromise(),c=i.datepickerValue.split(" "),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m=parseInt(c[2],10),y=h.indexOf(c[1]),b=parseInt(c[3],10),C=new Date(b,y,m);console.log(C),i.appointment={Doctor_id:i.doctorId,Patient_id:i.patientId,Payment_id:l.paymentId,Starting_time:i.timeSlots[i.selectedSlot].Time,Day:i.datepickerValue.slice(0,3),Date:C,Status:"Approved"};const T=yield i.services.bookAppointment(i.appointment).toPromise();console.log(T),console.log(T._id);const D={appointment_id:T._id,day:i.getindex(i.appointment.Day),slotNo:i.selectedSlot,doctorId:i.doctor._id};console.log(D),yield i.services.updateDoctorSlotBook(D,i.doctor._id).toPromise(),i.ngZone.run(()=>{alert("Your appointment is booked.")}),i.router.navigate(["/dashboardPatient"])}else i.ngZone.run(()=>{alert("Please try again your payment.")})});return function(a){return s.apply(this,arguments)}}())}catch(r){console.error("Error getting doctor:",r)}})()}calculateSlot(){this.timeSlots=[];let t=this.datepickerValue;this.selectedSlot=-1;let i=t.substr(0,3);this.temp=this.getindex(i),this.timeSlots=this.doctor.Slots[this.temp]}initDate(){let t=new Date;this.month=t.getMonth(),this.year=t.getFullYear(),this.day=t.getDate(),this.datepickerValue=new Date(this.year,this.month,t.getDate()+1).toDateString(),this.today=new Date(this.year,this.month,t.getDate()).toDateString(),this.minDate=new Date(this.year,this.month,t.getDate()+1).toDateString(),this.maxDate=new Date(this.year,this.month,t.getDate()+7).toDateString()}isToday(t){const i=new Date,r=new Date(this.year,this.month,t);return i.toDateString()===r.toDateString()}getDateValue(t){let i=new Date(this.year,this.month,t);this.datepickerValue=i.toDateString(),this.showDatepicker=!1}getNoOfDays(){const t=new Date,i=new Date(t);i.setDate(t.getDate()+1);const r=new Date(i);r.setDate(i.getDate()+5);const o=new Date(this.year,this.month+1,0).getDate();let s;s=this.month===t.getMonth()?new Date(this.year,this.month,t.getDate()+1).getDay():new Date(this.year,this.month,1).getDay();let a=[];for(let c=0;c<s;c++)a.push(c);let l=[];for(let c=1;c<=o;c++){const h=new Date(this.year,this.month,c);h>=t&&h<=r&&l.push(c)}this.blankdays=a,this.no_of_days=l}constructor(t,i,r,o,s){this.route=t,this.services=i,this.router=r,this.ngZone=o,this.dialog=s,this.selectedSlot=-1,this.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],this.DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.showDatepicker=!1,this.no_of_days=[],this.blankdays=[],this.timeSlots=[],this.loading=!0,this.trackByIdentity=(a,l)=>l}ngOnInit(){var t=this;return(0,G.Z)(function*(){try{t.loading=!0;let i=localStorage.getItem("isLogin");if("false"==i||null==i)yield t.router.navigate(["/signinPatient"],{replaceUrl:!0});else{const o=(yield t.route.params.pipe(Ys()).toPromise())?.id;void 0!==o?(t.doctorId=o,t.doctor=yield t.services.getDoctor(t.doctorId).toPromise(),t.patientId=localStorage.getItem("userId"),t.patient=yield t.services.getPatient().toPromise(),console.log(t.patient),t.loading=!1):console.error("Error: 'id' parameter is undefined."),t.initDate(),t.getNoOfDays(),t.calculateSlot()}}catch(i){console.error("error",i)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(V(gs),V(rp),V(un),V(Ze),V(Q9))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-book-appointment"]],decls:2,vars:2,consts:[["class","bg-custom-gradient mt-14 py-8",4,"ngIf"],["class","bg-custom-gradient mt-14 p-8 ",4,"ngIf"],[1,"bg-custom-gradient","mt-14","py-8"],[1,"mx-auto","bg-white/40","rounded-lg","sm:pt-8","sm:pb-8","sm:px-6","lg:max-w-7xl","lg:px-8"],[1,"lg:grid","lg:grid-rows-1","lg:grid-cols-9","lg:gap-x-8","lg:gap-y-10","xl:gap-x-16"],[1,"lg:row-end-1","lg:col-span-3"],[1,"aspect-w-1","aspect-h-1","rounded-lg","bg-gray-100","shadow-lg","shadow-gray-600","overflow-hidden"],["alt","Sample of 30 icons with friendly and fun details in outline, filled, and brand color styles.",1,"object-center","object-cover",3,"src"],[1,"w-full","mx-auto","lg:mt-0","sm:mt-16","lg:row-end-2","lg:col-span-3"],[1,"flex","flex-col-reverse"],[1,"mt-4"],[1,"text-2xl","font-extrabold","tracking-tight","text-gray-900","sm:text-3xl"],[1,"sr-only"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"text-yellow-400","h-5","w-5","flex-shrink-0"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"text-gray-300","h-5","w-5","flex-shrink-0"],[1,"text-gray-500","mt-6"],[1,"flex","mt-4"],[1,"relative","text-base","font-medium","text-gray-900"],[1,"prose","prose-base","text-gray-500","ml-2"],[1,"flex"],[1,"sm:mt-16","lg:max-w-none","lg:mt-0","lg:row-end-2","lg:row-span-2","lg:col-span-6"],[1,"relative","z-10","mb-10","overflow-hidden","rounded-xl","text-center","shadow-lg","shadow-gray-600"],[1,"bg-blue-700/70","w-full","h-full","py-32"],[1,"mt-2","px-8","text-3xl","font-bold","text-white","md:text-5xl"],[1,"mt-6","text-lg","text-white"],["src","https://images.unsplash.com/photo-1504672281656-e4981d70414b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80","alt","",1,"absolute","top-0","left-0","-z-20","h-full","w-full","object-cover"],[1,"grid","px-6","pb-20"],[1,""],[1,"mt-4","mb-4","font-serif","text-xl","font-bold","text-blue-900"],[1,"relative"],[1,"pointer-events-none","absolute","inset-y-0","left-0","flex","items-center","pl-3"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"h-5","w-5","text-gray-500"],["fill-rule","evenodd","d","M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule","evenodd"],["type","hidden","name","date","x-ref","date"],["type","text","readonly","","placeholder","Select date",1,"datepicker-input","block","w-56","rounded-lg","border","border-blue-300","bg-blue-50","p-2.5","pl-10","text-blue-800","outline-none","ring-opacity-30","placeholder:text-blue-800","focus:ring","focus:ring-blue-300","sm:text-sm",3,"min","max","ngModel","ngModelChange","click","keydown.escape"],[1,"bg-white","mt-12","rounded-lg","shadow","p-4","absolute","top-0","left-0",2,"width","17rem",3,"hidden","keydown.away"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-lg","font-bold","text-gray-800"],[1,"ml-1","text-lg","text-gray-600","font-normal"],["type","button",1,"transition","ease-in-out","duration-100","inline-flex","cursor-pointer","hover:bg-gray-200","p-1","rounded-full",3,"ngClass","disabled","click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-gray-500","inline-flex"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"flex","flex-wrap","mb-3","-mx-1"],[4,"ngFor","ngForOf"],[1,"flex","flex-wrap","-mx-1"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","",4,"ngIf"],[1,"mt-8","w-48","rounded-full","border-8","border-blue-500","bg-blue-600","px-10","py-2","text-lg","font-bold","text-white","transition","hover:translate-y-1",3,"disabled","ngStyle","click"],[1,"px-1",2,"width","14.26%"],[1,"text-gray-800","font-medium","text-center","text-xs"],[1,"text-center","border-none","p-1","border-transparent","text-sm",2,"width","14.28%"],[1,"px-1","mb-1",2,"width","14.28%"],[1,"cursor-pointer","text-center","text-sm","rounded-full","leading-loose","transition","ease-in-out","duration-100",3,"ngClass","click"],[1,"mt-8","font-serif","text-xl","font-bold","text-blue-900"],["class","mt-8 font-serif text-xl font-bold text-red-900",4,"ngIf"],[1,"mt-4","grid","grid-cols-4","gap-2","lg:max-w-xl"],[1,"mt-8","font-serif","text-xl","font-bold","text-red-900"],["class","rounded-lg w-full  px-4 py-2 font-medium  active:scale-95",3,"ngClass","click",4,"ngIf"],["class","rounded-lg w-full bg-gray-400 px-4 py-2 cursor-not-allowed font-medium text-black active:scale-95","disabled","",4,"ngIf"],["class","rounded-lg w-full bg-red-200 px-4 py-2 cursor-not-allowed font-medium text-red-700 active:scale-95","disabled","",4,"ngIf"],[1,"rounded-lg","w-full","px-4","py-2","font-medium","active:scale-95",3,"ngClass","click"],["disabled","",1,"rounded-lg","w-full","bg-gray-400","px-4","py-2","cursor-not-allowed","font-medium","text-black","active:scale-95"],["disabled","",1,"rounded-lg","w-full","bg-red-200","px-4","py-2","cursor-not-allowed","font-medium","text-red-700","active:scale-95"],[1,"bg-custom-gradient","mt-14","p-8"],[1,"aspect-w-1","aspect-h-1","rounded-lg","overflow-hidden"],["count","1","appearance","circle",1,"",3,"theme"],[1,"grid","pr-4","pb-20"],[1,"mt-6"],[1,"relative","mt-7"],["count","1","appearance","circle",1,"mt-20",3,"theme"]],template:function(i,r){1&i&&(ge(0,Ede,99,34,"div",0),ge(1,Pde,40,41,"div",1)),2&i&&(S("ngIf",!r.loading),x(1),S("ngIf",r.loading))},dependencies:[Ig,ps,Xi,Gh,Wo,ta,vs,cde],data:{animation:[ra("fadeInOut",[jr(":enter",[Yt({opacity:0}),Ur("300ms",Yt({opacity:1}))]),jr(":leave",[Ur("300ms",Yt({opacity:0}))])])]}})}return n})(),tj=(()=>{class n{constructor(t,i){this.router=t,this.navbarService=i}ngOnInit(){localStorage.getItem("isLogin"),localStorage.removeItem("isLogin"),localStorage.removeItem("userId"),localStorage.removeItem("jwt");let i=localStorage.getItem("mode");"Doctor"==i?(this.navbarService.setMode("Patient"),localStorage.removeItem("mode")):"Patient"==i&&localStorage.removeItem("mode"),this.navbarService.setIsLogin(!1),this.navbarService.setMode("Patient"),this.router.navigate(["/homepatient"])}static#e=this.\u0275fac=function(i){return new(i||n)(V(un),V(Js))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-logout"]],decls:2,vars:0,template:function(i,r){1&i&&(g(0,"p"),w(1,"logout works!"),_())}})}return n})(),Ode=(()=>{class n{constructor(t){this.router=t}redirect(){let t=localStorage.getItem("mode");"Doctor"==t?this.router.navigate(["/homedoctor"]):("Patient"==t||null==t)&&this.router.navigate(["/"])}static#e=this.\u0275fac=function(i){return new(i||n)(V(un))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-not-found"]],decls:11,vars:0,consts:[[1,"container","items-center","justify-center","h-5/6"],["autoplay","","loop","","playsinline","","id","broken-glass-video"],["src","assets/404_screen_breaking.mp4","type","video/mp4"],[1,"overlay","text-white","text-center","zoom-in-text"],[1,"text-4xl","mb-8"],[1,"text-lg","mb-12"],[1,"btn","cursor-pointer",3,"click"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"video",1),K(2,"source",2),w(3," Your browser does not support the video tag. "),_(),g(4,"div",3)(5,"h1",4),w(6,"404 - Page Not Found"),_(),g(7,"p",5),w(8,"Oops! It seems like the page you are looking for is broken."),_(),g(9,"a",6),ee("click",function(){return r.redirect()}),w(10,"Go back to the homepage"),_()()())},styles:["@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}#broken-glass-video[_ngcontent-%COMP%]{position:absolute;object-fit:cover;max-width:1536px}.zoom-in-text[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomIn 10.8s forwards infinite}.container[_ngcontent-%COMP%]{position:fixed;left:0}.overlay[_ngcontent-%COMP%]{position:absolute;top:45%;left:35%;transform:translate(-50%,-50%);text-align:center;color:#fff}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#fff;color:#333;text-decoration:none;font-weight:700;border-radius:5px}"]})}return n})(),Nde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-about-section"]],decls:114,vars:0,consts:[[1,"bg-custom-gradient"],[1,"navbar"],[1,"page-header","mb-0","py-5"],[1,"container","mx-auto"],[1,"text-center","font-semibold","py-4"],[1,"web","mt-0","px-8"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"web-item"],[1,"flex","items-center","justify-center","mb-4"],[1,"flaticon-1"],[1,"text-center","mb-4"],["src","assets/test1.jpg","alt","1",1,"mx-auto","mb-4"],[1,"text-center"],["href","",1,"btn","block","mx-auto","mt-4"],[1,"flaticon-2"],[1,"flaticon-3"],[1,"about","py-7"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","items-center"],[1,"flex","about-img","item-center","justify-center","rounded-xl","bg-white"],["src","assets/Logo/logo21.jpg","alt","Image"],[1,"about-content"],[1,"section-header","py-5"],[1,"about-text","py-5"],["href","",1,"btn"],[1,"bg-white","bg-opacity-40"],[1,"page-header","mb-5"],[1,"container","mx-5","px-8"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"py-24"],[1,"feature-img","mb-8","rounded-lg","overflow-hidden"],[1,"grid","grid-cols-2","md:grid-cols-2"],["src","assets/a.jpeg","alt","Image",1,"w-full","h-auto","md:max-h-30","lg:max-h-48","transition","duration-300","transform","hover:scale-110","hover:-z-10"],["src","assets/b.jpeg","alt","Image",1,"w-full","h-auto","md:max-h-30","lg:max-h-48","transition","duration-300","transform","hover:scale-110","hover:-z-10"],["src","assets/c.jpeg","alt","Image",1,"w-full","h-auto","md:max-h-30","lg:max-h-48","transition","duration-300","transform","hover:scale-110","hover:-z-10"],["src","assets/d.jpeg","alt","Image",1,"w-full","h-auto","md:max-h-30","lg:max-h-48","transition","duration-300","transform","hover:scale-110","hover:-z-10"],[1,"container","px-10","py-14"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-x-12","gap-y-20"],[1,"feature-item"],[1,"flaticon-cooking","text-6xl","text-green-500"],[1,"text-xl","font-bold","mb-2"],[1,"text-base"],[1,"flaticon-vegetable","text-6xl","text-green-500"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),w(6,"About Us"),_()()()(),g(7,"div",5)(8,"div",3)(9,"div",6)(10,"div",7)(11,"div",8),K(12,"i",9),_(),g(13,"h2",10),w(14,"Comprehensive Primary Care"),_(),K(15,"img",11),g(16,"p",12),w(17," Offer a comprehensive range of primary care services, including routine check-ups, preventive care, and treatment for common illnesses. Emphasize the importance of regular health screenings and wellness exams to maintain overall health and detect potential issues early. "),_(),g(18,"a",13),w(19,"Book Appointment"),_()(),g(20,"div",7)(21,"div",8),K(22,"i",14),_(),g(23,"h2",10),w(24,"Specialized Medical Expertise"),_(),K(25,"img",11),g(26,"p",12),w(27," Highlight the expertise of your medical professionals in specialized areas such as cardiology, dermatology, pediatrics, etc. Describe how these specialists provide advanced diagnostic and treatment options tailored to each patient's unique needs. "),_(),g(28,"a",13),w(29,"Book Appointment"),_()(),g(30,"div",7)(31,"div",8),K(32,"i",15),_(),g(33,"h2",10),w(34,"Advanced Technology and Diagnostic Facilities"),_(),K(35,"img",11),g(36,"p",12),w(37," Showcase the state-of-the-art technology and diagnostic facilities available at your clinic, including X-rays, ultrasound, MRI, CT scans, and laboratory tests. Explain how these advanced resources aid in accurate diagnosis, personalized treatment plans, and improved patient outcomes. "),_(),g(38,"a",13),w(39,"Book Appointment"),_()()()()(),g(40,"div",16)(41,"div",3)(42,"div",17)(43,"div",18),K(44,"img",19),_(),g(45,"div",20)(46,"div",21)(47,"h2"),w(48,"Doc-Connect"),_()(),g(49,"div",22)(50,"p"),w(51," Our website allows patients to easily schedule appointments with medical professionals online, offering convenience and accessibility. "),_(),g(52,"p"),w(53," Patients can access detailed information about available services, doctor profiles, and clinic contact details, enabling them to make informed decisions about their healthcare needs. "),_(),g(54,"a",23),w(55,"Book An Appointment"),_()()()()()(),g(56,"div",24)(57,"div",25)(58,"div",3)(59,"div",4)(60,"h2"),w(61,"Why choose us"),_()()()(),g(62,"div",26)(63,"div",27)(64,"div",28)(65,"div",29)(66,"div",30)(67,"div"),K(68,"img",31),_(),g(69,"div"),K(70,"img",32),_(),g(71,"div"),K(72,"img",33),_(),g(73,"div"),K(74,"img",34),_()()()(),g(75,"div",35)(76,"div",36)(77,"div",37),K(78,"i",38),g(79,"h3",39),w(80,"Easy Appointment Scheduling"),_(),g(81,"p",40),w(82," Streamlined booking process for quick appointments with preferred doctors. "),_()(),g(83,"div",37),K(84,"i",41),g(85,"h3",39),w(86,"Comprehensive Doctor Profiles"),_(),g(87,"p",40),w(88," Detailed profiles with specialties, qualifications, and availability. "),_()(),g(89,"div",37),K(90,"i",38),g(91,"h3",39),w(92,"Real-time Availability Updates"),_(),g(93,"p",40),w(94," Instant updates on available appointment slots for efficient scheduling. "),_()(),g(95,"div",37),K(96,"i",38),g(97,"h3",39),w(98,"Patient Feedback and Reviews"),_(),g(99,"p",40),w(100,"Streamlined booking process for quick appointments with preferred doctors."),_()(),g(101,"div",37),K(102,"i",38),g(103,"h3",39),w(104,"Reminders and Notifications"),_(),g(105,"p",40),w(106," Automated alerts for upcoming appointments to reduce no-show rates. "),_()(),g(107,"div",37),K(108,"i",38),g(109,"h3",39),w(110,"Telemedicine Integration"),_(),g(111,"p",40),w(112," Seamless virtual consultations for added accessibility. "),_()()()()()()(),K(113,"app-footer"),_()())},dependencies:[ZA],styles:['.navbar[_ngcontent-%COMP%]{padding-top:4%}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333}.web-item[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;border-radius:10px;box-shadow:0 0 20px #0000001a;text-align:center;padding:20px;transition:all .3s ease}.web-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.web-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#1497ee}.web-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-top:10px}.web-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-top:5px}.web-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;background-color:#1497ee;color:#fff;padding:10px 20px;border-radius:5px;margin-top:20px;transition:all .3s ease}.web-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#1497ee}.web-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:auto;display:inline-block;padding-top:5%;padding-bottom:5%}.about-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block}.about-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#1497ee}.about-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333}.about-content[_ngcontent-%COMP%]   .about-text[_ngcontent-%COMP%]{color:#fff;margin-top:20px}.about-content[_ngcontent-%COMP%]   .about-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px}.about-content[_ngcontent-%COMP%]   .about-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#417af6;padding:10px 20px;border-radius:5px;margin-top:20px;transition:all .3s ease}.about-content[_ngcontent-%COMP%]   .about-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#1497ee}.feature-img[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]{width:50%}.feature-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-width:100%}.feature[_ngcontent-%COMP%]{position:relative;width:100%;padding:45px 0 0}.feature[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:30px}.feature[_ngcontent-%COMP%]   .feature-text[_ngcontent-%COMP%]{position:relative;width:100%}.feature[_ngcontent-%COMP%]   .feature-img[_ngcontent-%COMP%]{border-radius:15px;margin-bottom:25px;overflow:hidden}.feature[_ngcontent-%COMP%]   .feature-img[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%], .feature[_ngcontent-%COMP%]   .feature-img[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{padding:0;overflow:hidden}.feature[_ngcontent-%COMP%]   .feature-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:.3s}.feature[_ngcontent-%COMP%]   .feature-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.feature[_ngcontent-%COMP%]   .feature-text[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-top:15px;margin-bottom:45px}.feature[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{width:100%;margin-bottom:45px}.feature[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;display:block;color:#719a0a;font-size:60px;line-height:60px;margin-bottom:15px;background-image:linear-gradient(#719a0a,#fbaf32);-webkit-text-fill-color:transparent}.feature[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:after{position:absolute;content:"";width:40px;height:40px;top:-10px;left:20px;background:#fbaf32;border-radius:30px;z-index:-1}.feature[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:700}']})}return n})();const Fde=["webcamVideo"],Lde=["remoteVideo"];function Vde(n,e){1&n&&(g(0,"div",24)(1,"div",25),w(2," Please Start Your WebCam "),_()())}function Bde(n,e){1&n&&K(0,"video",26,21),2&n&&S("srcObject",L().localStream)}const Ude=function(n,e){return{opacity:n,cursor:e}},jde=function(n,e){return{"bg-green-500":n,"bg-gray-500":e}},Hde=function(n,e){return{"bg-gray-300":n,"bg-gray-400":e}};let $de=(()=>{class n{constructor(t,i,r,o,s,a,l){this.doctorServ=t,this.ngZone=i,this.firebaseService=r,this.datePipe=o,this.firestore=s,this.router=a,this.aroute=l,this.patientEmail="",this.isDoctor=!1,this.isLocal=!1,this.isRemote=!1,this.isCalling=!1,this.micButton="Mute",this.videoButton="Stop Video",this.isAudioMuted=!1,this.isVideoStopped=!1,this.remoteStream=new MediaStream,this.configuration={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]},{urls:["turn:numb.viagenie.ca"],credential:"muazkh",username:"webrtc@live.com"}],iceCandidatePoolSize:5}}ngOnInit(){var t=this;return(0,G.Z)(function*(){t.aroute.queryParams.subscribe(i=>{i.userData&&(t.patientEmail=JSON.parse(i.userData),console.log("User email : ",t.patientEmail))}),yield t.loadDoctorData(),console.log(t.doctorId),t.peerConnection=new RTCPeerConnection(t.configuration),t.remoteVideo.nativeElement.srcObject=t.remoteStream})()}handleRemoteStream(t){t.streams[0].getTracks().forEach(i=>{this.remoteStream.addTrack(i)})}ngOnDestroy(){if(this.callId){const i=this.firebaseService.getCallDocument(this.callId).valueChanges().subscribe(r=>{r.ended&&(console.log("Call ended by doctor"),i.unsubscribe())})}this.peerConnection.close(),this.localStream&&this.localStream.getTracks().forEach(t=>t.stop()),this.firebaseService.getCallDocument(this.callId).update({ended:!0}).then(()=>{console.log("Call ended successfully")}).catch(t=>{console.error("Error updating call document:",t)}),this.router.navigate(["/dashboardDoctor"])}toggleAudio(){if(this.localStream){const t=this.localStream.getAudioTracks()[0];this.micButton="Mute"===this.micButton?"Unmute":"Mute",t&&(t.enabled=!t.enabled,this.isAudioMuted=t.enabled)}}toggleVideo(){if(this.localStream){const t=this.localStream.getVideoTracks()[0];this.videoButton="Stop Video"===this.videoButton?"Start Video":"Stop Video",t&&(t.enabled=!t.enabled,this.isVideoStopped=!t.enabled)}}loadDoctorData(){return new Promise((t,i)=>{this.doctorId="",this.doctorId=localStorage.getItem("userId"),this.doctorServ.getDoctor(this.doctorId).subscribe(r=>{this.doctor=r,this.isDoctor=!0,console.log("DashBoard"),console.log(this.doctor),t()},r=>{console.error("error",r),i(r)})})}startWebcam(){var t=this;return(0,G.Z)(function*(){console.log("in startWebcame"),t.localStream=yield navigator.mediaDevices.getUserMedia({video:!0,audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}}),t.isLocal=!0,t.localStream.getAudioTracks()[0].enabled=!1,console.log("in startWebcame1"),t.localStream.getTracks().forEach(i=>{t.peerConnection.addTrack(i,t.localStream)}),t.localStream&&(t.webcamVideo.nativeElement.srcObject=t.localStream),t.peerConnection.ontrack=i=>{i.streams[0].getTracks().forEach(r=>{t.remoteStream.addTrack(r)})}})()}initiateCall(){var t=this;return(0,G.Z)(function*(){try{if(!t.localStream)return void console.error("Local stream not available. Please start webcam first.");console.log("InitiaeCall called.");const i=yield t.firebaseService.createCallDocument();console.log("createCallDocument completed."),t.callId=i.id;const r=i.collection("offerCandidates"),o=i.collection("answerCandidates");t.peerConnection.onicecandidate=c=>{c.candidate&&r.add(c.candidate.toJSON())},console.log("Calling  createOffer.");const s=yield t.peerConnection.createOffer();console.log("createOffer completed."),yield t.peerConnection.setLocalDescription(s),console.log("setLocalDescription completed.");const a={sdp:s.sdp,type:s.type};yield i.set({offer:a});const l=i.onSnapshot(c=>{console.log("listing remote changes");const h=c.data();if(!t.peerConnection.currentRemoteDescription&&h?.answer){console.log("listened remote changes");const m=new RTCSessionDescription(h.answer);t.peerConnection.setRemoteDescription(m),l()}});Ax_send("service_lx8ae8c","template_hbae7ct",{meetingId:t.callId,to_email:t.patientEmail},"Lx9Z4TNqPKTQ1oiUO").then(c=>{console.log("Email sent successfully!",c)}).catch(c=>{console.error("Email could not be sent:",c)}),o.onSnapshot(c=>{console.log("adding remote changes"),c.docChanges().forEach(h=>{if("added"===h.type){console.log("adding candidate.");const m=new RTCIceCandidate(h.doc.data());console.log(m),t.peerConnection.addIceCandidate(m),console.log(t.peerConnection)}})}),console.log("InitiaeCall completed."),t.listenForCallEnd(t.callId)}catch(i){console.error("Error creating offer:",i)}})()}listenForCallEnd(t){this.firebaseService.getCallDocument(t).valueChanges().subscribe(r=>{r.ended&&console.log("Call ended by Patient")}),this.ngZone.run(()=>{alert("Call ended by Patient")}),this.callEndedByPatient()}callEndedByPatient(){this.peerConnection.close(),this.localStream&&this.localStream.getTracks().forEach(t=>t.stop()),this.router.navigate(["/dashboardDoctor"])}answerCall(){var t=this;return(0,G.Z)(function*(){try{if(console.log("answerCall"),console.log("callid",t.callId),!t.callId)return void console.error("Call ID is empty");const i=t.firebaseService.getCallDocument(t.callId),r=i.collection("answerCandidates"),o=i.collection("offerCandidates");t.peerConnection.onicecandidate=l=>{l.candidate&&r.add(l.candidate.toJSON())},console.log("Retrieving call data"),i.get().subscribe(l=>{if(!l.exists)return void console.error("Call document does not exist");const c=l.data();if(console.log("callData:"),console.log(c),!c||!c.offer)return void console.error("Offer description is missing");const h=c.offer;console.log("offerDescription:"),console.log(h),h?t.peerConnection.setRemoteDescription(new RTCSessionDescription(h)).then(()=>{t.peerConnection.createAnswer().then(m=>{t.peerConnection.setLocalDescription(m).then(()=>{const y={type:m.type,sdp:m.sdp};console.log("answer:"),console.log(y),i.update({answer:y}),console.log("callDocRef:"),console.log(i),o.snapshotChanges().subscribe(b=>{b.forEach(C=>{if(console.log("offerCandidates change"),"added"===C.type){console.log("offerCandidates added");const T=C.payload.doc.data();console.log(T),t.peerConnection.addIceCandidate(new RTCIceCandidate(T)),console.log(t.peerConnection)}})}),t.isRemote=!0,console.log("Answering call completed")}).catch(y=>{console.error("Error setting local description:",y)})}).catch(m=>{console.error("Error creating answer:",m)})}).catch(m=>{console.error("Error setting remote description:",m)}):console.error("Offer description is missing")})}catch(i){console.error("Error answering call:",i)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(V(GA),V(Ze),V(zA),V(Wh),V($A),V(un),V(gs))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-doctor-consulting"]],viewQuery:function(i,r){if(1&i&&(Uh(Fde,5),Uh(Lde,5)),2&i){let o;mu(o=gu())&&(r.webcamVideo=o.first),mu(o=gu())&&(r.remoteVideo=o.first)}},decls:38,vars:21,consts:[[1,"flex","flex-wrap","mt-14","bg-custom-gradient"],["id","maindiv",1,"p-6"],[1,"h-5/6","flex","flex-row","w-full"],[1,"w-2/3","bg-white/30","rounded-2xl","m-1"],["autoplay","","muted","","playsinline","",1,"w-full","z-20","h-full","object-cover","rounded-xl",3,"srcObject"],["remoteVideo",""],[1,"w-1/3","bg-white/30","rounded-2xl","my-1","ml-1"],[1,"m-2","bg-white/55","h-1/2","rounded-xl"],["class","flex flex-col items-center justify-center h-full border-2 rounded-xl border-black ",4,"ngIf"],["autoplay","","muted","","playsinline","","class","w-full h-full object-cover rounded-xl",3,"srcObject",4,"ngIf"],[1,"m-2","rounded-xl"],["type","submit",1,"w-full","text-primary-700","font-bold","hover:bg-primary-700","focus:bg-primary-700","focus:text-white","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5",3,"disabled","click"],["type","submit",1,"w-full","text-primary-700","font-bold","hover:bg-primary-700","focus:bg-primary-700","focus:text-white","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5","cursor-pointer",3,"disabled","ngStyle","click"],["id","buttons",1,"h-1/6","flex","flex-row","justify-center","items-center","bg-blue-800","w-full","m-1","rounded-2xl"],[1,"w-1/3","hover:bg-green-600","text-white","font-bold","py-2","px-4","rounded-xl","m-2","focus:outline-none","focus:ring-4","focus:ring-green-300",3,"ngClass","click"],[1,"w-1/3","bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-xl","m-2","focus:outline-none","focus:ring-4","focus:ring-red-300",3,"click"],[1,"w-1/3","hover:bg-gray-400","text-black","font-bold","py-2","px-4","rounded-xl","m-2","focus:outline-none","focus:ring-4","focus:ring-gray-200",3,"ngClass","click"],["hidden","",1,"mt-4"],[1,"videos","mt-8"],[1,"bg-blue-400"],["autoplay","","muted","","playsinline","",1,"bg-bl",3,"srcObject"],["webcamVideo",""],[1,"bg-blue-800"],["autoplay","","muted","","playsinline","",3,"srcObject"],[1,"flex","flex-col","items-center","justify-center","h-full","border-2","rounded-xl","border-black"],[1,"text-center"],["autoplay","","muted","","playsinline","",1,"w-full","h-full","object-cover","rounded-xl",3,"srcObject"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),K(4,"video",4,5),_(),g(6,"div",6)(7,"div",7),ge(8,Vde,3,0,"div",8),ge(9,Bde,2,1,"video",9),_(),g(10,"div",10)(11,"button",11),ee("click",function(){return r.startWebcam()}),w(12,"Start Webcam"),_()(),g(13,"div",10)(14,"button",12),ee("click",function(){return r.initiateCall()}),w(15,"Create Room"),_()()()(),g(16,"div",13)(17,"button",14),ee("click",function(){return r.toggleAudio()}),w(18),_(),g(19,"button",15),ee("click",function(){return r.ngOnDestroy()}),w(20,"Hangup"),_(),g(21,"button",16),ee("click",function(){return r.toggleVideo()}),w(22),_()()()(),g(23,"div",17)(24,"div")(25,"h2"),w(26,"1. Start your Webcam"),_(),g(27,"div",18)(28,"span",19)(29,"h3"),w(30,"Local Stream"),_(),K(31,"video",20,21),_(),g(33,"span",22)(34,"h3"),w(35,"Remote Stream"),_(),K(36,"video",23,5),_()()()()),2&i&&(x(4),S("srcObject",r.remoteStream),x(4),S("ngIf",!r.isLocal),x(1),S("ngIf",r.isLocal),x(2),S("disabled",r.localStream),x(3),S("disabled",!r.localStream||r.callId)("ngStyle",jo(12,Ude,!r.localStream||r.callId?"0.5":"1",!r.localStream||r.callId?"not-allowed":"pointer")),x(3),S("ngClass",jo(15,jde,!r.isAudioMuted,r.isAudioMuted)),x(1),rn(r.micButton),x(3),S("ngClass",jo(18,Hde,!r.isVideoStopped,r.isVideoStopped)),x(1),rn(r.videoButton),x(9),S("srcObject",r.localStream),x(5),S("srcObject",r.remoteStream))},dependencies:[Ig,Xi,Gh],styles:["#maindiv[_ngcontent-%COMP%]{height:calc(100vh - 3.5rem);width:100%}"]})}return n})();const zde=["webcamVideo"],qde=["remoteVideo"];function Gde(n,e){1&n&&(g(0,"div",25)(1,"div",26),w(2," Please Start Your WebCam "),_()())}function Wde(n,e){1&n&&K(0,"video",27,22),2&n&&S("srcObject",L().localStream)}const Zde=function(n,e){return{"bg-green-500":n,"bg-gray-500":e}},Kde=function(n,e){return{"bg-gray-300":n,"bg-gray-400":e}};let Yde=(()=>{class n{constructor(t,i,r,o,s,a,l){this.route=t,this.ngZone=i,this.services=r,this.firebaseService=o,this.datePipe=s,this.firestore=a,this.router=l,this.isPatient=!1,this.isLocal=!1,this.isRemote=!1,this.isCalling=!1,this.isAudioMuted=!1,this.isVideoStopped=!1,this.micButton="Mute",this.videoButton="Stop Video",this.remoteStream=new MediaStream,this.configuration={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]},{urls:["turn:numb.viagenie.ca"],credential:"muazkh",username:"webrtc@live.com"}],iceCandidatePoolSize:5}}ngOnInit(){var t=this;return(0,G.Z)(function*(){t.route.params.subscribe(i=>{t.callId=i.callId}),yield t.loadPatinetData(),console.log(t.patientId),t.peerConnection=new RTCPeerConnection(t.configuration),t.remoteVideo.nativeElement.srcObject=t.remoteStream})()}handleRemoteStream(t){t.streams[0].getTracks().forEach(i=>{this.remoteStream.addTrack(i)})}ngOnDestroy(){if(this.callId){const i=this.firebaseService.getCallDocument(this.callId).valueChanges().subscribe(r=>{r.ended&&(console.log("Call ended by Patient"),i.unsubscribe())})}this.peerConnection.close(),this.localStream&&this.localStream.getTracks().forEach(t=>t.stop()),this.firebaseService.getCallDocument(this.callId).update({ended:!0}).then(()=>{console.log("Call ended successfully")}).catch(t=>{console.error("Error updating call document:",t)}),this.router.navigate(["/dashboardPatient"])}listenForCallEnd(t){this.firebaseService.getCallDocument(t).valueChanges().subscribe(o=>{o.ended&&console.log("Call ended by doctor")}),this.ngZone.run(()=>{alert("Call ended by doctor")}),this.callEndedByDoctor()}callEndedByDoctor(){this.peerConnection.close(),this.localStream&&this.localStream.getTracks().forEach(t=>t.stop()),this.router.navigate(["/dashboardPatient"])}toggleAudio(){if(this.localStream){const t=this.localStream.getAudioTracks()[0];this.micButton="Mute"===this.micButton?"Unmute":"Mute",t&&(t.enabled=!t.enabled,this.isAudioMuted=t.enabled)}}toggleVideo(){if(this.localStream){const t=this.localStream.getVideoTracks()[0];this.videoButton="Stop Video"===this.videoButton?"Start Video":"Stop Video",t&&(t.enabled=!t.enabled,this.isVideoStopped=!t.enabled)}}loadPatinetData(){return new Promise((t,i)=>{this.patientId="",this.patientId=localStorage.getItem("userId"),this.services.getPatient().subscribe(r=>{this.patient=r,this.isPatient=!0,console.log("DashBoard"),console.log(this.patient),t()},r=>{console.error("error",r),i(r)})})}startWebcam(){var t=this;return(0,G.Z)(function*(){console.log("in startWebcame"),t.localStream=yield navigator.mediaDevices.getUserMedia({video:!0,audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}}),t.isLocal=!0,t.localStream.getAudioTracks()[0].enabled=!1,console.log("in startWebcame1"),t.localStream.getTracks().forEach(i=>{t.peerConnection.addTrack(i,t.localStream)}),t.localStream&&(t.webcamVideo.nativeElement.srcObject=t.localStream),t.peerConnection.ontrack=i=>{i.streams[0].getTracks().forEach(r=>{t.remoteStream.addTrack(r)})}})()}initiateCall(){var t=this;return(0,G.Z)(function*(){try{console.log("InitiaeCall called.");const i=yield t.firebaseService.createCallDocument();console.log("createCallDocument completed."),t.callId=i.id;const r=i.collection("offerCandidates"),o=i.collection("answerCandidates");t.peerConnection.onicecandidate=c=>{c.candidate&&r.add(c.candidate.toJSON())},console.log("Calling  createOffer.");const s=yield t.peerConnection.createOffer();console.log("createOffer completed."),yield t.peerConnection.setLocalDescription(s),console.log("setLocalDescription completed.");const a={sdp:s.sdp,type:s.type};yield i.set({offer:a});const l=i.onSnapshot(c=>{console.log("listing remote changes");const h=c.data();if(!t.peerConnection.currentRemoteDescription&&h?.answer){console.log("listened remote changes");const m=new RTCSessionDescription(h.answer);t.peerConnection.setRemoteDescription(m),l()}});o.onSnapshot(c=>{console.log("adding remote changes"),c.docChanges().forEach(h=>{if("added"===h.type){console.log("adding candidate.");const m=new RTCIceCandidate(h.doc.data());console.log(m),t.peerConnection.addIceCandidate(m),console.log(t.peerConnection)}})}),console.log("InitiaeCall completed."),t.listenForCallEnd(t.callId)}catch(i){console.error("Error creating offer:",i)}})()}answerCall(){var t=this;return(0,G.Z)(function*(){try{if(console.log("answerCall"),console.log("callid",t.callId),!t.callId)return void console.error("Call ID is empty");const i=t.firebaseService.getCallDocument(t.callId),r=i.collection("answerCandidates"),o=i.collection("offerCandidates");t.peerConnection.onicecandidate=l=>{l.candidate&&r.add(l.candidate.toJSON())},console.log("Retrieving call data"),i.get().subscribe(l=>{if(!l.exists)return void console.error("Call document does not exist");const c=l.data();if(console.log("callData:"),console.log(c),!c||!c.offer)return void console.error("Offer description is missing");const h=c.offer;console.log("offerDescription:"),console.log(h),h?t.peerConnection.setRemoteDescription(new RTCSessionDescription(h)).then(()=>{t.peerConnection.createAnswer().then(m=>{t.peerConnection.setLocalDescription(m).then(()=>{const y={type:m.type,sdp:m.sdp};console.log("answer:"),console.log(y),i.update({answer:y}),console.log("callDocRef:"),console.log(i),o.snapshotChanges().subscribe(b=>{b.forEach(C=>{if(console.log("offerCandidates change"),"added"===C.type){console.log("offerCandidates added");const T=C.payload.doc.data();console.log(T),t.peerConnection.addIceCandidate(new RTCIceCandidate(T)),console.log(t.peerConnection)}})}),t.isRemote=!0,console.log("Answering call completed")}).catch(y=>{console.error("Error setting local description:",y)})}).catch(m=>{console.error("Error creating answer:",m)})}).catch(m=>{console.error("Error setting remote description:",m)}):console.error("Offer description is missing")})}catch(i){console.error("Error answering call:",i)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(V(gs),V(Ze),V(rp),V(zA),V(Wh),V($A),V(un))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-patient-consulting"]],viewQuery:function(i,r){if(1&i&&(Uh(zde,5),Uh(qde,5)),2&i){let o;mu(o=gu())&&(r.webcamVideo=o.first),mu(o=gu())&&(r.remoteVideo=o.first)}},decls:36,vars:16,consts:[[1,"flex","flex-wrap","mt-14","bg-custom-gradient"],["id","maindiv",1,"p-6"],[1,"h-5/6","flex","flex-row","w-full"],[1,"w-2/3","bg-white/30","rounded-2xl","m-1"],["autoplay","","muted","","playsinline","",1,"w-full","z-20","object-cover","h-full","rounded-xl",3,"srcObject"],["remoteVideo",""],[1,"w-1/3","bg-white/30","rounded-2xl","my-1","ml-1"],[1,"m-2","bg-white/55","h-1/2","rounded-xl"],["class","flex flex-col items-center justify-center h-full border-2 rounded-xl border-black ",4,"ngIf"],["autoplay","","muted","","playsinline","","class","w-full h-full object-cover rounded-xl",3,"srcObject",4,"ngIf"],[1,"m-2","rounded-xl"],["type","submit",1,"w-full","text-primary-700","font-bold","hover:bg-primary-700","focus:bg-primary-700","focus:text-white","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5",3,"disabled","click"],["action","#",1,"m-2","space-y-4","md:space-y-4"],["type","submit",1,"w-full","text-primary-700","font-bold","hover:bg-primary-700","focus:bg-primary-700","focus:text-white","focus:ring-4","focus:outline-none","focus:ring-primary-300","hover:text-white","rounded-lg","text-base","text-center","px-5","py-2.5",3,"click"],["id","buttons",1,"h-1/6","flex","flex-row","justify-center","items-center","bg-blue-800","w-full","m-1","rounded-2xl"],[1,"w-1/3","hover:bg-green-600","text-white","font-bold","py-2","px-4","rounded-xl","m-2","focus:outline-none","focus:ring-4","focus:ring-green-300",3,"ngClass","click"],[1,"w-1/3","bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-xl","m-2","focus:outline-none","focus:ring-4","focus:ring-red-300",3,"click"],[1,"w-1/3","hover:bg-gray-400","text-black","font-bold","py-2","px-4","rounded-xl","m-2","focus:outline-none","focus:ring-4","focus:ring-gray-200",3,"ngClass","click"],["hidden","",1,"mt-4"],[1,"videos","mt-8"],[1,"bg-blue-400"],["autoplay","","muted","","playsinline","",1,"bg-bl",3,"srcObject"],["webcamVideo",""],[1,"bg-blue-800"],["autoplay","","muted","","playsinline","",3,"srcObject"],[1,"flex","flex-col","items-center","justify-center","h-full","border-2","rounded-xl","border-black"],[1,"text-center"],["autoplay","","muted","","playsinline","",1,"w-full","h-full","object-cover","rounded-xl",3,"srcObject"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),K(4,"video",4,5),_(),g(6,"div",6)(7,"div",7),ge(8,Gde,3,0,"div",8),ge(9,Wde,2,1,"video",9),_(),g(10,"div",10)(11,"button",11),ee("click",function(){return r.startWebcam()}),w(12,"Start Webcam"),_()(),g(13,"form",12)(14,"button",13),ee("click",function(){return r.answerCall()}),w(15,"Answer Call"),_()()()(),g(16,"div",14)(17,"button",15),ee("click",function(){return r.toggleAudio()}),w(18),_(),g(19,"button",16),ee("click",function(){return r.ngOnDestroy()}),w(20,"Hangup"),_(),g(21,"button",17),ee("click",function(){return r.toggleVideo()}),w(22),_()()()(),g(23,"div",18)(24,"div")(25,"div",19)(26,"span",20)(27,"h3"),w(28,"Local Stream"),_(),K(29,"video",21,22),_(),g(31,"span",23)(32,"h3"),w(33,"Remote Stream"),_(),K(34,"video",24,5),_()()()()),2&i&&(x(4),S("srcObject",r.remoteStream),x(4),S("ngIf",!r.isLocal),x(1),S("ngIf",r.isLocal),x(2),S("disabled",r.localStream),x(6),S("ngClass",jo(10,Zde,!r.isAudioMuted,r.isAudioMuted)),x(1),rn(r.micButton),x(3),S("ngClass",jo(13,Kde,!r.isVideoStopped,r.isVideoStopped)),x(1),rn(r.videoButton),x(7),S("srcObject",r.localStream),x(5),S("srcObject",r.remoteStream))},dependencies:[Ig,Xi,ia,na,Zo],styles:["#maindiv[_ngcontent-%COMP%]{height:calc(100vh - 3.5rem);width:100%}"]})}return n})(),by=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){var r=this;return(0,G.Z)(function*(){if(console.log("in can active "),yield r.authService.isAuthenticated())return!0;{console.log("in can active else"),console.log("state.url",i.url),r.authService.redirectUrl=i.url;let o=localStorage.getItem("isLogin");return r.router.navigate("true"==o&&null!=o?["/homedoctor"]:["/signinPatient"]),!1}})()}static#e=this.\u0275fac=function(i){return new(i||n)(B(ux),B(un))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wy=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){var r=this;return(0,G.Z)(function*(){if(console.log("in doctor authgaurd "),yield r.authService.isAuthenticated())return!0;{console.log("in can active else"),console.log("state.url",i.url),r.authService.redirectUrl=i.url;let o=localStorage.getItem("isLogin");return r.router.navigate("true"==o&&null!=o?["/homepatient"]:["/signinDoctor"]),!1}})()}static#e=this.\u0275fac=function(i){return new(i||n)(B(qA),B(un))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Qde=[{path:"",redirectTo:"homepatient",pathMatch:"full"},{path:"signinDoctor",component:gle},{path:"registerDoctor",component:lle},{path:"signinPatient",component:Tte},{path:"registerPatient",component:Ote},{path:"dashboardPatient",component:Xae,canActivate:[by]},{path:"dashboardDoctor",component:Kle,canActivate:[wy]},{path:"DoctorConsulting",component:$de,canActivate:[wy]},{path:"PatientConsulting/:callId",component:Yde,canActivate:[by]},{path:"homedoctor",component:Yle,canActivate:[wy]},{path:"homepatient",component:tce},{path:"aboutPage",component:Nde},{path:"doctor-details/:id",component:ice},{path:"bookappointment/:id",component:Rde,canActivate:[by]},{path:"logout",component:tj,canActivate:[by]},{path:"doctor-logout",component:tj,canActivate:[wy]},{path:"**",component:Ode}];let Xde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({imports:[iV.forRoot(Qde),iV]})}return n})();function Jde(n,e){1&n&&(g(0,"nav",1)(1,"div",2)(2,"a",3),K(3,"img",4),_()(),g(4,"div",5)(5,"ul",6)(6,"li",7)(7,"a",8),w(8,"Home"),_()(),g(9,"li",7)(10,"a",8),w(11,"About Us"),_()(),g(12,"li",7)(13,"a",9),w(14,"Dashboard"),_()(),g(15,"li",7)(16,"a",10),w(17,"Logout"),_()()()()())}let ehe=(()=>{class n{constructor(t){this.navbarService=t,this.hideNavbar=!1}ngOnInit(){this.navbarService.hideNavbar$.subscribe(t=>{this.hideNavbar=t})}static#e=this.\u0275fac=function(i){return new(i||n)(V(Js))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-navbar-doctor"]],decls:1,vars:1,consts:[["class","fixed top-0 w-full flex align-center bg-custom-gradient z-10",4,"ngIf"],[1,"fixed","top-0","w-full","flex","align-center","bg-custom-gradient","z-10"],[1,"mx-6","justify-center","my-2"],["routerLink","/homedoctor","routerLinkActive","active"],["src","assets/Logo/logo1.png","alt","image",1,"flex","float-left","w-64","mix-blend-color-burn"],[1,"ml-auto"],[1,"flex","float-right"],[1,"my-3","mx-5"],["routerLink","/homedoctor","routerLinkActive","active",1,"font-semibold","text-lg","text-white","px-1","py-1"],["routerLink","/dashboardDoctor","routerLinkActive","active",1,"font-semibold","text-lg","text-white","px-1","py-1"],["routerLink","/doctor-logout","routerLinkActive","active",1,"font-semibold","text-lg","text-white","px-1","py-1"]],template:function(i,r){1&i&&ge(0,Jde,18,0,"nav",0),2&i&&S("ngIf",!r.hideNavbar)},dependencies:[Xi,ys,Eu],styles:[".fixed-navbar[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:50}"]})}return n})();function the(n,e){if(1&n){const t=Ct();g(0,"li",8)(1,"a",15),ee("click",function(){return le(t),oe(L(2).signInDoctor())}),w(2,"For Doctor"),_()()}}function nhe(n,e){1&n&&(g(0,"li",8)(1,"a",16),w(2,"Login"),_()())}function ihe(n,e){1&n&&(g(0,"li",8)(1,"a",17),w(2,"Register"),_()())}function rhe(n,e){1&n&&(g(0,"li",8)(1,"a",18),w(2,"Logout"),_()())}function ohe(n,e){if(1&n&&(g(0,"nav",1)(1,"div",2)(2,"a",3),K(3,"img",4),_()(),g(4,"div",5)(5,"ul",6),ge(6,the,3,0,"li",7),g(7,"li",8)(8,"div"),K(9,"input",9),g(10,"button",10),K(11,"i",11),_()()(),g(12,"li",8)(13,"a",12),w(14,"Home"),_()(),g(15,"li",8)(16,"a",13),w(17,"About Us"),_()(),g(18,"li",8)(19,"a",14),w(20,"Dashboard"),_()(),ge(21,nhe,3,0,"li",7),ge(22,ihe,3,0,"li",7),ge(23,rhe,3,0,"li",7),_()()()),2&n){const t=L();x(6),S("ngIf",!t.isLogin),x(15),S("ngIf",!t.isLogin),x(1),S("ngIf",!t.isLogin),x(1),S("ngIf",t.isLogin)}}let she=(()=>{class n{signInDoctor(){this.onSignInDoctorClicked.emit()}constructor(t,i){this.router=t,this.navbarService=i,this.onSignInDoctorClicked=new Kt,this.isLogin=!1,this.hideNavbar=!1}ngOnInit(){this.navbarService.hideNavbar$.subscribe(t=>{this.hideNavbar=t}),this.navbarService.isLogin$.subscribe(t=>{this.isLogin=t})}static#e=this.\u0275fac=function(i){return new(i||n)(V(un),V(Js))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-navbar-patient"]],outputs:{onSignInDoctorClicked:"onSignInDoctorClicked"},decls:1,vars:1,consts:[["class","fixed flex top-0 left-0 z-20 w-full align-center items-center bg-custom-gradient",4,"ngIf"],[1,"fixed","flex","top-0","left-0","z-20","w-full","align-center","items-center","bg-custom-gradient"],[1,"mx-6","my-2"],["routerLink","/homepatient","routerLinkActive","active",1,"cursor-pointer"],["src","assets/Logo/logo1.png","alt","image",1,"flex","float-left","w-64","mix-blend-color-burn"],[1,"ml-auto"],[1,"flex","float-right","items-center"],["class","my-3 mx-5",4,"ngIf"],[1,"my-3","mx-5"],["type","text","name","search1","id","search1","placeholder"," Search here",1,"font-semibold","text-lg","border-2","border-black","border-opacity-25","rounded-l-xl","placeholder:text-white","placeholder:font-semibold","placeholder:tracking-wide","selection:text-white","selection:font-semibold","selection:tracking-wide","focus:border-blue-50","px-1","py-1","w-56","h-9","bg-black","bg-opacity-10"],[1,"flex","float-right","items-center","font-semibold","text-lg","w-9","h-9","px-2","py-2","bg-black","bg-opacity-10","border-2","border-black","border-opacity-25","rounded-r-xl"],[1,"fa-solid","fa-magnifying-glass",2,"color","#ffffff"],["routerLink","/homepatient","routerLinkActive","active",1,"font-semibold","text-lg","text-white"],["routerLink","/aboutPage","routerLinkActive","active",1,"font-semibold","text-lg","text-white","px-1","py-1"],["routerLink","/dashboardPatient","routerLinkActive","active",1,"font-semibold","text-lg","text-white","px-1","py-1"],[1,"font-semibold","text-lg","text-white","px-1","py-1","cursor-pointer",3,"click"],["routerLink","/signinPatient","routerLinkActive","active",1,"font-semibold","text-lg","text-white","px-1","py-1"],["routerLink","/registerPatient","routerLinkActive","active",1,"font-semibold","text-lg","text-white","px-1","py-1"],["id","logout","routerLink","/logout","routerLinkActive","active",1,"font-semibold","text-lg","text-white","px-1","py-1"]],template:function(i,r){1&i&&ge(0,ohe,24,4,"nav",0),2&i&&S("ngIf",!r.hideNavbar)},dependencies:[Xi,ys,Eu]})}return n})();function ahe(n,e){1&n&&K(0,"app-navbar-doctor")}function lhe(n,e){if(1&n){const t=Ct();g(0,"app-navbar-patient",2),ee("onSignInDoctorClicked",function(){return le(t),oe(L().change_mode())}),_()}}let che=(()=>{class n{constructor(t,i){this.router=t,this.navbarService=i,this.title="Client",this.mode="Patient",this.isLogin=!1}change_mode(){this.router.navigate(["/signinDoctor"])}ngOnInit(){let t=localStorage.getItem("isLogin");("false"==t||null==t)&&(localStorage.removeItem("isLogin"),localStorage.setItem("isLogin","false"));let i=localStorage.getItem("mode");"Doctor"==i?this.mode="Doctor":"Patient"==i&&(this.mode="Patient"),this.navbarService.mode$.subscribe(r=>{this.mode=r})}static#e=this.\u0275fac=function(i){return new(i||n)(V(un),V(Js))};static#t=this.\u0275cmp=Ut({type:n,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],[3,"onSignInDoctorClicked",4,"ngIf"],[3,"onSignInDoctorClicked"]],template:function(i,r){1&i&&(g(0,"div"),ge(1,ahe,1,0,"app-navbar-doctor",0),ge(2,lhe,1,0,"app-navbar-patient",1),_(),K(3,"router-outlet")),2&i&&(x(1),S("ngIf","Doctor"==r.mode),x(1),S("ngIf","Patient"==r.mode))},dependencies:[Xi,QI,ehe,she]})}return n})();function nj(n){return new $(3e3,!1)}function bc(n){switch(n.length){case 0:return new t_;case 1:return n[0];default:return new P3(n)}}function ij(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),h=c==s,m=h&&a||new Map;l.forEach((y,b)=>{let C=b,T=y;if("offset"!==b)switch(C=n.normalizePropertyName(C,r),T){case"!":T=t.get(b);break;case $a:T=i.get(b);break;default:T=n.normalizeStyleValue(b,C,T,r)}m.set(C,T)}),h||o.push(m),a=m,s=c}),r.length)throw function Phe(n){return new $(3502,!1)}();return o}function mM(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&gM(t,"start",n)));break;case"done":n.onDone(()=>i(t&&gM(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&gM(t,"destroy",n)))}}function gM(n,e,t){const o=_M(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function _M(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Co(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function rj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const zhe=(()=>typeof document>"u"?null:document.documentElement)();function yM(n){const e=n.parentNode||n.host||null;return e===zhe?null:e}let id=null,oj=!1;function sj(n,e){for(;e;){if(e===n)return!0;e=yM(e)}return!1}function aj(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let lj=(()=>{class n{validateStyleProperty(t){return function Ghe(n){id||(id=function Whe(){return typeof document<"u"?document.body:null}()||{},oj=!!id.style&&"WebkitAppearance"in id.style);let e=!0;return id.style&&!function qhe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in id.style,!e&&oj&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in id.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return sj(t,i)}getParentElement(t){return yM(t)}query(t,i,r){return aj(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new t_(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})(),vM=(()=>{class n{static#e=this.NOOP=new lj}return n})();const Zhe=1e3,bM="ng-enter",RE="ng-leave",OE="ng-trigger",NE=".ng-trigger",uj="ng-animating",wM=".ng-animating";function el(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:EM(parseFloat(e[1]),e[2])}function EM(n,e){return"s"===e?n*Zhe:n}function FE(n,e,t){return n.hasOwnProperty("duration")?n:function Yhe(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(nj()),{duration:0,delay:0,easing:""};r=EM(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=EM(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function uhe(){return new $(3100,!1)}()),a=!0),o<0&&(e.push(function dhe(){return new $(3101,!1)}()),a=!0),a&&e.splice(l,0,nj())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Ey(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function dj(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function wc(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function ga(n,e,t){e.forEach((i,r)=>{const o=TM(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function rd(n,e){e.forEach((t,i)=>{const r=TM(i);n.style[r]=""})}function Cy(n){return Array.isArray(n)?1==n.length?n[0]:A3(n):n}const CM=new RegExp("{{\\s*(.+?)\\s*}}","g");function fj(n){let e=[];if("string"==typeof n){let t;for(;t=CM.exec(n);)e.push(t[1]);CM.lastIndex=0}return e}function Ty(n,e,t){const i=n.toString(),r=i.replace(CM,(o,s)=>{let a=e[s];return null==a&&(t.push(function fhe(n){return new $(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function LE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Jhe=/-+([a-z0-9])/g;function TM(n){return n.replace(Jhe,(...e)=>e[1].toUpperCase())}function To(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function phe(n){return new $(3004,!1)}()}}function pj(n,e){return window.getComputedStyle(n)[e]}const VE="*";function nfe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function ife(n,e,t){if(":"==n[0]){const l=function rfe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function She(n){return new $(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Dhe(n){return new $(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(mj(r,s));"<"==o[0]&&!(r==VE&&s==VE)&&e.push(mj(s,r))}(i,t,e)):t.push(n),t}const BE=new Set(["true","1"]),UE=new Set(["false","0"]);function mj(n,e){const t=BE.has(n)||UE.has(n),i=BE.has(e)||UE.has(e);return(r,o)=>{let s=n==VE||n==r,a=e==VE||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?BE.has(n):UE.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?BE.has(e):UE.has(e)),s&&a}}const ofe=new RegExp("s*:selfs*,?","g");function IM(n,e,t,i){return new sfe(n).build(e,t,i)}class sfe{constructor(e){this._driver=e}build(e,t,i){const r=new cfe(t);return this._resetContextStyleTimingState(r),To(this,Cy(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function ghe(){return new $(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function _he(){return new $(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{fj(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(LE(o.values()),t.errors.push(function yhe(n,e){return new $(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=To(this,Cy(e.animation),t);return{type:1,matchers:nfe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:od(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>To(this,i,t)),options:od(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=To(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:od(e.options)}}visitAnimate(e,t){const i=function dfe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return xM(FE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=xM(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=FE(t,e);return xM(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Yt({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Yt(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===$a?i.push(a):t.errors.push(new $(3002,!1)):i.push(dj(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(l);let m=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function bhe(n,e,t,i,r){return new $(3010,!1)}()),m=!1),o=h.startTime),m&&c.set(l,{startTime:o,endTime:r}),t.options&&function Xhe(n,e,t){const i=e.params||{},r=fj(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function hhe(n){return new $(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function whe(){return new $(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const h=e.steps.map(F=>{const O=this._makeStyleAst(F,t);let H=null!=O.offset?O.offset:function ufe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(O.styles),ne=0;return null!=H&&(o++,ne=O.offset=H),l=l||ne<0||ne>1,a=a||ne<c,c=ne,s.push(ne),O});l&&t.errors.push(function Ehe(){return new $(3012,!1)}()),a&&t.errors.push(function Che(){return new $(3200,!1)}());const m=e.steps.length;let y=0;o>0&&o<m?t.errors.push(function The(){return new $(3202,!1)}()):0==o&&(y=1/(m-1));const b=m-1,C=t.currentTime,T=t.currentAnimateTimings,D=T.duration;return h.forEach((F,O)=>{const H=y>0?O==b?1:y*O:s[O],ne=H*D;t.currentTime=C+T.delay+ne,T.duration=ne,this._validateStyleAst(F,t),F.offset=H,i.styles.push(F)}),i}visitReference(e,t){return{type:8,animation:To(this,Cy(e.animation),t),options:od(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:od(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:od(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function afe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ofe,"")),n=n.replace(/@\*/g,NE).replace(/@\w+/g,t=>NE+"-"+t.slice(1)).replace(/:animating/g,wM),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Co(t.collectedStyles,t.currentQuerySelector,new Map);const a=To(this,Cy(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:od(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ihe(){return new $(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:FE(e.timings,t.errors,!0);return{type:12,animation:To(this,Cy(e.animation),t),timings:i,options:null}}}class cfe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function od(n){return n?(n=Ey(n)).params&&(n.params=function lfe(n){return n?Ey(n):null}(n.params)):n={},n}function xM(n,e,t){return{duration:n,delay:e,easing:t}}function DM(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class jE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const pfe=new RegExp(":enter","g"),gfe=new RegExp(":leave","g");function SM(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new _fe).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class _fe{buildKeyframes(e,t,i,r,o,s,a,l,c,h=[]){c=c||new jE;const m=new AM(e,t,c,r,o,h,[]);m.options=l;const y=l.delay?el(l.delay):0;m.currentTimeline.delayNextStep(y),m.currentTimeline.setStyles([s],null,m.errors,l),To(this,i,m);const b=m.timelines.filter(C=>C.containsAnimation());if(b.length&&a.size){let C;for(let T=b.length-1;T>=0;T--){const D=b[T];if(D.element===t){C=D;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,m.errors,l)}return b.length?b.map(C=>C.buildKeyframes()):[DM(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:el(Ty(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?el(i.duration):null,a=null!=i.delay?el(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),To(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=HE);const s=el(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>To(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?el(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),To(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return FE(t.params?Ty(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?el(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=HE);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const m=t.createSubContext(e.options,c);o&&m.delayNextStep(o),c===t.element&&(l=m.currentTimeline),To(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const m=h.currentTime;To(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-m+(r.startTime-i.currentTimeline.startTime)}}const HE={};class AM{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=HE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new $E(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=el(i.duration)),null!=i.delay&&(r.delay=el(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ty(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new AM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=HE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new yfe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(pfe,"."+this._enterClassName)).replace(gfe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function xhe(n){return new $(3014,!1)}()),a}}class $E{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new $E(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||$a),this._currentKeyframe.set(t,$a);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function vfe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,$a)}else wc(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=Ty(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??$a),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=wc(a,new Map,this._backFill);c.forEach((h,m)=>{"!"===h?e.add(m):h===$a&&t.add(m)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?LE(e.values()):[],s=t.size?LE(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return DM(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class yfe extends $E{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=wc(e[0]);l.set("offset",0),o.push(l);const c=wc(e[0]);c.set("offset",yj(a)),o.push(c);const h=e.length-1;for(let m=1;m<=h;m++){let y=wc(e[m]);const b=y.get("offset");y.set("offset",yj((t+b*i)/s)),o.push(y)}i=s,t=0,r="",e=o}return DM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function yj(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class MM{}const bfe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wfe extends MM{normalizePropertyName(e,t){return TM(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(bfe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function mhe(n,e){return new $(3005,!1)}())}return s+o}}function vj(n,e,t,i,r,o,s,a,l,c,h,m,y){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:m,errors:y}}const kM={};class bj{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Efe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,h){const m=[],y=this.ast.options&&this.ast.options.params||kM,C=this.buildStyles(i,a&&a.params||kM,m),T=l&&l.params||kM,D=this.buildStyles(r,T,m),F=new Set,O=new Map,H=new Map,ne="void"===r,be={params:Cfe(T,y),delay:this.ast.options?.delay},Le=h?[]:SM(e,t,this.ast.animation,o,s,C,D,be,c,m);let Ke=0;if(Le.forEach(Pi=>{Ke=Math.max(Pi.duration+Pi.delay,Ke)}),m.length)return vj(t,this._triggerName,i,r,ne,C,D,[],[],O,H,Ke,m);Le.forEach(Pi=>{const gi=Pi.element,Ip=Co(O,gi,new Set);Pi.preStyleProps.forEach(hd=>Ip.add(hd));const Ny=Co(H,gi,new Set);Pi.postStyleProps.forEach(hd=>Ny.add(hd)),gi!==t&&F.add(gi)});const jt=LE(F.values());return vj(t,this._triggerName,i,r,ne,C,D,Le,jt,O,H,Ke)}}function Cfe(n,e){const t=Ey(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Tfe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Ey(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Ty(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class xfe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Tfe(r.style,r.options&&r.options.params||{},i))}),wj(this.states,"true","1"),wj(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new bj(e,r,this.states))}),this.fallbackTransition=function Dfe(n,e,t){return new bj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function wj(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Sfe=new jE;class Afe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=IM(this._driver,t,i,[]);if(i.length)throw function Rhe(n){return new $(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=ij(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=SM(this._driver,t,o,bM,RE,new Map,new Map,i,Sfe,r),s.forEach(h=>{const m=Co(a,h.element,new Map);h.postStyleProps.forEach(y=>m.set(y,null))})):(r.push(function Ohe(){return new $(3300,!1)}()),s=[]),r.length)throw function Nhe(n){return new $(3504,!1)}();a.forEach((h,m)=>{h.forEach((y,b)=>{h.set(b,this._driver.computeStyle(m,b,$a))})});const c=bc(s.map(h=>{const m=a.get(h.element);return this._buildPlayer(h,new Map,m)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Fhe(n){return new $(3301,!1)}();return t}listen(e,t,i,r){const o=_M(t,"","","");return mM(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Ej="ng-animate-queued",PM="ng-animate-disabled",Ofe=[],Cj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nfe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cs="__ng_removed";class RM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Bfe(n){return n??null}(i?e.value:e),i){const o=Ey(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Iy="void",OM=new RM(Iy);class Ffe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Jo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Lhe(n,e){return new $(3302,!1)}();if(null==i||0==i.length)throw function Vhe(n){return new $(3303,!1)}();if(!function Ufe(n){return"start"==n||"done"==n}(i))throw function Bhe(n,e){return new $(3400,!1)}();const o=Co(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Co(this._engine.statesByElement,e,new Map);return a.has(t)||(Jo(e,OE),Jo(e,OE+"-"+t),a.set(t,OM)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Uhe(n){return new $(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new NM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Jo(e,OE),Jo(e,OE+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new RM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=OM),c.value!==Iy&&l.value===c.value){if(!function $fe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const T=[],D=o.matchStyles(l.value,l.params,T),F=o.matchStyles(c.value,c.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{rd(e,D),ga(e,F)})}return}const y=Co(this._engine.playersByElement,e,[]);y.forEach(T=>{T.namespaceId==this.id&&T.triggerName==t&&T.queued&&T.destroy()});let b=o.matchTransition(l.value,c.value,e,c.params),C=!1;if(!b){if(!r)return;b=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:b,fromState:l,toState:c,player:s,isFallbackTransition:C}),C||(Jo(e,Ej),s.onStart(()=>{hp(e,Ej)})),s.onDone(()=>{let T=this.players.indexOf(s);T>=0&&this.players.splice(T,1);const D=this._engine.playersByElement.get(e);if(D){let F=D.indexOf(s);F>=0&&D.splice(F,1)}}),this.players.push(s),y.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,NE,!0);i.forEach(r=>{if(r[Cs])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const h=this.trigger(e,c,Iy,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&bc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||OM,h=new RM(Iy),m=new NM(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:h,player:m,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Cs];(!o||o===Cj)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Jo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=_M(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,mM(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Lfe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Ffe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(zE(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!zE(t))return;const o=t[Cs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Jo(e,PM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),hp(e,PM))}removeNode(e,t,i){if(zE(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Cs]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return zE(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,NE,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,wM,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return bc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Cs];if(t&&t.setForRemoval){if(e[Cs]=Cj,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(PM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Jo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?bc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function jhe(n){return new $(3402,!1)}()}_flushAnimations(e,t){const i=new jE,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(Be=>{h.add(Be);const $e=this.driver.query(Be,".ng-animate-queued",!0);for(let Xe=0;Xe<$e.length;Xe++)h.add($e[Xe])});const m=this.bodyNode,y=Array.from(this.statesByElement.keys()),b=xj(y,this.collectedEnterElements),C=new Map;let T=0;b.forEach((Be,$e)=>{const Xe=bM+T++;C.set($e,Xe),Be.forEach(Bt=>Jo(Bt,Xe))});const D=[],F=new Set,O=new Set;for(let Be=0;Be<this.collectedLeaveElements.length;Be++){const $e=this.collectedLeaveElements[Be],Xe=$e[Cs];Xe&&Xe.setForRemoval&&(D.push($e),F.add($e),Xe.hasAnimation?this.driver.query($e,".ng-star-inserted",!0).forEach(Bt=>F.add(Bt)):O.add($e))}const H=new Map,ne=xj(y,Array.from(F));ne.forEach((Be,$e)=>{const Xe=RE+T++;H.set($e,Xe),Be.forEach(Bt=>Jo(Bt,Xe))}),e.push(()=>{b.forEach((Be,$e)=>{const Xe=C.get($e);Be.forEach(Bt=>hp(Bt,Xe))}),ne.forEach((Be,$e)=>{const Xe=H.get($e);Be.forEach(Bt=>hp(Bt,Xe))}),D.forEach(Be=>{this.processLeaveNode(Be)})});const be=[],Le=[];for(let Be=this._namespaceList.length-1;Be>=0;Be--)this._namespaceList[Be].drainQueuedTransitions(t).forEach(Xe=>{const Bt=Xe.player,$i=Xe.element;if(be.push(Bt),this.collectedEnterElements.length){const xr=$i[Cs];if(xr&&xr.setForMove){if(xr.previousTriggersValues&&xr.previousTriggersValues.has(Xe.triggerName)){const fd=xr.previousTriggersValues.get(Xe.triggerName),is=this.statesByElement.get(Xe.element);if(is&&is.has(Xe.triggerName)){const dC=is.get(Xe.triggerName);dC.value=fd,is.set(Xe.triggerName,dC)}}return void Bt.destroy()}}const _a=!m||!this.driver.containsElement(m,$i),xo=H.get($i),xc=C.get($i),$n=this._buildInstruction(Xe,i,xc,xo,_a);if($n.errors&&$n.errors.length)return void Le.push($n);if(_a)return Bt.onStart(()=>rd($i,$n.fromStyles)),Bt.onDestroy(()=>ga($i,$n.toStyles)),void r.push(Bt);if(Xe.isFallbackTransition)return Bt.onStart(()=>rd($i,$n.fromStyles)),Bt.onDestroy(()=>ga($i,$n.toStyles)),void r.push(Bt);const pH=[];$n.timelines.forEach(xr=>{xr.stretchStartingKeyframe=!0,this.disabledNodes.has(xr.element)||pH.push(xr)}),$n.timelines=pH,i.append($i,$n.timelines),s.push({instruction:$n,player:Bt,element:$i}),$n.queriedElements.forEach(xr=>Co(a,xr,[]).push(Bt)),$n.preStyleProps.forEach((xr,fd)=>{if(xr.size){let is=l.get(fd);is||l.set(fd,is=new Set),xr.forEach((dC,ck)=>is.add(ck))}}),$n.postStyleProps.forEach((xr,fd)=>{let is=c.get(fd);is||c.set(fd,is=new Set),xr.forEach((dC,ck)=>is.add(ck))})});if(Le.length){const Be=[];Le.forEach($e=>{Be.push(function Hhe(n,e){return new $(3505,!1)}())}),be.forEach($e=>$e.destroy()),this.reportError(Be)}const Ke=new Map,jt=new Map;s.forEach(Be=>{const $e=Be.element;i.has($e)&&(jt.set($e,$e),this._beforeAnimationBuild(Be.player.namespaceId,Be.instruction,Ke))}),r.forEach(Be=>{const $e=Be.element;this._getPreviousPlayers($e,!1,Be.namespaceId,Be.triggerName,null).forEach(Bt=>{Co(Ke,$e,[]).push(Bt),Bt.destroy()})});const Pi=D.filter(Be=>Sj(Be,l,c)),gi=new Map;Ij(gi,this.driver,O,c,$a).forEach(Be=>{Sj(Be,l,c)&&Pi.push(Be)});const Ny=new Map;b.forEach((Be,$e)=>{Ij(Ny,this.driver,new Set(Be),l,"!")}),Pi.forEach(Be=>{const $e=gi.get(Be),Xe=Ny.get(Be);gi.set(Be,new Map([...$e?.entries()??[],...Xe?.entries()??[]]))});const hd=[],hH=[],fH={};s.forEach(Be=>{const{element:$e,player:Xe,instruction:Bt}=Be;if(i.has($e)){if(h.has($e))return Xe.onDestroy(()=>ga($e,Bt.toStyles)),Xe.disabled=!0,Xe.overrideTotalTime(Bt.totalTime),void r.push(Xe);let $i=fH;if(jt.size>1){let xo=$e;const xc=[];for(;xo=xo.parentNode;){const $n=jt.get(xo);if($n){$i=$n;break}xc.push(xo)}xc.forEach($n=>jt.set($n,$i))}const _a=this._buildAnimation(Xe.namespaceId,Bt,Ke,o,Ny,gi);if(Xe.setRealPlayer(_a),$i===fH)hd.push(Xe);else{const xo=this.playersByElement.get($i);xo&&xo.length&&(Xe.parentPlayer=bc(xo)),r.push(Xe)}}else rd($e,Bt.fromStyles),Xe.onDestroy(()=>ga($e,Bt.toStyles)),hH.push(Xe),h.has($e)&&r.push(Xe)}),hH.forEach(Be=>{const $e=o.get(Be.element);if($e&&$e.length){const Xe=bc($e);Be.setRealPlayer(Xe)}}),r.forEach(Be=>{Be.parentPlayer?Be.syncPlayerEvents(Be.parentPlayer):Be.destroy()});for(let Be=0;Be<D.length;Be++){const $e=D[Be],Xe=$e[Cs];if(hp($e,RE),Xe&&Xe.hasAnimation)continue;let Bt=[];if(a.size){let _a=a.get($e);_a&&_a.length&&Bt.push(..._a);let xo=this.driver.query($e,wM,!0);for(let xc=0;xc<xo.length;xc++){let $n=a.get(xo[xc]);$n&&$n.length&&Bt.push(...$n)}}const $i=Bt.filter(_a=>!_a.destroyed);$i.length?jfe(this,$e,$i):this.processLeaveNode($e)}return D.length=0,hd.forEach(Be=>{this.players.push(Be),Be.onDone(()=>{Be.destroy();const $e=this.players.indexOf(Be);this.players.splice($e,1)}),Be.play()}),hd}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Iy;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,h=c!==o,m=Co(i,c,[]);this._getPreviousPlayers(c,h,s,a,t.toState).forEach(b=>{const C=b.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),b.destroy(),m.push(b)})}rd(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],h=new Set,m=new Set,y=t.timelines.map(C=>{const T=C.element;h.add(T);const D=T[Cs];if(D&&D.removedBeforeQueried)return new t_(C.duration,C.delay);const F=T!==l,O=function Hfe(n){const e=[];return Dj(n,e),e}((i.get(T)||Ofe).map(Ke=>Ke.getRealPlayer())).filter(Ke=>!!Ke.element&&Ke.element===T),H=o.get(T),ne=s.get(T),be=ij(this._normalizer,C.keyframes,H,ne),Le=this._buildPlayer(C,be,O);if(C.subTimeline&&r&&m.add(T),F){const Ke=new NM(e,a,T);Ke.setRealPlayer(Le),c.push(Ke)}return Le});c.forEach(C=>{Co(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>function Vfe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,C.element,C))}),h.forEach(C=>Jo(C,uj));const b=bc(y);return b.onDestroy(()=>{h.forEach(C=>hp(C,uj)),ga(l,t.toStyles)}),m.forEach(C=>{Co(r,C,[]).push(b)}),b}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new t_(e.duration,e.delay)}}class NM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new t_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>mM(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Co(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function zE(n){return n&&1===n.nodeType}function Tj(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Ij(n,e,t,i,r){const o=[];t.forEach(l=>o.push(Tj(l)));const s=[];i.forEach((l,c)=>{const h=new Map;l.forEach(m=>{const y=e.computeStyle(c,m,r);h.set(m,y),(!y||0==y.length)&&(c[Cs]=Nfe,s.push(c))}),n.set(c,h)});let a=0;return t.forEach(l=>Tj(l,o[a++])),s}function xj(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function Jo(n,e){n.classList?.add(e)}function hp(n,e){n.classList?.remove(e)}function jfe(n,e,t){bc(t).onDone(()=>n.processLeaveNode(e))}function Dj(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof P3?Dj(i.players,e):e.push(i)}}function Sj(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class qE{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Lfe(e,t,i),this._timelineEngine=new Afe(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],h=IM(this._driver,o,l,[]);if(l.length)throw function khe(n,e){return new $(3404,!1)}();a=function Ife(n,e,t){return new xfe(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=rj(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=rj(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let qfe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ga(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ga(this._element,this._initialStyles),this._endStyles&&(ga(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),ga(this._element,this._initialStyles),this._state=3)}}return n})();function FM(n){let e=null;return n.forEach((t,i)=>{(function Gfe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Aj{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:pj(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Wfe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return sj(e,t)}getParentElement(e){return yM(e)}query(e,t,i){return aj(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,h=s.filter(b=>b instanceof Aj);(function efe(n,e){return 0===n||0===e})(i,r)&&h.forEach(b=>{b.currentSnapshot.forEach((C,T)=>c.set(T,C))});let m=function Qhe(n){return n.length?n[0]instanceof Map?n:n.map(e=>dj(e)):[]}(t).map(b=>wc(b));m=function tfe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,pj(n,a)))}}return e}(e,m,c);const y=function zfe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=FM(e[0]),e.length>1&&(i=FM(e[e.length-1]))):e instanceof Map&&(t=FM(e)),t||i?new qfe(n,t,i):null}(e,m);return new Aj(e,m,l,y)}}let Zfe=(()=>{class n extends D3{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:zn.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?A3(t):t;return Mj(this._renderer,null,i,"register",[r]),new Kfe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Qm),B(Rt))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();class Kfe extends Nte{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Yfe(this._id,e,t||{},this._renderer)}}class Yfe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Mj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Mj(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const kj="@.disabled";let Qfe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new Pj("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(s,a,t,h.name,h)};return i.data.animation.forEach(l),new Xfe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Qm),B(qE),B(Ze))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();class Pj{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==kj?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Xfe extends Pj{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==kj?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Jfe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function epe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let tpe=(()=>{class n extends qE{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Rt),B(vM),B(MM),B(Bl))};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac})}return n})();const Rj=[{provide:D3,useClass:Zfe},{provide:MM,useFactory:function npe(){return new wfe}},{provide:qE,useClass:tpe},{provide:Qm,useFactory:function ipe(n,e,t){return new Qfe(n,e,t)},deps:[PI,qE,Ze]}],LM=[{provide:vM,useFactory:()=>new Wfe},{provide:Zm,useValue:"BrowserAnimations"},...Rj],Oj=[{provide:vM,useClass:lj},{provide:Zm,useValue:"NoopAnimations"},...Rj];let rpe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Oj:LM}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n});static#n=this.\u0275inj=Ht({providers:LM,imports:[WF]})}return n})();class sd extends Error{}class ope extends sd{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class spe extends sd{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class ape extends sd{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class fp extends sd{}class Nj extends sd{constructor(e){super(`Invalid unit ${e}`)}}class ao extends sd{}class Ec extends sd{constructor(){super("Zone is an abstract class")}}const Se="numeric",Ts="short",Io="long",WE={year:Se,month:Se,day:Se},Fj={year:Se,month:Ts,day:Se},lpe={year:Se,month:Ts,day:Se,weekday:Ts},Lj={year:Se,month:Io,day:Se},Vj={year:Se,month:Io,day:Se,weekday:Io},Bj={hour:Se,minute:Se},Uj={hour:Se,minute:Se,second:Se},jj={hour:Se,minute:Se,second:Se,timeZoneName:Ts},Hj={hour:Se,minute:Se,second:Se,timeZoneName:Io},$j={hour:Se,minute:Se,hourCycle:"h23"},zj={hour:Se,minute:Se,second:Se,hourCycle:"h23"},qj={hour:Se,minute:Se,second:Se,hourCycle:"h23",timeZoneName:Ts},Gj={hour:Se,minute:Se,second:Se,hourCycle:"h23",timeZoneName:Io},Wj={year:Se,month:Se,day:Se,hour:Se,minute:Se},Zj={year:Se,month:Se,day:Se,hour:Se,minute:Se,second:Se},Kj={year:Se,month:Ts,day:Se,hour:Se,minute:Se},Yj={year:Se,month:Ts,day:Se,hour:Se,minute:Se,second:Se},cpe={year:Se,month:Ts,day:Se,weekday:Ts,hour:Se,minute:Se},Qj={year:Se,month:Io,day:Se,hour:Se,minute:Se,timeZoneName:Ts},Xj={year:Se,month:Io,day:Se,hour:Se,minute:Se,second:Se,timeZoneName:Ts},Jj={year:Se,month:Io,day:Se,weekday:Io,hour:Se,minute:Se,timeZoneName:Io},e8={year:Se,month:Io,day:Se,weekday:Io,hour:Se,minute:Se,second:Se,timeZoneName:Io};class xy{get type(){throw new Ec}get name(){throw new Ec}get ianaName(){return this.name}get isUniversal(){throw new Ec}offsetName(e,t){throw new Ec}formatOffset(e,t){throw new Ec}offset(e){throw new Ec}equals(e){throw new Ec}get isValid(){throw new Ec}}let VM=null;class ZE extends xy{static get instance(){return null===VM&&(VM=new ZE),VM}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return T8(e,t,i)}formatOffset(e,t){return My(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let KE={};const dpe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let YE={};class tl extends xy{static create(e){return YE[e]||(YE[e]=new tl(e)),YE[e]}static resetCache(){YE={},KE={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=tl.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return T8(e,t,i,this.name)}formatOffset(e,t){return My(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=function upe(n){return KE[n]||(KE[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),KE[n]}(this.name);let[r,o,s,a,l,c,h]=i.formatToParts?function fpe(n,e){const t=n.formatToParts(e),i=[];for(let r=0;r<t.length;r++){const{type:o,value:s}=t[r],a=dpe[o];"era"===o?i[a]=s:lt(a)||(i[a]=parseInt(s,10))}return i}(i,t):function hpe(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,o,s,a,l,c,h]=i;return[s,r,o,a,l,c,h]}(i,t);"BC"===a&&(r=1-Math.abs(r));let b=+t;const C=b%1e3;return b-=C>=0?C:1e3+C,(tC({year:r,month:o,day:s,hour:24===l?0:l,minute:c,second:h,millisecond:0})-b)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let t8={},BM={};function UM(n,e={}){const t=JSON.stringify([n,e]);let i=BM[t];return i||(i=new Intl.DateTimeFormat(n,e),BM[t]=i),i}let jM={},HM={},Dy=null,n8={};function QE(n,e,t,i){const r=n.listingMode();return"error"===r?null:"en"===r?t(e):i(e)}class Tpe{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:o,...s}=i;if(!t||Object.keys(s).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=function mpe(n,e={}){const t=JSON.stringify([n,e]);let i=jM[t];return i||(i=new Intl.NumberFormat(n,e),jM[t]=i),i}(e,a)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return mi(this.floor?Math.floor(e):KM(e,3),this.padTo)}}class Ipe{constructor(e,t,i){let r;if(this.opts=i,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const s=e.offset/60*-1,a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;0!==e.offset&&tl.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||r,this.dtf=UM(t,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if("timeZoneName"===t.type){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class xpe{constructor(e,t,i){this.opts={style:"long",...i},!t&&b8()&&(this.rtf=function gpe(n,e={}){const{base:t,...i}=e,r=JSON.stringify([n,i]);let o=HM[r];return o||(o=new Intl.RelativeTimeFormat(n,e),HM[r]=o),o}(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):function Gpe(n,e,t="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(n);if("auto"===t&&o){const m="days"===n;switch(e){case 1:return m?"tomorrow":`next ${r[n][0]}`;case-1:return m?"yesterday":`last ${r[n][0]}`;case 0:return m?"today":`this ${r[n][0]}`}}const s=Object.is(e,-0)||e<0,a=Math.abs(e),l=1===a,c=r[n],h=i?l?c[1]:c[2]||c[1]:l?r[n][0]:n;return s?`${a} ${h} ago`:`in ${a} ${h}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Dpe={firstDay:1,minimalDays:4,weekend:[6,7]};class sn{static fromOpts(e){return sn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,r,o=!1){const s=e||ii.defaultLocale,a=s||(o?"en-US":function _pe(){return Dy||(Dy=(new Intl.DateTimeFormat).resolvedOptions().locale,Dy)}()),l=t||ii.defaultNumberingSystem,c=i||ii.defaultOutputCalendar,h=WM(r)||ii.defaultWeekSettings;return new sn(a,l,c,h,s)}static resetCache(){Dy=null,BM={},jM={},HM={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i,weekSettings:r}={}){return sn.create(e,t,i,r)}constructor(e,t,i,r,o){const[s,a,l]=function vpe(n){const e=n.indexOf("-x-");-1!==e&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(-1===t)return[n];{let i,r;try{i=UM(n).resolvedOptions(),r=n}catch{const l=n.substring(0,t);i=UM(l).resolvedOptions(),r=l}const{numberingSystem:o,calendar:s}=i;return[r,o,s]}}(e);this.locale=s,this.numberingSystem=t||a||null,this.outputCalendar=i||l||null,this.weekSettings=r,this.intl=function bpe(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Cpe(n){return(!n.numberingSystem||"latn"===n.numberingSystem)&&("latn"===n.numberingSystem||!n.locale||n.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?sn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,WM(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return QE(this,e,D8,()=>{const i=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=function wpe(n){const e=[];for(let t=1;t<=12;t++){const i=st.utc(2009,t,1);e.push(n(i))}return e}(o=>this.extract(o,i,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1){return QE(this,e,M8,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function Epe(n){const e=[];for(let t=1;t<=7;t++){const i=st.utc(2016,11,13+t);e.push(n(i))}return e}(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return QE(this,void 0,()=>k8,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[st.utc(2016,11,13,9),st.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return QE(this,e,P8,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[st.utc(-40,1,1),st.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const s=this.dtFormatter(e,t).formatToParts().find(a=>a.type.toLowerCase()===i);return s?s.value:null}numberFormatter(e={}){return new Tpe(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Ipe(e,this.intl,t)}relFormatter(e={}){return new xpe(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function ppe(n,e={}){const t=JSON.stringify([n,e]);let i=t8[t];return i||(i=new Intl.ListFormat(n,e),t8[t]=i),i}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:w8()?function ype(n){let e=n8[n];if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,n8[n]=e}return e}(this.locale):Dpe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let $M=null;class Gr extends xy{static get utcInstance(){return null===$M&&($M=new Gr(0)),$M}static instance(e){return 0===e?Gr.utcInstance:new Gr(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Gr(nC(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${My(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${My(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return My(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class Spe extends xy{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Cc(n,e){if(lt(n)||null===n)return e;if(n instanceof xy)return n;if(function kpe(n){return"string"==typeof n}(n)){const i=n.toLowerCase();return"default"===i?e:"local"===i||"system"===i?ZE.instance:"utc"===i||"gmt"===i?Gr.utcInstance:Gr.parseSpecifier(i)||tl.create(n)}return ad(n)?Gr.instance(n):"object"==typeof n&&"offset"in n&&"function"==typeof n.offset?n:new Spe(n)}let c8,i8=()=>Date.now(),r8="system",o8=null,s8=null,a8=null,l8=60,u8=null;class ii{static get now(){return i8}static set now(e){i8=e}static set defaultZone(e){r8=e}static get defaultZone(){return Cc(r8,ZE.instance)}static get defaultLocale(){return o8}static set defaultLocale(e){o8=e}static get defaultNumberingSystem(){return s8}static set defaultNumberingSystem(e){s8=e}static get defaultOutputCalendar(){return a8}static set defaultOutputCalendar(e){a8=e}static get defaultWeekSettings(){return u8}static set defaultWeekSettings(e){u8=WM(e)}static get twoDigitCutoffYear(){return l8}static set twoDigitCutoffYear(e){l8=e%100}static get throwOnInvalid(){return c8}static set throwOnInvalid(e){c8=e}static resetCaches(){sn.resetCache(),tl.resetCache()}}class Is{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const d8=[0,31,59,90,120,151,181,212,243,273,304,334],h8=[0,31,60,91,121,152,182,213,244,274,305,335];function es(n,e){return new Is("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function zM(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return 0===r?7:r}function f8(n,e,t){return t+(Sy(n)?h8:d8)[e-1]}function p8(n,e){const t=Sy(n)?h8:d8,i=t.findIndex(o=>o<e);return{month:i+1,day:e-t[i]}}function qM(n,e){return(n-e+7)%7+1}function XE(n,e=4,t=1){const{year:i,month:r,day:o}=n,s=f8(i,r,o),a=qM(zM(i,r,o),t);let c,l=Math.floor((s-a+14-e)/7);return l<1?(c=i-1,l=Ay(c,e,t)):l>Ay(i,e,t)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...rC(n)}}function m8(n,e=4,t=1){const{weekYear:i,weekNumber:r,weekday:o}=n,s=qM(zM(i,1,e),t),a=mp(i);let c,l=7*r+o-s-7+e;l<1?(c=i-1,l+=mp(c)):l>a?(c=i+1,l-=mp(i)):c=i;const{month:h,day:m}=p8(c,l);return{year:c,month:h,day:m,...rC(n)}}function GM(n){const{year:e,month:t,day:i}=n;return{year:e,ordinal:f8(e,t,i),...rC(n)}}function g8(n){const{year:e,ordinal:t}=n,{month:i,day:r}=p8(e,t);return{year:e,month:i,day:r,...rC(n)}}function _8(n,e){if(lt(n.localWeekday)&&lt(n.localWeekNumber)&&lt(n.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!lt(n.weekday)||!lt(n.weekNumber)||!lt(n.weekYear))throw new fp("Cannot mix locale-based week fields with ISO-based week fields");return lt(n.localWeekday)||(n.weekday=n.localWeekday),lt(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),lt(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}function y8(n){const e=JE(n.year),t=ts(n.month,1,12),i=ts(n.day,1,eC(n.year,n.month));return e?t?!i&&es("day",n.day):es("month",n.month):es("year",n.year)}function v8(n){const{hour:e,minute:t,second:i,millisecond:r}=n,o=ts(e,0,23)||24===e&&0===t&&0===i&&0===r,s=ts(t,0,59),a=ts(i,0,59),l=ts(r,0,999);return o?s?a?!l&&es("millisecond",r):es("second",i):es("minute",t):es("hour",e)}function lt(n){return typeof n>"u"}function ad(n){return"number"==typeof n}function JE(n){return"number"==typeof n&&n%1==0}function b8(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function w8(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function E8(n,e,t){if(0!==n.length)return n.reduce((i,r)=>{const o=[e(r),r];return i&&t(i[0],o[0])===i[0]?i:o},null)[1]}function pp(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function WM(n){if(null==n)return null;if("object"!=typeof n)throw new ao("Week settings must be an object");if(!ts(n.firstDay,1,7)||!ts(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!ts(e,1,7)))throw new ao("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function ts(n,e,t){return JE(n)&&n>=e&&n<=t}function mi(n,e=2){let i;return i=n<0?"-"+(""+-n).padStart(e,"0"):(""+n).padStart(e,"0"),i}function Tc(n){if(!lt(n)&&null!==n&&""!==n)return parseInt(n,10)}function ld(n){if(!lt(n)&&null!==n&&""!==n)return parseFloat(n)}function ZM(n){if(!lt(n)&&null!==n&&""!==n){const e=1e3*parseFloat("0."+n);return Math.floor(e)}}function KM(n,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(n*i)/i}function Sy(n){return n%4==0&&(n%100!=0||n%400==0)}function mp(n){return Sy(n)?366:365}function eC(n,e){const t=function Npe(n,e){return n-e*Math.floor(n/e)}(e-1,12)+1;return 2===t?Sy(n+(e-t)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function tC(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function C8(n,e,t){return-qM(zM(n,1,e),t)+e-1}function Ay(n,e=4,t=1){const i=C8(n,e,t),r=C8(n+1,e,t);return(mp(n)-i+r)/7}function YM(n){return n>99?n:n>ii.twoDigitCutoffYear?1900+n:2e3+n}function T8(n,e,t,i=null){const r=new Date(n),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(o.timeZone=i);const s={timeZoneName:e,...o},a=new Intl.DateTimeFormat(t,s).formatToParts(r).find(l=>"timezonename"===l.type.toLowerCase());return a?a.value:null}function nC(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0;return 60*t+(t<0||Object.is(t,-0)?-i:i)}function I8(n){const e=Number(n);if("boolean"==typeof n||""===n||Number.isNaN(e))throw new ao(`Invalid unit value ${n}`);return e}function iC(n,e){const t={};for(const i in n)if(pp(n,i)){const r=n[i];if(null==r)continue;t[e(i)]=I8(r)}return t}function My(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return`${r}${mi(t,2)}:${mi(i,2)}`;case"narrow":return`${r}${t}${i>0?`:${i}`:""}`;case"techie":return`${r}${mi(t,2)}${mi(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function rC(n){return function Ope(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}(n,["hour","minute","second","millisecond"])}const Fpe=["January","February","March","April","May","June","July","August","September","October","November","December"],x8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Lpe=["J","F","M","A","M","J","J","A","S","O","N","D"];function D8(n){switch(n){case"narrow":return[...Lpe];case"short":return[...x8];case"long":return[...Fpe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const S8=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],A8=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Vpe=["M","T","W","T","F","S","S"];function M8(n){switch(n){case"narrow":return[...Vpe];case"short":return[...A8];case"long":return[...S8];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const k8=["AM","PM"],Bpe=["Before Christ","Anno Domini"],Upe=["BC","AD"],jpe=["B","A"];function P8(n){switch(n){case"narrow":return[...jpe];case"short":return[...Upe];case"long":return[...Bpe];default:return null}}function R8(n,e){let t="";for(const i of n)t+=i.literal?i.val:e(i.val);return t}const Wpe={D:WE,DD:Fj,DDD:Lj,DDDD:Vj,t:Bj,tt:Uj,ttt:jj,tttt:Hj,T:$j,TT:zj,TTT:qj,TTTT:Gj,f:Wj,ff:Kj,fff:Qj,ffff:Jj,F:Zj,FF:Yj,FFF:Xj,FFFF:e8};class Ir{static create(e,t={}){return new Ir(e,t)}static parseFormat(e){let t=null,i="",r=!1;const o=[];for(let s=0;s<e.length;s++){const a=e.charAt(s);"'"===a?(i.length>0&&o.push({literal:r||/^\s+$/.test(i),val:i}),t=null,i="",r=!r):r||a===t?i+=a:(i.length>0&&o.push({literal:/^\s+$/.test(i),val:i}),i=a,t=a)}return i.length>0&&o.push({literal:r||/^\s+$/.test(i),val:i}),o}static macroTokenToFormatOpts(e){return Wpe[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return mi(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=(b,C)=>this.loc.extract(e,b,C),s=b=>e.isOffsetFixed&&0===e.offset&&b.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,b.format):"",l=(b,C)=>i?function zpe(n,e){return D8(e)[n.month-1]}(e,b):o(C?{month:b}:{month:b,day:"numeric"},"month"),c=(b,C)=>i?function $pe(n,e){return M8(e)[n.weekday-1]}(e,b):o(C?{weekday:b}:{weekday:b,month:"long",day:"numeric"},"weekday"),h=b=>{const C=Ir.macroTokenToFormatOpts(b);return C?this.formatWithSystemDefault(e,C):b},m=b=>i?function qpe(n,e){return P8(e)[n.year<0?0:1]}(e,b):o({era:b},"era");return R8(Ir.parseFormat(t),b=>{switch(b){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return i?function Hpe(n){return k8[n.hour<12?0:1]}(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return r?o({day:"numeric"},"day"):this.num(e.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(e.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(e.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return h(b)}})}formatDurationFromString(e,t){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=Ir.parseFormat(t),s=o.reduce((l,{literal:c,val:h})=>c?l:l.concat(h),[]);return R8(o,(l=>c=>{const h=i(c);return h?this.num(l.get(h),c.length):c})(e.shiftTo(...s.map(i).filter(l=>l))))}}const O8=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function gp(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp(`^${e}$`)}function _p(...n){return e=>n.reduce(([t,i,r],o)=>{const[s,a,l]=o(e,r);return[{...t,...s},a||i,l]},[{},null,1]).slice(0,2)}function yp(n,...e){if(null==n)return[null,null];for(const[t,i]of e){const r=t.exec(n);if(r)return i(r)}return[null,null]}function N8(...n){return(e,t)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=Tc(e[t+r]);return[i,null,t+r]}}const F8=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,QM=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,L8=RegExp(`${QM.source}(?:${F8.source}?(?:\\[(${O8.source})\\])?)?`),XM=RegExp(`(?:T${L8.source})?`),Xpe=N8("weekYear","weekNumber","weekDay"),Jpe=N8("year","ordinal"),V8=RegExp(`${QM.source} ?(?:${F8.source}|(${O8.source}))?`),tme=RegExp(`(?: ${V8.source})?`);function vp(n,e,t){const i=n[e];return lt(i)?t:Tc(i)}function bp(n,e){return[{hours:vp(n,e,0),minutes:vp(n,e+1,0),seconds:vp(n,e+2,0),milliseconds:ZM(n[e+3])},null,e+4]}function ky(n,e){const t=!n[e]&&!n[e+1],i=nC(n[e+1],n[e+2]);return[{},t?null:Gr.instance(i),e+3]}function Py(n,e){return[{},n[e]?tl.create(n[e]):null,e+1]}const ime=RegExp(`^T?${QM.source}$`),rme=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ome(n){const[e,t,i,r,o,s,a,l,c]=n,h="-"===e[0],m=l&&"-"===l[0],y=(b,C=!1)=>void 0!==b&&(C||b&&h)?-b:b;return[{years:y(ld(t)),months:y(ld(i)),weeks:y(ld(r)),days:y(ld(o)),hours:y(ld(s)),minutes:y(ld(a)),seconds:y(ld(l),"-0"===l),milliseconds:y(ZM(c),m)}]}const sme={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function JM(n,e,t,i,r,o,s){const a={year:2===e.length?YM(Tc(e)):Tc(e),month:x8.indexOf(t)+1,day:Tc(i),hour:Tc(r),minute:Tc(o)};return s&&(a.second=Tc(s)),n&&(a.weekday=n.length>3?S8.indexOf(n)+1:A8.indexOf(n)+1),a}const ame=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function lme(n){const[,e,t,i,r,o,s,a,l,c,h,m]=n,y=JM(e,r,i,t,o,s,a);let b;return b=l?sme[l]:c?0:nC(h,m),[y,new Gr(b)]}const ume=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,dme=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,hme=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function B8(n){const[,e,t,i,r,o,s,a]=n;return[JM(e,r,i,t,o,s,a),Gr.utcInstance]}function fme(n){const[,e,t,i,r,o,s,a]=n;return[JM(e,a,t,i,r,o,s),Gr.utcInstance]}const pme=gp(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,XM),mme=gp(/(\d{4})-?W(\d\d)(?:-?(\d))?/,XM),gme=gp(/(\d{4})-?(\d{3})/,XM),_me=gp(L8),U8=_p(function nme(n,e){return[{year:vp(n,e),month:vp(n,e+1,1),day:vp(n,e+2,1)},null,e+3]},bp,ky,Py),yme=_p(Xpe,bp,ky,Py),vme=_p(Jpe,bp,ky,Py),bme=_p(bp,ky,Py),Ime=_p(bp),Dme=gp(/(\d{4})-(\d\d)-(\d\d)/,tme),Sme=gp(V8),Ame=_p(bp,ky,Py),j8="Invalid Duration",H8={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},kme={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...H8},ns=365.2425,wp=30.436875,Pme={years:{quarters:4,months:12,weeks:ns/7,days:ns,hours:24*ns,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:ns/28,days:ns/4,hours:24*ns/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:wp/7,days:wp,hours:24*wp,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...H8},cd=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Rme=cd.slice(0).reverse();function Ic(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Vt(i)}function $8(n,e){let t=e.milliseconds??0;for(const i of Rme.slice(1))e[i]&&(t+=e[i]*n[i].milliseconds);return t}function z8(n,e){const t=$8(n,e)<0?-1:1;cd.reduceRight((i,r)=>{if(lt(e[r]))return i;if(i){const s=n[r][i],a=Math.floor(e[i]*t/s);e[r]+=a*t,e[i]-=a*s*t}return r},null),cd.reduce((i,r)=>{if(lt(e[r]))return i;if(i){const o=e[i]%1;e[i]-=o,e[r]+=o*n[i][r]}return r},null)}class Vt{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let i=t?Pme:kme;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||sn.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Vt.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new ao("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new Vt({values:iC(e,Vt.normalizeUnit),loc:sn.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(ad(e))return Vt.fromMillis(e);if(Vt.isDuration(e))return e;if("object"==typeof e)return Vt.fromObject(e);throw new ao(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=function Tme(n){return yp(n,[rme,ome])}(e);return i?Vt.fromObject(i,t):Vt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=function xme(n){return yp(n,[ime,Ime])}(e);return i?Vt.fromObject(i,t):Vt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new ao("need to specify a reason the Duration is invalid");const i=e instanceof Is?e:new Is(e,t);if(ii.throwOnInvalid)throw new ape(i);return new Vt({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Nj(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?Ir.create(this.loc,i).formatDurationFromString(this,e):j8}toHuman(e={}){if(!this.isValid)return j8;const t=cd.map(i=>{const r=this.values[i];return lt(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(e+=KM(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},st.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?$8(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Vt.fromDurationLike(e),i={};for(const r of cd)(pp(t.values,r)||pp(this.values,r))&&(i[r]=t.get(r)+this.get(r));return Ic(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Vt.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=I8(e(this.values[i],i));return Ic(this,{values:t},!0)}get(e){return this[Vt.normalizeUnit(e)]}set(e){return this.isValid?Ic(this,{values:{...this.values,...iC(e,Vt.normalizeUnit)}}):this}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){return Ic(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return z8(this.matrix,e),Ic(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=function Ome(n){const e={};for(const[t,i]of Object.entries(n))0!==i&&(e[t]=i);return e}(this.normalize().shiftToAll().toObject());return Ic(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map(s=>Vt.normalizeUnit(s));const t={},i={},r=this.toObject();let o;for(const s of cd)if(e.indexOf(s)>=0){o=s;let a=0;for(const c in i)a+=this.matrix[c][s]*i[c],i[c]=0;ad(r[s])&&(a+=r[s]);const l=Math.trunc(a);t[s]=l,i[s]=(1e3*a-1e3*l)/1e3}else ad(r[s])&&(i[s]=r[s]);for(const s in i)0!==i[s]&&(t[o]+=s===o?i[s]:i[s]/this.matrix[o][s]);return z8(this.matrix,t),Ic(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return Ic(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,r){return void 0===i||0===i?void 0===r||0===r:i===r}for(const i of cd)if(!t(this.values[i],e.values[i]))return!1;return!0}}const Ep="Invalid Interval";class Kn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new ao("need to specify a reason the Interval is invalid");const i=e instanceof Is?e:new Is(e,t);if(ii.throwOnInvalid)throw new spe(i);return new Kn({invalid:i})}static fromDateTimes(e,t){const i=Oy(e),r=Oy(t),o=function Nme(n,e){return n&&n.isValid?e&&e.isValid?e<n?Kn.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null:Kn.invalid("missing or invalid end"):Kn.invalid("missing or invalid start")}(i,r);return o??new Kn({start:i,end:r})}static after(e,t){const i=Vt.fromDurationLike(t),r=Oy(e);return Kn.fromDateTimes(r,r.plus(i))}static before(e,t){const i=Vt.fromDurationLike(t),r=Oy(e);return Kn.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let o,s,a,l;try{o=st.fromISO(i,t),s=o.isValid}catch{s=!1}try{a=st.fromISO(r,t),l=a.isValid}catch{l=!1}if(s&&l)return Kn.fromDateTimes(o,a);if(s){const c=Vt.fromISO(r,t);if(c.isValid)return Kn.after(o,c)}else if(l){const c=Vt.fromISO(i,t);if(c.isValid)return Kn.before(a,c)}}return Kn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let r;return r=t?.useLocaleWeeks?this.end.reconfigure({locale:i.locale}):this.end,r=r.startOf(e,t),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set({start:e,end:t}={}){return this.isValid?Kn.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Oy).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),i=[];let{s:r}=this,o=0;for(;r<this.e;){const s=t[o]||this.e,a=+s>+this.e?this.e:s;i.push(Kn.fromDateTimes(r,a)),r=a,o+=1}return i}splitBy(e){const t=Vt.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let o,{s:i}=this,r=1;const s=[];for(;i<this.e;){const a=this.start.plus(t.mapUnits(l=>l*r));o=+a>+this.e?this.e:a,s.push(Kn.fromDateTimes(i,o)),i=o,r+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:Kn.fromDateTimes(t,i)}union(e){return this.isValid?Kn.fromDateTimes(this.s<e.s?this.s:e.s,this.e>e.e?this.e:e.e):this}static merge(e){const[t,i]=e.sort((r,o)=>r.s-o.s).reduce(([r,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[r,o.union(s)]:[r.concat([o]),s]:[r,s],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],o=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...o).sort((l,c)=>l.time-c.time);for(const l of a)i+="s"===l.type?1:-1,1===i?t=l.time:(t&&+t!=+l.time&&r.push(Kn.fromDateTimes(t,l.time)),t=null);return Kn.merge(r)}difference(...e){return Kn.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Ep}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=WE,t={}){return this.isValid?Ir.create(this.s.loc.clone(t),e).formatInterval(this):Ep}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Ep}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ep}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Ep}toFormat(e,{separator:t=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Ep}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Vt.invalid(this.invalidReason)}mapEndpoints(e){return Kn.fromDateTimes(e(this.s),e(this.e))}}class oC{static hasDST(e=ii.defaultZone){const t=st.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return tl.isValidZone(e)}static normalizeZone(e){return Cc(e,ii.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||sn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||sn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||sn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||sn.create(t,i,o)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||sn.create(t,i,o)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||sn.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||sn.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return sn.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return sn.create(t,null,"gregory").eras(e)}static features(){return{relative:b8(),localeWeek:w8()}}}function q8(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(Vt.fromMillis(i).as("days"))}const ek={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},G8={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Vme=ek.hanidec.replace(/[\[|\]]/g,"").split("");function xs({numberingSystem:n},e=""){return new RegExp(`${ek[n||"latn"]}${e}`)}function Gt(n,e=(t=>t)){return{regex:n,deser:([t])=>e(function Bme(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(-1!==n[t].search(ek.hanidec))e+=Vme.indexOf(n[t]);else for(const r in G8){const[o,s]=G8[r];i>=o&&i<=s&&(e+=i-o)}}return parseInt(e,10)}return e}(t))}}const W8=`[ ${String.fromCharCode(160)}]`,Z8=new RegExp(W8,"g");function jme(n){return n.replace(/\./g,"\\.?").replace(Z8,W8)}function K8(n){return n.replace(/\./g,"").replace(Z8," ").toLowerCase()}function Ds(n,e){return null===n?null:{regex:RegExp(n.map(jme).join("|")),deser:([t])=>n.findIndex(i=>K8(t)===K8(i))+e}}function Y8(n,e){return{regex:n,deser:([,t,i])=>nC(t,i),groups:e}}function sC(n){return{regex:n,deser:([e])=>e}}function Hme(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const zme={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let tk=null;function Q8(n,e){return Array.prototype.concat(...n.map(t=>function Yme(n,e){if(n.literal)return n;const i=J8(Ir.macroTokenToFormatOpts(n.val),e);return null==i||i.includes(void 0)?n:i}(t,e)))}function X8(n,e,t){const i=Q8(Ir.parseFormat(t),n),r=i.map(s=>function $me(n,e){const t=xs(e),i=xs(e,"{2}"),r=xs(e,"{3}"),o=xs(e,"{4}"),s=xs(e,"{6}"),a=xs(e,"{1,2}"),l=xs(e,"{1,3}"),c=xs(e,"{1,6}"),h=xs(e,"{1,9}"),m=xs(e,"{2,4}"),y=xs(e,"{4,6}"),b=D=>({regex:RegExp(Hme(D.val)),deser:([F])=>F,literal:!0}),T=(D=>{if(n.literal)return b(D);switch(D.val){case"G":return Ds(e.eras("short"),0);case"GG":return Ds(e.eras("long"),0);case"y":return Gt(c);case"yy":case"kk":return Gt(m,YM);case"yyyy":case"kkkk":return Gt(o);case"yyyyy":return Gt(y);case"yyyyyy":return Gt(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Gt(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Gt(i);case"MMM":return Ds(e.months("short",!0),1);case"MMMM":return Ds(e.months("long",!0),1);case"LLL":return Ds(e.months("short",!1),1);case"LLLL":return Ds(e.months("long",!1),1);case"o":case"S":return Gt(l);case"ooo":case"SSS":return Gt(r);case"u":return sC(h);case"uu":return sC(a);case"uuu":case"E":case"c":return Gt(t);case"a":return Ds(e.meridiems(),0);case"EEE":return Ds(e.weekdays("short",!1),1);case"EEEE":return Ds(e.weekdays("long",!1),1);case"ccc":return Ds(e.weekdays("short",!0),1);case"cccc":return Ds(e.weekdays("long",!0),1);case"Z":case"ZZ":return Y8(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return Y8(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return sC(/[a-z_+-/]{1,256}?/i);case" ":return sC(/[^\S\n\r]/);default:return b(D)}})(n)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return T.token=n,T}(s,n)),o=r.find(s=>s.invalidReason);if(o)return{input:e,tokens:i,invalidReason:o.invalidReason};{const[s,a]=function Gme(n){return[`^${n.map(t=>t.regex).reduce((t,i)=>`${t}(${i.source})`,"")}$`,n]}(r),l=RegExp(s,"i"),[c,h]=function Wme(n,e,t){const i=n.match(e);if(i){const r={};let o=1;for(const s in t)if(pp(t,s)){const a=t[s],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(o,o+l))),o+=l}return[i,r]}return[i,{}]}(e,l,a),[m,y,b]=h?function Zme(n){let i,t=null;return lt(n.z)||(t=tl.create(n.z)),lt(n.Z)||(t||(t=new Gr(n.Z)),i=n.Z),lt(n.q)||(n.M=3*(n.q-1)+1),lt(n.h)||(n.h<12&&1===n.a?n.h+=12:12===n.h&&0===n.a&&(n.h=0)),0===n.G&&n.y&&(n.y=-n.y),lt(n.u)||(n.S=ZM(n.u)),[Object.keys(n).reduce((o,s)=>{const a=(o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(s);return a&&(o[a]=n[s]),o},{}),t,i]}(h):[null,null,void 0];if(pp(h,"a")&&pp(h,"H"))throw new fp("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:l,rawMatches:c,matches:h,result:m,zone:y,specificOffset:b}}}function J8(n,e){if(!n)return null;const i=Ir.create(e,n).dtFormatter(function Kme(){return tk||(tk=st.fromMillis(1555555555555)),tk}()),r=i.formatToParts(),o=i.resolvedOptions();return r.map(s=>function qme(n,e,t){const{type:i,value:r}=n;if("literal"===i){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}let s=i;"hour"===i&&(s=null!=e.hour12?e.hour12?"hour12":"hour24":null!=e.hourCycle?"h11"===e.hourCycle||"h12"===e.hourCycle?"hour12":"hour24":t.hour12?"hour12":"hour24");let a=zme[s];if("object"==typeof a&&(a=a[e[i]]),a)return{literal:!1,val:a}}(s,n,o))}const nk="Invalid DateTime",eH=864e13;function aC(n){return new Is("unsupported zone",`the zone "${n.name}" is not supported`)}function ik(n){return null===n.weekData&&(n.weekData=XE(n.c)),n.weekData}function rk(n){return null===n.localWeekData&&(n.localWeekData=XE(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function ud(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new st({...t,...e,old:t})}function tH(n,e,t){let i=n-60*e*1e3;const r=t.offset(i);if(e===r)return[i,e];i-=60*(r-e)*1e3;const o=t.offset(i);return r===o?[i,r]:[n-60*Math.min(r,o)*1e3,Math.max(r,o)]}function lC(n,e){const t=new Date(n+=60*e*1e3);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function cC(n,e,t){return tH(tC(n),e,t)}function nH(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+3*Math.trunc(e.quarters),o={...n.c,year:i,month:r,day:Math.min(n.c.day,eC(i,r))+Math.trunc(e.days)+7*Math.trunc(e.weeks)},s=Vt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=tC(o);let[l,c]=tH(a,t,n.zone);return 0!==s&&(l+=s,c=n.zone.offset(l)),{ts:l,o:c}}function Ry(n,e,t,i,r,o){const{setZone:s,zone:a}=t;if(n&&0!==Object.keys(n).length||e){const l=e||a,c=st.fromObject(n,{...t,zone:l,specificOffset:o});return s?c:c.setZone(a)}return st.invalid(new Is("unparsable",`the input "${r}" can't be parsed as ${i}`))}function uC(n,e,t=!0){return n.isValid?Ir.create(sn.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function ok(n,e){const t=n.c.year>9999||n.c.year<0;let i="";return t&&n.c.year>=0&&(i+="+"),i+=mi(n.c.year,t?6:4),e?(i+="-",i+=mi(n.c.month),i+="-",i+=mi(n.c.day)):(i+=mi(n.c.month),i+=mi(n.c.day)),i}function iH(n,e,t,i,r,o){let s=mi(n.c.hour);return e?(s+=":",s+=mi(n.c.minute),(0!==n.c.millisecond||0!==n.c.second||!t)&&(s+=":")):s+=mi(n.c.minute),(0!==n.c.millisecond||0!==n.c.second||!t)&&(s+=mi(n.c.second),(0!==n.c.millisecond||!i)&&(s+=".",s+=mi(n.c.millisecond,3))),r&&(n.isOffsetFixed&&0===n.offset&&!o?s+="Z":n.o<0?(s+="-",s+=mi(Math.trunc(-n.o/60)),s+=":",s+=mi(Math.trunc(-n.o%60))):(s+="+",s+=mi(Math.trunc(n.o/60)),s+=":",s+=mi(Math.trunc(n.o%60)))),o&&(s+="["+n.zone.ianaName+"]"),s}const rH={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Xme={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Jme={ordinal:1,hour:0,minute:0,second:0,millisecond:0},oH=["year","month","day","hour","minute","second","millisecond"],ege=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],tge=["year","ordinal","hour","minute","second","millisecond"];function sH(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function nge(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new Nj(n);return e}(n)}}function aH(n,e){const t=Cc(e.zone,ii.defaultZone),i=sn.fromObject(e),r=ii.now();let o,s;if(lt(n.year))o=r;else{for(const c of oH)lt(n[c])&&(n[c]=rH[c]);const a=y8(n)||v8(n);if(a)return st.invalid(a);const l=t.offset(r);[o,s]=cC(n,l,t)}return new st({ts:o,zone:t,loc:i,o:s})}function lH(n,e,t){const i=!!lt(t.round)||t.round,r=(s,a)=>(s=KM(s,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(s,a)),o=s=>t.calendary?e.hasSame(n,s)?0:e.startOf(s).diff(n.startOf(s),s).get(s):e.diff(n,s).get(s);if(t.unit)return r(o(t.unit),t.unit);for(const s of t.units){const a=o(s);if(Math.abs(a)>=1)return r(a,s)}return r(n>e?-0:0,t.units[t.units.length-1])}function cH(n){let t,e={};return n.length>0&&"object"==typeof n[n.length-1]?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class st{constructor(e){const t=e.zone||ii.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Is("invalid input"):null)||(t.isValid?null:aC(t));this.ts=lt(e.ts)?ii.now():e.ts;let r=null,o=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,o]=[e.old.c,e.old.o];else{const a=t.offset(this.ts);r=lC(this.ts,a),i=Number.isNaN(r.year)?new Is("invalid input"):null,r=i?null:r,o=i?null:a}this._zone=t,this.loc=e.loc||sn.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new st({})}static local(){const[e,t]=cH(arguments),[i,r,o,s,a,l,c]=t;return aH({year:i,month:r,day:o,hour:s,minute:a,second:l,millisecond:c},e)}static utc(){const[e,t]=cH(arguments),[i,r,o,s,a,l,c]=t;return e.zone=Gr.utcInstance,aH({year:i,month:r,day:o,hour:s,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,t={}){const i=function Ppe(n){return"[object Date]"===Object.prototype.toString.call(n)}(e)?e.valueOf():NaN;if(Number.isNaN(i))return st.invalid("invalid input");const r=Cc(t.zone,ii.defaultZone);return r.isValid?new st({ts:i,zone:r,loc:sn.fromObject(t)}):st.invalid(aC(r))}static fromMillis(e,t={}){if(ad(e))return e<-eH||e>eH?st.invalid("Timestamp out of range"):new st({ts:e,zone:Cc(t.zone,ii.defaultZone),loc:sn.fromObject(t)});throw new ao(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(ad(e))return new st({ts:1e3*e,zone:Cc(t.zone,ii.defaultZone),loc:sn.fromObject(t)});throw new ao("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=Cc(t.zone,ii.defaultZone);if(!i.isValid)return st.invalid(aC(i));const r=sn.fromObject(t),o=iC(e,sH),{minDaysInFirstWeek:s,startOfWeek:a}=_8(o,r),l=ii.now(),c=lt(t.specificOffset)?i.offset(l):t.specificOffset,h=!lt(o.ordinal),m=!lt(o.year),y=!lt(o.month)||!lt(o.day),b=m||y,C=o.weekYear||o.weekNumber;if((b||h)&&C)throw new fp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(y&&h)throw new fp("Can't mix ordinal dates with month/day");const T=C||o.weekday&&!b;let D,F,O=lC(l,c);T?(D=ege,F=Xme,O=XE(O,s,a)):h?(D=tge,F=Jme,O=GM(O)):(D=oH,F=rH);let H=!1;for(const gi of D)lt(o[gi])?o[gi]=H?F[gi]:O[gi]:H=!0;const ne=T?function Ape(n,e=4,t=1){const i=JE(n.weekYear),r=ts(n.weekNumber,1,Ay(n.weekYear,e,t)),o=ts(n.weekday,1,7);return i?r?!o&&es("weekday",n.weekday):es("week",n.weekNumber):es("weekYear",n.weekYear)}(o,s,a):h?function Mpe(n){const e=JE(n.year),t=ts(n.ordinal,1,mp(n.year));return e?!t&&es("ordinal",n.ordinal):es("year",n.year)}(o):y8(o),be=ne||v8(o);if(be)return st.invalid(be);const Le=T?m8(o,s,a):h?g8(o):o,[Ke,jt]=cC(Le,c,i),Pi=new st({ts:Ke,zone:i,o:jt,loc:r});return o.weekday&&b&&e.weekday!==Pi.weekday?st.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${Pi.toISO()}`):Pi}static fromISO(e,t={}){const[i,r]=function wme(n){return yp(n,[pme,U8],[mme,yme],[gme,vme],[_me,bme])}(e);return Ry(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=function Eme(n){return yp(function cme(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n),[ame,lme])}(e);return Ry(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=function Cme(n){return yp(n,[ume,B8],[dme,B8],[hme,fme])}(e);return Ry(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(lt(e)||lt(t))throw new ao("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:o=null}=i,s=sn.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[a,l,c,h]=function Qme(n,e,t){const{result:i,zone:r,specificOffset:o,invalidReason:s}=X8(n,e,t);return[i,r,o,s]}(s,e,t);return h?st.invalid(h):Ry(a,l,i,`format ${t}`,e,c)}static fromString(e,t,i={}){return st.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=function Mme(n){return yp(n,[Dme,U8],[Sme,Ame])}(e);return Ry(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new ao("need to specify a reason the DateTime is invalid");const i=e instanceof Is?e:new Is(e,t);if(ii.throwOnInvalid)throw new ope(i);return new st({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=J8(e,sn.fromObject(t));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return Q8(Ir.parseFormat(e),sn.fromObject(t)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ik(this).weekYear:NaN}get weekNumber(){return this.isValid?ik(this).weekNumber:NaN}get weekday(){return this.isValid?ik(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?rk(this).weekday:NaN}get localWeekNumber(){return this.isValid?rk(this).weekNumber:NaN}get localWeekYear(){return this.isValid?rk(this).weekYear:NaN}get ordinal(){return this.isValid?GM(this.c).ordinal:NaN}get monthShort(){return this.isValid?oC.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?oC.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?oC.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?oC.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=tC(this.c),r=this.zone.offset(i-e),o=this.zone.offset(i+e),s=this.zone.offset(i-r*t),a=this.zone.offset(i-o*t);if(s===a)return[this];const l=i-s*t,c=i-a*t,h=lC(l,s),m=lC(c,a);return h.hour===m.hour&&h.minute===m.minute&&h.second===m.second&&h.millisecond===m.millisecond?[ud(this,{ts:l}),ud(this,{ts:c})]:[this]}get isInLeapYear(){return Sy(this.year)}get daysInMonth(){return eC(this.year,this.month)}get daysInYear(){return this.isValid?mp(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ay(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ay(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=Ir.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(Gr.instance(e),t)}toLocal(){return this.setZone(ii.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if((e=Cc(e,ii.defaultZone)).equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const o=e.offset(this.ts),s=this.toObject();[r]=cC(s,o,e)}return ud(this,{ts:r,zone:e})}return st.invalid(aC(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){return ud(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=iC(e,sH),{minDaysInFirstWeek:i,startOfWeek:r}=_8(t,this.loc),o=!lt(t.weekYear)||!lt(t.weekNumber)||!lt(t.weekday),s=!lt(t.ordinal),a=!lt(t.year),l=!lt(t.month)||!lt(t.day);if((a||l||s)&&(t.weekYear||t.weekNumber))throw new fp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new fp("Can't mix ordinal dates with month/day");let m;o?m=m8({...XE(this.c,i,r),...t},i,r):lt(t.ordinal)?(m={...this.toObject(),...t},lt(t.day)&&(m.day=Math.min(eC(m.year,m.month),m.day))):m=g8({...GM(this.c),...t});const[y,b]=cC(m,this.o,this.zone);return ud(this,{ts:y,o:b})}plus(e){return this.isValid?ud(this,nH(this,Vt.fromDurationLike(e))):this}minus(e){return this.isValid?ud(this,nH(this,Vt.fromDurationLike(e).negate())):this}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const i={},r=Vt.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0}if("weeks"===r)if(t){const o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(i.weekNumber=this.weekNumber-1),i.weekday=o}else i.weekday=1;if("quarters"===r){const o=Math.ceil(this.month/3);i.month=3*(o-1)+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Ir.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):nk}toLocaleString(e=WE,t={}){return this.isValid?Ir.create(this.loc.clone(t),e).formatDateTime(this):nk}toLocaleParts(e={}){return this.isValid?Ir.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const s="extended"===e;let a=ok(this,s);return a+="T",a+=iH(this,s,t,i,r,o),a}toISODate({format:e="extended"}={}){return this.isValid?ok(this,"extended"===e):null}toISOWeekDate(){return uC(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(r?"T":"")+iH(this,"extended"===s,t,e,i,o):null}toRFC2822(){return uC(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return uC(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ok(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),uC(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():nk}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Vt.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},o=function Rpe(n){return Array.isArray(n)?n:[n]}(t).map(Vt.normalizeUnit),s=e.valueOf()>this.valueOf(),c=function Lme(n,e,t,i){let[r,o,s,a]=function Fme(n,e,t){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+4*(c.year-l.year)],["months",(l,c)=>c.month-l.month+12*(c.year-l.year)],["weeks",(l,c)=>{const h=q8(l,c);return(h-h%7)/7}],["days",q8]],r={},o=n;let s,a;for(const[l,c]of i)t.indexOf(l)>=0&&(s=l,r[l]=c(n,e),a=o.plus(r),a>e?(r[l]--,(n=o.plus(r))>e&&(a=n,r[l]--,n=o.plus(r))):n=a);return[n,r,a,s]}(n,e,t);const l=e-r,c=t.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);0===c.length&&(s<e&&(s=r.plus({[a]:1})),s!==r&&(o[a]=(o[a]||0)+l/(s-r)));const h=Vt.fromObject(o,i);return c.length>0?Vt.fromMillis(l,i).shiftTo(...c).plus(h):h}(s?this:e,s?e:this,o,r);return s?c.negate():c}diffNow(e="milliseconds",t={}){return this.diff(st.now(),e,t)}until(e){return this.isValid?Kn.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const r=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,i)<=r&&r<=o.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||st.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(r=e.unit,o=void 0),lH(t,this.plus(i),{...e,numeric:"always",units:r,unit:o})}toRelativeCalendar(e={}){return this.isValid?lH(e.base||st.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(st.isDateTime))throw new ao("min requires all arguments be DateTimes");return E8(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(st.isDateTime))throw new ao("max requires all arguments be DateTimes");return E8(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:o=null}=i;return X8(sn.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,i={}){return st.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return WE}static get DATE_MED(){return Fj}static get DATE_MED_WITH_WEEKDAY(){return lpe}static get DATE_FULL(){return Lj}static get DATE_HUGE(){return Vj}static get TIME_SIMPLE(){return Bj}static get TIME_WITH_SECONDS(){return Uj}static get TIME_WITH_SHORT_OFFSET(){return jj}static get TIME_WITH_LONG_OFFSET(){return Hj}static get TIME_24_SIMPLE(){return $j}static get TIME_24_WITH_SECONDS(){return zj}static get TIME_24_WITH_SHORT_OFFSET(){return qj}static get TIME_24_WITH_LONG_OFFSET(){return Gj}static get DATETIME_SHORT(){return Wj}static get DATETIME_SHORT_WITH_SECONDS(){return Zj}static get DATETIME_MED(){return Kj}static get DATETIME_MED_WITH_SECONDS(){return Yj}static get DATETIME_MED_WITH_WEEKDAY(){return cpe}static get DATETIME_FULL(){return Qj}static get DATETIME_FULL_WITH_SECONDS(){return Xj}static get DATETIME_HUGE(){return Jj}static get DATETIME_HUGE_WITH_SECONDS(){return e8}}function Oy(n){if(st.isDateTime(n))return n;if(n&&n.valueOf&&ad(n.valueOf()))return st.fromJSDate(n);if(n&&"object"==typeof n)return st.fromObject(n);throw new ao(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var Tp=function(n){return n.AM="AM",n.PM="PM",n}(Tp||{}),nl=function(n){return n.TWELVE="hh:mm a",n.TWELVE_SHORT="h:m a",n.TWENTY_FOUR="HH:mm",n.TWENTY_FOUR_SHORT="H:m",n}(nl||{});function ak(n,e,t="minutes"){return"hours"===t?n.hour>=e.hour:"minutes"===t?n.hasSame(e,t)||n.valueOf()>e.valueOf():void 0}function lk(n,e,t="minutes"){return"hours"===t?n.hour<=e.hour:"minutes"===t?n.hasSame(e,t)||n.valueOf()<=e.valueOf():void 0}let dd=(()=>{class n{static parseTime(t,i){const{numberingSystem:r,locale:o}=n.getLocaleOptionsByTime(t,i),a=2===t.split(" ").length?nl.TWELVE_SHORT:nl.TWENTY_FOUR_SHORT;return st.fromFormat(t,a,{numberingSystem:r,locale:o})}static formatTime(t,i){if(!t)return"Invalid Time";const{format:r}=i,o=n.parseTime(t,i).setLocale(n.DEFAULT_LOCALE);return o.isValid?24!==r?o.toLocaleString(Object.assign(Object.assign({},st.TIME_SIMPLE),{hour12:24!==r,numberingSystem:n.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,"").replace(/\u202F/g," "):o.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"").replace(/\u202F/g," "):null}static toLocaleTimeString(t,i={}){const{format:r=n.DEFAULT_FORMAT,locale:o=n.DEFAULT_LOCALE}=i,s=24===r?"h23":"h12",a=Object.assign(Object.assign({},st.TIME_SIMPLE),{hourCycle:s}),l=24===r?nl.TWENTY_FOUR_SHORT:nl.TWELVE_SHORT,c=Object.assign({locale:i.locale,numberingSystem:i.numberingSystem},a);return st.fromFormat(t,l).setLocale(o).toLocaleString(c).replace(/\u202F/g," ")}static isTimeAvailable(t,i,r,o,s,a){if(!t)return;const l=this.parseTime(t,{format:a}),c=l.minute;if(s&&c==c&&c%s!=0)throw new Error(`Your minutes - ${c} doesn't match your minutesGap - ${s}`);const h=i&&!r&&ak(l,i,o),m=r&&!i&&lk(l,r,o),y=i&&r&&function _ge(n,e,t,i="minutes"){return"hours"===i?lk(n,t,i)&&ak(n,e,i):"minutes"===i?lk(n,t)&&ak(n,e):void 0}(l,i,r,o);return h||m||y||!i&&!r}static formatHour(t,i,r){if(24===i)return t;const o=r===Tp.AM?t:t+12;return r===Tp.AM&&12===o?0:r===Tp.PM&&24===o?12:o}static fromDateTimeToString(t,i){const r=24===i?nl.TWENTY_FOUR:nl.TWELVE;return t.reconfigure({numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE}).toFormat(r).replace(/\u202F/g," ")}static getLocaleOptionsByTime(t,i){const r={numberingSystem:i.numberingSystem,locale:i.locale},o={numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE};return isNaN(parseInt(t,10))?r:o}}return n.DEFAULT_FORMAT=12,n.DEFAULT_LOCALE="en-US",n.DEFAULT_NUMBERING_SYSTEM="latn",n})();const yge=new fe("TimeLocale",{providedIn:"root",factory:()=>dd.DEFAULT_LOCALE}),vge=new fe("NumberingSystem",{providedIn:"root",factory:()=>dd.DEFAULT_NUMBERING_SYSTEM});let Ege=(()=>{class n{static setOpts(t,i=dd.DEFAULT_NUMBERING_SYSTEM){return{ngModule:n,providers:[{provide:yge,useValue:t},{provide:vge,useValue:i}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Ht({imports:[[TI,C3,gte]]}),n})(),Cge=(()=>{class n{intercept(t,i){const r=localStorage.getItem("jwt");return r&&(t=t.clone({setHeaders:{Authorization:`Bearer ${r}`}})),i.handle(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tge=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=nn({type:n,bootstrap:[che]});static#n=this.\u0275inj=Ht({providers:[Wh,by,wy,{provide:fV,useClass:Cge,multi:!0}],imports:[WF,Xde,C3,_ee,rpe,Ege,ede,nne.initializeApp(Lae),ude]})}return n})();fQ().bootstrapModule(Tge).catch(n=>console.error(n))},106:(rs,_i,rt)=>{rt.d(_i,{Z:()=>vi});var I=rt(58),Ge=rt(537),te=rt(534),Ye=rt(879);class Tt{constructor(Je,ct){this._delegate=Je,this.firebase=ct,(0,te._addComponent)(Je,new Ge.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(Je,ct=te._DEFAULT_ENTRY_NAME){var bi;this._delegate.checkDestroyed();const wi=this._delegate.container.getProvider(Je);return!wi.isInitialized()&&"EXPLICIT"===(null===(bi=wi.getComponent())||void 0===bi?void 0:bi.instantiationMode)&&wi.initialize(),wi.getImmediate({identifier:ct})}_removeServiceInstance(Je,ct=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(ct)}_addComponent(Je){(0,te._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,te._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pn=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ue=function yt(){const Nt=function yi(Nt){const Je={},ct={__esModule:!0,initializeApp:function hn(ut,ri={}){const ce=te.initializeApp(ut,ri);if((0,I.r3)(Je,ce.name))return Je[ce.name];const Tn=new Nt(ce,ct);return Je[ce.name]=Tn,Tn},app:wi,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function tn(ut){const ri=ut.name,ce=ri.replace("-compat","");if(te._registerComponent(ut)&&"PUBLIC"===ut.type){const Tn=(fn=wi())=>{if("function"!=typeof fn[ce])throw Pn.create("invalid-app-argument",{appName:ri});return fn[ce]()};void 0!==ut.serviceProps&&(0,I.ZB)(Tn,ut.serviceProps),ct[ce]=Tn,Nt.prototype[ce]=function(...fn){return this._getService.bind(this,ri).apply(this,ut.multipleInstances?fn:[])}}return"PUBLIC"===ut.type?ct[ce]:null},removeApp:function bi(ut){delete Je[ut]},useAsService:function or(ut,ri){return"serverAuth"===ri?null:ri},modularAPIs:te}};function wi(ut){if(!(0,I.r3)(Je,ut=ut||te._DEFAULT_ENTRY_NAME))throw Pn.create("no-app",{appName:ut});return Je[ut]}return ct.default=ct,Object.defineProperty(ct,"apps",{get:function Ft(){return Object.keys(Je).map(ut=>Je[ut])}}),wi.App=Nt,ct}(Tt);return Nt.INTERNAL=Object.assign(Object.assign({},Nt.INTERNAL),{createFirebaseNamespace:yt,extendNamespace:function Je(ct){(0,I.ZB)(Nt,ct)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Nt}(),ye=new Ye.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){ye.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Nt=self.firebase.SDK_VERSION;Nt&&Nt.indexOf("LITE")>=0&&ye.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const vi=ue;!function kt(Nt){(0,te.registerVersion)("@firebase/app-compat","0.2.28",Nt)}()},534:(rs,_i,rt)=>{rt.r(_i),rt.d(_i,{FirebaseError:()=>Ye.ZR,SDK_VERSION:()=>As,_DEFAULT_ENTRY_NAME:()=>lo,_addComponent:()=>Ss,_addOrOverwriteComponent:()=>Oi,_apps:()=>ar,_clearComponents:()=>si,_components:()=>ss,_getProvider:()=>ln,_registerComponent:()=>va,_removeServiceInstance:()=>co,deleteApp:()=>qi,getApp:()=>Ms,getApps:()=>sl,initializeApp:()=>ol,onLog:()=>al,registerVersion:()=>ks,setLogLevel:()=>pd});var I=rt(861),Ge=rt(537),te=rt(879),Ye=rt(58);const Tt=(q,N)=>N.some(pe=>q instanceof pe);let Cn,Pn;const ue=new WeakMap,ye=new WeakMap,Fe=new WeakMap,gt=new WeakMap,kt=new WeakMap;let Je={get(q,N,pe){if(q instanceof IDBTransaction){if("done"===N)return ye.get(q);if("objectStoreNames"===N)return q.objectStoreNames||Fe.get(q);if("store"===N)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return hn(q[N])},set:(q,N,pe)=>(q[N]=pe,!0),has:(q,N)=>q instanceof IDBTransaction&&("done"===N||"store"===N)||N in q};function wi(q){return"function"==typeof q?function bi(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yt(){return Pn||(Pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...N){return q.apply(Ft(this),N),hn(ue.get(this))}:function(...N){return hn(q.apply(Ft(this),N))}:function(N,...pe){const Ae=q.call(Ft(this),N,...pe);return Fe.set(Ae,N.sort?N.sort():[N]),hn(Ae)}}(q):(q instanceof IDBTransaction&&function Nt(q){if(ye.has(q))return;const N=new Promise((pe,Ae)=>{const nt=()=>{q.removeEventListener("complete",vt),q.removeEventListener("error",$),q.removeEventListener("abort",$)},vt=()=>{pe(),nt()},$=()=>{Ae(q.error||new DOMException("AbortError","AbortError")),nt()};q.addEventListener("complete",vt),q.addEventListener("error",$),q.addEventListener("abort",$)});ye.set(q,N)}(q),Tt(q,function yi(){return Cn||(Cn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,Je):q)}function hn(q){if(q instanceof IDBRequest)return function vi(q){const N=new Promise((pe,Ae)=>{const nt=()=>{q.removeEventListener("success",vt),q.removeEventListener("error",$)},vt=()=>{pe(hn(q.result)),nt()},$=()=>{Ae(q.error),nt()};q.addEventListener("success",vt),q.addEventListener("error",$)});return N.then(pe=>{pe instanceof IDBCursor&&ue.set(pe,q)}).catch(()=>{}),kt.set(N,q),N}(q);if(gt.has(q))return gt.get(q);const N=wi(q);return N!==q&&(gt.set(q,N),kt.set(N,q)),N}const Ft=q=>kt.get(q),ut=["get","getKey","getAll","getAllKeys","count"],ri=["put","add","delete","clear"],ce=new Map;function Tn(q,N){if(!(q instanceof IDBDatabase)||N in q||"string"!=typeof N)return;if(ce.get(N))return ce.get(N);const pe=N.replace(/FromIndex$/,""),Ae=N!==pe,nt=ri.includes(pe);if(!(pe in(Ae?IDBIndex:IDBObjectStore).prototype)||!nt&&!ut.includes(pe))return;const vt=function(){var $=(0,I.Z)(function*(Rn,...Ne){const _t=this.transaction(Rn,nt?"readwrite":"readonly");let cl=_t.store;return Ae&&(cl=cl.index(Ne.shift())),(yield Promise.all([cl[pe](...Ne),nt&&_t.done]))[0]});return function(Ne){return $.apply(this,arguments)}}();return ce.set(N,vt),vt}!function ct(q){Je=q(Je)}(q=>({...q,get:(N,pe,Ae)=>Tn(N,pe)||q.get(N,pe,Ae),has:(N,pe)=>!!Tn(N,pe)||q.has(N,pe)}));class fn{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(pe=>{if(function Yn(q){const N=q.getComponent();return"VERSION"===N?.type}(pe)){const Ae=pe.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(pe=>pe).join(" ")}}const Do="@firebase/app",pt=new te.Yd("@firebase/app"),lo="[DEFAULT]",Ac={[Do]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ar=new Map,ss=new Map;function Ss(q,N){try{q.container.addComponent(N)}catch(pe){pt.debug(`Component ${N.name} failed to register with FirebaseApp ${q.name}`,pe)}}function Oi(q,N){q.container.addOrOverwriteComponent(N)}function va(q){const N=q.name;if(ss.has(N))return pt.debug(`There were multiple attempts to register component ${N}.`),!1;ss.set(N,q);for(const pe of ar.values())Ss(pe,q);return!0}function ln(q,N){const pe=q.container.getProvider("heartbeat").getImmediate({optional:!0});return pe&&pe.triggerHeartbeat(),q.container.getProvider(N)}function co(q,N,pe=lo){ln(q,N).clearInstance(pe)}function si(){ss.clear()}const Wr=new Ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sr{constructor(N,pe,Ae){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},pe),this._name=pe.name,this._automaticDataCollectionEnabled=pe.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new Ge.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const As="10.8.1";function ol(q,N={}){let pe=q;"object"!=typeof N&&(N={name:N});const Ae=Object.assign({name:lo,automaticDataCollectionEnabled:!1},N),nt=Ae.name;if("string"!=typeof nt||!nt)throw Wr.create("bad-app-name",{appName:String(nt)});if(pe||(pe=(0,Ye.aH)()),!pe)throw Wr.create("no-options");const vt=ar.get(nt);if(vt){if((0,Ye.vZ)(pe,vt.options)&&(0,Ye.vZ)(Ae,vt.config))return vt;throw Wr.create("duplicate-app",{appName:nt})}const $=new Ge.H0(nt);for(const Ne of ss.values())$.addComponent(Ne);const Rn=new Sr(pe,Ae,$);return ar.set(nt,Rn),Rn}function Ms(q=lo){const N=ar.get(q);if(!N&&q===lo&&(0,Ye.aH)())return ol();if(!N)throw Wr.create("no-app",{appName:q});return N}function sl(){return Array.from(ar.values())}function qi(q){return lr.apply(this,arguments)}function lr(){return(lr=(0,I.Z)(function*(q){const N=q.name;ar.has(N)&&(ar.delete(N),yield Promise.all(q.container.getProviders().map(pe=>pe.delete())),q.isDeleted=!0)})).apply(this,arguments)}function ks(q,N,pe){var Ae;let nt=null!==(Ae=Ac[q])&&void 0!==Ae?Ae:q;pe&&(nt+=`-${pe}`);const vt=nt.match(/\s|\//),$=N.match(/\s|\//);if(vt||$){const Rn=[`Unable to register library "${nt}" with version "${N}":`];return vt&&Rn.push(`library name "${nt}" contains illegal characters (whitespace or "/")`),vt&&$&&Rn.push("and"),$&&Rn.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void pt.warn(Rn.join(" "))}va(new Ge.wA(`${nt}-version`,()=>({library:nt,version:N}),"VERSION"))}function al(q,N){if(null!==q&&"function"!=typeof q)throw Wr.create("invalid-log-argument");(0,te.Am)(q,N)}function pd(q){(0,te.Ub)(q)}const Mc="firebase-heartbeat-database",ll=1,P="firebase-heartbeat-store";let M=null;function R(){return M||(M=function tn(q,N,{blocked:pe,upgrade:Ae,blocking:nt,terminated:vt}={}){const $=indexedDB.open(q,N),Rn=hn($);return Ae&&$.addEventListener("upgradeneeded",Ne=>{Ae(hn($.result),Ne.oldVersion,Ne.newVersion,hn($.transaction),Ne)}),pe&&$.addEventListener("blocked",Ne=>pe(Ne.oldVersion,Ne.newVersion,Ne)),Rn.then(Ne=>{vt&&Ne.addEventListener("close",()=>vt()),nt&&Ne.addEventListener("versionchange",_t=>nt(_t.oldVersion,_t.newVersion,_t))}).catch(()=>{}),Rn}(Mc,ll,{upgrade:(q,N)=>{if(0===N)try{q.createObjectStore(P)}catch(pe){console.warn(pe)}}}).catch(q=>{throw Wr.create("idb-open",{originalErrorMessage:q.message})})),M}function U(){return(U=(0,I.Z)(function*(q){try{const pe=(yield R()).transaction(P),Ae=yield pe.objectStore(P).get(dt(q));return yield pe.done,Ae}catch(N){if(N instanceof Ye.ZR)pt.warn(N.message);else{const pe=Wr.create("idb-get",{originalErrorMessage:N?.message});pt.warn(pe.message)}}})).apply(this,arguments)}function ie(q,N){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,I.Z)(function*(q,N){try{const Ae=(yield R()).transaction(P,"readwrite");yield Ae.objectStore(P).put(N,dt(q)),yield Ae.done}catch(pe){if(pe instanceof Ye.ZR)pt.warn(pe.message);else{const Ae=Wr.create("idb-set",{originalErrorMessage:pe?.message});pt.warn(Ae.message)}}})).apply(this,arguments)}function dt(q){return`${q.name}!${q.options.appId}`}class ai{constructor(N){this.container=N,this._heartbeatsCache=null;const pe=this.container.getProvider("app").getImmediate();this._storage=new Qt(pe),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var N=this;return(0,I.Z)(function*(){var pe,Ae;const vt=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$=Oe();if((null!=(null===(pe=N._heartbeatsCache)||void 0===pe?void 0:pe.heartbeats)||(N._heartbeatsCache=yield N._heartbeatsCachePromise,null!=(null===(Ae=N._heartbeatsCache)||void 0===Ae?void 0:Ae.heartbeats)))&&N._heartbeatsCache.lastSentHeartbeatDate!==$&&!N._heartbeatsCache.heartbeats.some(Rn=>Rn.date===$))return N._heartbeatsCache.heartbeats.push({date:$,agent:vt}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(Rn=>{const Ne=new Date(Rn.date).valueOf();return Date.now()-Ne<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,I.Z)(function*(){var pe;if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null==(null===(pe=N._heartbeatsCache)||void 0===pe?void 0:pe.heartbeats)||0===N._heartbeatsCache.heartbeats.length)return"";const Ae=Oe(),{heartbeatsToSend:nt,unsentEntries:vt}=function Ei(q,N=1024){const pe=[];let Ae=q.slice();for(const nt of q){const vt=pe.find($=>$.agent===nt.agent);if(vt){if(vt.dates.push(nt.date),Mo(pe)>N){vt.dates.pop();break}}else if(pe.push({agent:nt.agent,dates:[nt.date]}),Mo(pe)>N){pe.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:pe,unsentEntries:Ae}}(N._heartbeatsCache.heartbeats),$=(0,Ye.L)(JSON.stringify({version:2,heartbeats:nt}));return N._heartbeatsCache.lastSentHeartbeatDate=Ae,vt.length>0?(N._heartbeatsCache.heartbeats=vt,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),$})()}}function Oe(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,Ye.hl)()&&(0,Ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,I.Z)(function*(){if(yield N._canUseIndexedDBPromise){const Ae=yield function re(q){return U.apply(this,arguments)}(N.app);return Ae?.heartbeats?Ae:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(N){var pe=this;return(0,I.Z)(function*(){var Ae;if(yield pe._canUseIndexedDBPromise){const vt=yield pe.read();return ie(pe.app,{lastSentHeartbeatDate:null!==(Ae=N.lastSentHeartbeatDate)&&void 0!==Ae?Ae:vt.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var pe=this;return(0,I.Z)(function*(){var Ae;if(yield pe._canUseIndexedDBPromise){const vt=yield pe.read();return ie(pe.app,{lastSentHeartbeatDate:null!==(Ae=N.lastSentHeartbeatDate)&&void 0!==Ae?Ae:vt.lastSentHeartbeatDate,heartbeats:[...vt.heartbeats,...N.heartbeats]})}})()}}function Mo(q){return(0,Ye.L)(JSON.stringify({version:2,heartbeats:q})).length}!function md(q){va(new Ge.wA("platform-logger",N=>new fn(N),"PRIVATE")),va(new Ge.wA("heartbeat",N=>new ai(N),"PRIVATE")),ks(Do,"0.9.28",q),ks(Do,"0.9.28","esm2017"),ks("fire-js","")}("")},537:(rs,_i,rt)=>{rt.d(_i,{H0:()=>yi,wA:()=>te});var I=rt(861),Ge=rt(58);class te{constructor(ue,ye,Fe){this.name=ue,this.instanceFactory=ye,this.type=Fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const Ye="[DEFAULT]";class Tt{constructor(ue,ye){this.name=ue,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const ye=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(ye)){const Fe=new Ge.BH;if(this.instancesDeferred.set(ye,Fe),this.isInitialized(ye)||this.shouldAutoInitialize())try{const gt=this.getOrInitializeService({instanceIdentifier:ye});gt&&Fe.resolve(gt)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(ue){var ye;const Fe=this.normalizeInstanceIdentifier(ue?.identifier),gt=null!==(ye=ue?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(Fe)&&!this.shouldAutoInitialize()){if(gt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Fe})}catch(kt){if(gt)return null;throw kt}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function Pn(yt){return"EAGER"===yt.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:Ye})}catch{}for(const[ye,Fe]of this.instancesDeferred.entries()){const gt=this.normalizeInstanceIdentifier(ye);try{const kt=this.getOrInitializeService({instanceIdentifier:gt});Fe.resolve(kt)}catch{}}}}clearInstance(ue=Ye){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,I.Z)(function*(){const ye=Array.from(ue.instances.values());yield Promise.all([...ye.filter(Fe=>"INTERNAL"in Fe).map(Fe=>Fe.INTERNAL.delete()),...ye.filter(Fe=>"_delete"in Fe).map(Fe=>Fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=Ye){return this.instances.has(ue)}getOptions(ue=Ye){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:ye={}}=ue,Fe=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(Fe))throw Error(`${this.name}(${Fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const gt=this.getOrInitializeService({instanceIdentifier:Fe,options:ye});for(const[kt,vi]of this.instancesDeferred.entries())Fe===this.normalizeInstanceIdentifier(kt)&&vi.resolve(gt);return gt}onInit(ue,ye){var Fe;const gt=this.normalizeInstanceIdentifier(ye),kt=null!==(Fe=this.onInitCallbacks.get(gt))&&void 0!==Fe?Fe:new Set;kt.add(ue),this.onInitCallbacks.set(gt,kt);const vi=this.instances.get(gt);return vi&&ue(vi,gt),()=>{kt.delete(ue)}}invokeOnInitCallbacks(ue,ye){const Fe=this.onInitCallbacks.get(ye);if(Fe)for(const gt of Fe)try{gt(ue,ye)}catch{}}getOrInitializeService({instanceIdentifier:ue,options:ye={}}){let Fe=this.instances.get(ue);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:(yt=ue,yt===Ye?void 0:yt),options:ye}),this.instances.set(ue,Fe),this.instancesOptions.set(ue,ye),this.invokeOnInitCallbacks(Fe,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,Fe)}catch{}var yt;return Fe||null}normalizeInstanceIdentifier(ue=Ye){return this.component?this.component.multipleInstances?ue:Ye:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class yi{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const ye=this.getProvider(ue.name);if(ye.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);ye.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const ye=new Tt(ue,this);return this.providers.set(ue,ye),ye}getProviders(){return Array.from(this.providers.values())}}},879:(rs,_i,rt)=>{rt.d(_i,{Am:()=>yt,Ub:()=>yi,Yd:()=>Pn,in:()=>Ge});const I=[];var Ge=function(ue){return ue[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",ue}(Ge||{});const te={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},Ye=Ge.INFO,Tt={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},Cn=(ue,ye,...Fe)=>{if(ye<ue.logLevel)return;const gt=(new Date).toISOString(),kt=Tt[ye];if(!kt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[kt](`[${gt}]  ${ue.name}:`,...Fe)};class Pn{constructor(ye){this.name=ye,this._logLevel=Ye,this._logHandler=Cn,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in Ge))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?te[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...ye),this._logHandler(this,Ge.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...ye),this._logHandler(this,Ge.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...ye),this._logHandler(this,Ge.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...ye),this._logHandler(this,Ge.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...ye),this._logHandler(this,Ge.ERROR,...ye)}}function yi(ue){I.forEach(ye=>{ye.setLogLevel(ue)})}function yt(ue,ye){for(const Fe of I){let gt=null;ye&&ye.level&&(gt=te[ye.level]),Fe.userLogHandler=null===ue?null:(kt,vi,...Nt)=>{const Je=Nt.map(ct=>{if(null==ct)return null;if("string"==typeof ct)return ct;if("number"==typeof ct||"boolean"==typeof ct)return ct.toString();if(ct instanceof Error)return ct.message;try{return JSON.stringify(ct)}catch{return null}}).filter(ct=>ct).join(" ");vi>=(gt??kt.logLevel)&&ue({level:Ge[vi].toLowerCase(),message:Je,args:Nt,type:kt.name})}}}},999:(rs,_i,rt)=>{rt.r(_i);var I=rt(861),Ge=rt(106),te=rt(58),Ye=rt(534),Tt=rt(879),Cn=rt(582),Pn=rt(537);const yt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const vi=function gt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Nt=function kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new te.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bi=new Tt.Yd("@firebase/auth");function hn(f,...u){bi.logLevel<=Tt.in.ERROR&&bi.error(`Auth (${Ye.SDK_VERSION}): ${f}`,...u)}function Ft(f,...u){throw ri(f,...u)}function tn(f,...u){return ri(f,...u)}function or(f,u,d){const p=Object.assign(Object.assign({},Nt()),{[u]:d});return new te.LL("auth","Firebase",p).create(u,{appName:f.name})}function ut(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&Ft(f,"argument-error"),or(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ri(f,...u){if("string"!=typeof f){const d=u[0],p=[...u.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return Je.create(f,...u)}function ce(f,u,...d){if(!f)throw ri(u,...d)}function Tn(f){const u="INTERNAL ASSERTION FAILED: "+f;throw hn(u),new Error(u)}function fn(f,u){f||Tn(u)}function Yn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Do(){return"http:"===So()||"https:"===So()}function So(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Ao{constructor(u,d){this.shortDelay=u,this.longDelay=d,fn(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,te.uI)()||(0,te.b$)()}get(){return function pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Do()||(0,te.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Y(f,u){fn(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class X{static initialize(u,d,p){this.fetchImpl=u,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},se=new Ao(3e4,6e4);function de(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function J(f,u,d,p){return Te.apply(this,arguments)}function Te(){return(Te=(0,I.Z)(function*(f,u,d,p,v={}){return It(f,v,(0,I.Z)(function*(){let E={},k={};p&&("GET"===u?k=p:E={body:JSON.stringify(p)});const j=(0,te.xO)(Object.assign({key:f.config.apiKey},k)).slice(1),ae=yield f._getAdditionalHeaders();return ae["Content-Type"]="application/json",f.languageCode&&(ae["X-Firebase-Locale"]=f.languageCode),X.fetch()(In(f,f.config.apiHost,d,j),Object.assign({method:u,headers:ae,referrerPolicy:"no-referrer"},E))}))})).apply(this,arguments)}function It(f,u,d){return Re.apply(this,arguments)}function Re(){return(Re=(0,I.Z)(function*(f,u,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},W),u);try{const v=new Ri(f),E=yield Promise.race([d(),v.promise]);v.clearNetworkTimeout();const k=yield E.json();if("needConfirmation"in k)throw oi(f,"account-exists-with-different-credential",k);if(E.ok&&!("errorMessage"in k))return k;{const j=E.ok?k.errorMessage:k.error.message,[ae,Ee]=j.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ae)throw oi(f,"credential-already-in-use",k);if("EMAIL_EXISTS"===ae)throw oi(f,"email-already-in-use",k);if("USER_DISABLED"===ae)throw oi(f,"user-disabled",k);const Me=p[ae]||ae.toLowerCase().replace(/[_\s]+/g,"-");if(Ee)throw or(f,Me,Ee);Ft(f,Me)}}catch(v){if(v instanceof te.ZR)throw v;Ft(f,"network-request-failed",{message:String(v)})}})).apply(this,arguments)}function Ve(f,u,d,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,I.Z)(function*(f,u,d,p,v={}){const E=yield J(f,u,d,p,v);return"mfaPendingCredential"in E&&Ft(f,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function In(f,u,d,p){const v=`${u}${d}?${p}`;return f.config.emulator?Y(f.config,v):`${f.config.apiScheme}://${v}`}function an(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ri{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(tn(this.auth,"network-request-failed")),se.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oi(f,u,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const v=tn(f,u,p);return v.customData._tokenResponse=d,v}function zi(f){return void 0!==f&&void 0!==f.getResponse}function sr(f){return void 0!==f&&void 0!==f.enterprise}class Dr{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return an(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function os(){return(os=(0,I.Z)(function*(f){return(yield J(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ln(f,u){return il.apply(this,arguments)}function il(){return(il=(0,I.Z)(function*(f,u){return J(f,"GET","/v2/recaptchaConfig",de(f,u))})).apply(this,arguments)}function lo(){return(lo=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function ar(){return(ar=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ss(){return(Ss=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Oi(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function co(){return(co=(0,I.Z)(function*(f,u=!1){const d=(0,te.m9)(f),p=yield d.getIdToken(u),v=rl(p);ce(v&&v.exp&&v.auth_time&&v.iat,d.auth,"internal-error");const E="object"==typeof v.firebase?v.firebase:void 0,k=E?.sign_in_provider;return{claims:v,token:p,authTime:Oi(si(v.auth_time)),issuedAtTime:Oi(si(v.iat)),expirationTime:Oi(si(v.exp)),signInProvider:k||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function si(f){return 1e3*Number(f)}function rl(f){const[u,d,p]=f.split(".");if(void 0===u||void 0===d||void 0===p)return hn("JWT malformed, contained fewer than 3 sections"),null;try{const v=(0,te.tV)(d);return v?JSON.parse(v):(hn("Failed to decode base64 JWT payload"),null)}catch(v){return hn("Caught error parsing JWT payload as JSON",v?.toString()),null}}function Sr(f,u){return As.apply(this,arguments)}function As(){return(As=(0,I.Z)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(p){throw p instanceof te.ZR&&function ol({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class Ms{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const v=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,v)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(u);this.timerId=setTimeout((0,I.Z)(function*(){yield d.iteration()}),p)}iteration(){var u=this;return(0,I.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class sl{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oi(this.lastLoginAt),this.creationTime=Oi(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qi(f){return lr.apply(this,arguments)}function lr(){return lr=(0,I.Z)(function*(f){var u;const d=f.auth,p=yield f.getIdToken(),v=yield Sr(f,function ss(f,u){return Ss.apply(this,arguments)}(d,{idToken:p}));ce(v?.users.length,d,"internal-error");const E=v.users[0];f._notifyReloadListener(E);const k=null!==(u=E.providerUserInfo)&&void 0!==u&&u.length?function Mc(f){return f.map(u=>{var{providerId:d}=u,p=(0,Cn._T)(u,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(E.providerUserInfo):[],j=function pd(f,u){return[...f.filter(p=>!u.some(v=>v.providerId===p.providerId)),...u]}(f.providerData,k),Me=!!f.isAnonymous&&!(f.email&&E.passwordHash||j?.length),ke={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:j,metadata:new sl(E.createdAt,E.lastLoginAt),isAnonymous:Me};Object.assign(f,ke)}),lr.apply(this,arguments)}function al(){return(al=(0,I.Z)(function*(f){const u=(0,te.m9)(f);yield qi(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function P(){return(P=(0,I.Z)(function*(f,u){const d=yield It(f,{},(0,I.Z)(function*(){const p=(0,te.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:v,apiKey:E}=f.config,k=In(f,v,"/v1/token",`key=${E}`),j=yield f._getAdditionalHeaders();return j["Content-Type"]="application/x-www-form-urlencoded",X.fetch()(k,{method:"POST",headers:j,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function R(){return(R=(0,I.Z)(function*(f,u){return J(f,"POST","/v2/accounts:revokeToken",de(f,u))})).apply(this,arguments)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ce(u.idToken,"internal-error"),ce(typeof u.idToken<"u","internal-error"),ce(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Wr(f){const u=rl(f);return ce(u,"internal-error"),ce(typeof u.exp<"u","internal-error"),ce(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var p=this;return(0,I.Z)(function*(){return ce(!p.accessToken||p.refreshToken,u,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(u,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var p=this;return(0,I.Z)(function*(){const{accessToken:v,refreshToken:E,expiresIn:k}=yield function ll(f,u){return P.apply(this,arguments)}(u,d);p.updateTokensAndExpiration(v,E,Number(k))})()}updateTokensAndExpiration(u,d,p){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(u,d){const{refreshToken:p,accessToken:v,expirationTime:E}=d,k=new re;return p&&(ce("string"==typeof p,"internal-error",{appName:u}),k.refreshToken=p),v&&(ce("string"==typeof v,"internal-error",{appName:u}),k.accessToken=v),E&&(ce("number"==typeof E,"internal-error",{appName:u}),k.expirationTime=E),k}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return Tn("not implemented")}}function U(f,u){ce("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class ie{constructor(u){var{uid:d,auth:p,stsTokenManager:v}=u,E=(0,Cn._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ms(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=v,this.accessToken=v.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new sl(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,I.Z)(function*(){const p=yield Sr(d,d.stsTokenManager.getToken(d.auth,u));return ce(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(u){return function ln(f){return co.apply(this,arguments)}(this,u)}reload(){return function ks(f){return al.apply(this,arguments)}(this)}_assign(u){this!==u&&(ce(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new ie(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var p=this;return(0,I.Z)(function*(){let v=!1;u.idToken&&u.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(u),v=!0),d&&(yield qi(p)),yield p.auth._persistUserIfCurrent(p),v&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var u=this;return(0,I.Z)(function*(){const d=yield u.getIdToken();return yield Sr(u,function Sc(f,u){return lo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var p,v,E,k,j,ae,Ee,Me;const ke=null!==(p=d.displayName)&&void 0!==p?p:void 0,Dn=null!==(v=d.email)&&void 0!==v?v:void 0,pr=null!==(E=d.phoneNumber)&&void 0!==E?E:void 0,su=null!==(k=d.photoURL)&&void 0!==k?k:void 0,Kv=null!==(j=d.tenantId)&&void 0!==j?j:void 0,uh=null!==(ae=d._redirectEventId)&&void 0!==ae?ae:void 0,oT=null!==(Ee=d.createdAt)&&void 0!==Ee?Ee:void 0,Bm=null!==(Me=d.lastLoginAt)&&void 0!==Me?Me:void 0,{uid:Yv,emailVerified:Qv,isAnonymous:Xv,providerData:au,stsTokenManager:sT}=d;ce(Yv&&sT,u,"internal-error");const Gk=re.fromJSON(this.name,sT);ce("string"==typeof Yv,u,"internal-error"),U(ke,u.name),U(Dn,u.name),ce("boolean"==typeof Qv,u,"internal-error"),ce("boolean"==typeof Xv,u,"internal-error"),U(pr,u.name),U(su,u.name),U(Kv,u.name),U(uh,u.name),U(oT,u.name),U(Bm,u.name);const lu=new ie({uid:Yv,auth:u,email:Dn,emailVerified:Qv,displayName:ke,isAnonymous:Xv,photoURL:su,phoneNumber:pr,tenantId:Kv,stsTokenManager:Gk,createdAt:oT,lastLoginAt:Bm});return au&&Array.isArray(au)&&(lu.providerData=au.map(Wk=>Object.assign({},Wk))),uh&&(lu._redirectEventId=uh),lu}static _fromIdTokenResponse(u,d,p=!1){return(0,I.Z)(function*(){const v=new re;v.updateFromServerResponse(d);const E=new ie({uid:d.localId,auth:u,stsTokenManager:v,isAnonymous:p});return yield qi(E),E})()}}const Qe=new Map;function dt(f){fn(f instanceof Function,"Expected a class definition");let u=Qe.get(f);return u?(fn(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,Qe.set(f,u),u)}const pn=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(d,p){var v=this;return(0,I.Z)(function*(){v.storage[d]=p})()}_get(d){var p=this;return(0,I.Z)(function*(){const v=p.storage[d];return void 0===v?null:v})()}_remove(d){var p=this;return(0,I.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function ai(f,u,d){return`firebase:${f}:${u}:${d}`}class Oe{constructor(u,d,p){this.persistence=u,this.auth=d,this.userKey=p;const{config:v,name:E}=this.auth;this.fullUserKey=ai(this.userKey,v.apiKey,E),this.fullPersistenceKey=ai("persistence",v.apiKey,E),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,I.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?ie._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,I.Z)(function*(){if(d.persistence===u)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,p="authUser"){return(0,I.Z)(function*(){if(!d.length)return new Oe(dt(pn),u,p);const v=(yield Promise.all(d.map(function(){var Ee=(0,I.Z)(function*(Me){if(yield Me._isAvailable())return Me});return function(Me){return Ee.apply(this,arguments)}}()))).filter(Ee=>Ee);let E=v[0]||dt(pn);const k=ai(p,u.config.apiKey,u.name);let j=null;for(const Ee of d)try{const Me=yield Ee._get(k);if(Me){const ke=ie._fromJSON(u,Me);Ee!==E&&(j=ke),E=Ee;break}}catch{}const ae=v.filter(Ee=>Ee._shouldAllowMigration);return E._shouldAllowMigration&&ae.length?(E=ae[0],j&&(yield E._set(k,j.toJSON())),yield Promise.all(d.map(function(){var Ee=(0,I.Z)(function*(Me){if(Me!==E)try{yield Me._remove(k)}catch{}});return function(Me){return Ee.apply(this,arguments)}}())),new Oe(E,u,p)):new Oe(E,u,p)})()}}function Ei(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(q(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Qt(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(pe(u))return"Blackberry";if(Ae(u))return"Webos";if(Mo(u))return"Safari";if((u.includes("chrome/")||md(u))&&!u.includes("edge/"))return"Chrome";if(N(u))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Qt(f=(0,te.z$)()){return/firefox\//i.test(f)}function Mo(f=(0,te.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function md(f=(0,te.z$)()){return/crios\//i.test(f)}function q(f=(0,te.z$)()){return/iemobile/i.test(f)}function N(f=(0,te.z$)()){return/android/i.test(f)}function pe(f=(0,te.z$)()){return/blackberry/i.test(f)}function Ae(f=(0,te.z$)()){return/webos/i.test(f)}function nt(f=(0,te.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Ne(f=(0,te.z$)()){return nt(f)||N(f)||Ae(f)||pe(f)||/windows phone/i.test(f)||q(f)}function cl(f,u=[]){let d;switch(f){case"Browser":d=Ei((0,te.z$)());break;case"Worker":d=`${Ei((0,te.z$)())}-${f}`;break;default:d=f}const p=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${Ye.SDK_VERSION}/${p}`}class uk{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const p=E=>new Promise((k,j)=>{try{k(u(E))}catch(ae){j(ae)}});p.onAbort=d,this.queue.push(p);const v=this.queue.length-1;return()=>{this.queue[v]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,I.Z)(function*(){if(d.auth.currentUser===u)return;const p=[];try{for(const v of d.queue)yield v(u),v.onAbort&&p.push(v.onAbort)}catch(v){p.reverse();for(const E of p)try{E()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:v?.message})}})()}}function kc(){return(kc=(0,I.Z)(function*(f,u={}){return J(f,"GET","/v2/passwordPolicy",de(f,u))})).apply(this,arguments)}class dk{constructor(u){var d,p,v,E;const k=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=k.minPasswordLength)&&void 0!==d?d:6,k.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=k.maxPasswordLength),void 0!==k.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=k.containsLowercaseCharacter),void 0!==k.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=k.containsUppercaseCharacter),void 0!==k.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=k.containsNumericCharacter),void 0!==k.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=k.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(v=null===(p=u.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==v?v:"",this.forceUpgradeOnSignin=null!==(E=u.forceUpgradeOnSignin)&&void 0!==E&&E,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,p,v,E,k,j;const ae={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ae),this.validatePasswordCharacterOptions(u,ae),ae.isValid&&(ae.isValid=null===(d=ae.meetsMinPasswordLength)||void 0===d||d),ae.isValid&&(ae.isValid=null===(p=ae.meetsMaxPasswordLength)||void 0===p||p),ae.isValid&&(ae.isValid=null===(v=ae.containsLowercaseLetter)||void 0===v||v),ae.isValid&&(ae.isValid=null===(E=ae.containsUppercaseLetter)||void 0===E||E),ae.isValid&&(ae.isValid=null===(k=ae.containsNumericCharacter)||void 0===k||k),ae.isValid&&(ae.isValid=null===(j=ae.containsNonAlphanumericCharacter)||void 0===j||j),ae}validatePasswordLengthOptions(u,d){const p=this.customStrengthOptions.minPasswordLength,v=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=u.length>=p),v&&(d.meetsMaxPasswordLength=u.length<=v)}validatePasswordCharacterOptions(u,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let v=0;v<u.length;v++)p=u.charAt(v),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(u,d,p,v,E){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=v)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=E))}}class fC{constructor(u,d,p,v){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ps(this),this.idTokenSubscription=new Ps(this),this.beforeStateQueue=new uk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(u,d){var p=this;return d&&(this._popupRedirectResolver=dt(d)),this._initializationPromise=this.queue((0,I.Z)(function*(){var v,E;if(!p._deleted&&(p.persistenceManager=yield Oe.create(p,u),!p._deleted)){if(null!==(v=p._popupRedirectResolver)&&void 0!==v&&v._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(E=p.currentUser)||void 0===E?void 0:E.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,I.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,I.Z)(function*(){var p;const v=yield d.assertedPersistence.getCurrentUser();let E=v,k=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const j=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,ae=E?._redirectEventId,Ee=yield d.tryRedirectSignIn(u);(!j||j===ae)&&Ee?.user&&(E=Ee.user,k=!0)}if(!E)return d.directlySetCurrentUser(null);if(!E._redirectEventId){if(k)try{yield d.beforeStateQueue.runMiddleware(E)}catch(j){E=v,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(j))}return E?d.reloadAndSetCurrentUserOrClear(E):d.directlySetCurrentUser(null)}return ce(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===E._redirectEventId?d.directlySetCurrentUser(E):d.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(u){var d=this;return(0,I.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,I.Z)(function*(){try{yield qi(u)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function ya(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,I.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,I.Z)(function*(){const p=u?(0,te.m9)(u):null;return p&&ce(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(u,d=!1){var p=this;return(0,I.Z)(function*(){if(!p._deleted)return u&&ce(p.tenantId===u.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(u)),p.queue((0,I.Z)(function*(){yield p.directlySetCurrentUser(u),p.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,I.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,I.Z)(function*(){yield d.assertedPersistence.setPersistence(dt(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,I.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,I.Z)(function*(){const d=yield function hC(f){return kc.apply(this,arguments)}(u),p=new dk(d);null===u.tenantId?u._projectPasswordPolicy=p:u._tenantPasswordPolicies[u.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new te.LL("auth","Firebase",u())}onAuthStateChanged(u,d,p){return this.registerStateListener(this.authStateSubscription,u,d,p)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,p){return this.registerStateListener(this.idTokenSubscription,u,d,p)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const p=this.onAuthStateChanged(()=>{p(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,I.Z)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),v={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:p};null!=d.tenantId&&(v.tenantId=d.tenantId),yield function M(f,u){return R.apply(this,arguments)}(d,v)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var p=this;return(0,I.Z)(function*(){const v=yield p.getOrInitRedirectPersistenceManager(d);return null===u?v.removeCurrentUser():v.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,I.Z)(function*(){if(!d.redirectPersistenceManager){const p=u&&dt(u)||d._popupRedirectResolver;ce(p,d,"argument-error"),d.redirectPersistenceManager=yield Oe.create(d,[dt(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,I.Z)(function*(){var p,v;return d._isInitialized&&(yield d.queue((0,I.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===u?d._currentUser:(null===(v=d.redirectUser)||void 0===v?void 0:v._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,I.Z)(function*(){if(u===d.currentUser)return d.queue((0,I.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,p,v){if(this._deleted)return()=>{};const E="function"==typeof d?d:d.next.bind(d);let k=!1;const j=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(j,this,"internal-error"),j.then(()=>{k||E(this.currentUser)}),"function"==typeof d){const ae=u.addObserver(d,p,v);return()=>{k=!0,ae()}}{const ae=u.addObserver(d);return()=>{k=!0,ae()}}}directlySetCurrentUser(u){var d=this;return(0,I.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=cl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,I.Z)(function*(){var d;const p={"X-Client-Version":u.clientVersion};u.app.options.appId&&(p["X-Firebase-gmpid"]=u.app.options.appId);const v=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();v&&(p["X-Firebase-Client"]=v);const E=yield u._getAppCheckToken();return E&&(p["X-Firebase-AppCheck"]=E),p})()}_getAppCheckToken(){var u=this;return(0,I.Z)(function*(){var d;const p=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function wi(f,...u){bi.logLevel<=Tt.in.WARN&&bi.warn(`Auth (${Ye.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function mn(f){return(0,te.m9)(f)}class Ps{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,te.ne)(d=>this.observer=d)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gd={loadJS:()=>(0,I.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fy(f){return gd.loadJS(f)}function Ly(f){return`__${f}${Math.floor(1e6*Math.random())}`}class qe{constructor(u){this.type="recaptcha-enterprise",this.auth=mn(u)}verify(u="verify",d=!1){var p=this;return(0,I.Z)(function*(){function E(){return E=(0,I.Z)(function*(j){if(!d){if(null==j.tenantId&&null!=j._agentRecaptchaConfig)return j._agentRecaptchaConfig.siteKey;if(null!=j.tenantId&&void 0!==j._tenantRecaptchaConfigs[j.tenantId])return j._tenantRecaptchaConfigs[j.tenantId].siteKey}return new Promise(function(){var ae=(0,I.Z)(function*(Ee,Me){Ln(j,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ke=>{if(void 0!==ke.recaptchaKey){const Dn=new Dr(ke);return null==j.tenantId?j._agentRecaptchaConfig=Dn:j._tenantRecaptchaConfigs[j.tenantId]=Dn,Ee(Dn.siteKey)}Me(new Error("recaptcha Enterprise site key undefined"))}).catch(ke=>{Me(ke)})});return function(Ee,Me){return ae.apply(this,arguments)}}())}),E.apply(this,arguments)}function k(j,ae,Ee){const Me=window.grecaptcha;sr(Me)?Me.enterprise.ready(()=>{Me.enterprise.execute(j,{action:u}).then(ke=>{ae(ke)}).catch(()=>{ae("NO_RECAPTCHA")})}):Ee(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((j,ae)=>{(function v(j){return E.apply(this,arguments)})(p.auth).then(Ee=>{if(!d&&sr(window.grecaptcha))k(Ee,j,ae);else{if(typeof window>"u")return void ae(new Error("RecaptchaVerifier is only supported in browser"));let Me=function pC(){return gd.recaptchaEnterpriseScript}();0!==Me.length&&(Me+=Ee),Fy(Me).then(()=>{k(Ee,j,ae)}).catch(ke=>{ae(ke)})}}).catch(Ee=>{ae(Ee)})})})()}}function mC(f,u,d){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,I.Z)(function*(f,u,d,p=!1){const v=new qe(f);let E;try{E=yield v.verify(d)}catch{E=yield v.verify(d,!0)}const k=Object.assign({},u);return Object.assign(k,p?{captchaResp:E}:{captchaResponse:E}),Object.assign(k,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(k,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),k})).apply(this,arguments)}function _d(f,u,d,p){return ve.apply(this,arguments)}function ve(){return ve=(0,I.Z)(function*(f,u,d,p){var v;if(null!==(v=f._getRecaptchaConfig())&&void 0!==v&&v.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const E=yield mC(f,u,d,"getOobCode"===d);return p(f,E)}return p(f,u).catch(function(){var E=(0,I.Z)(function*(k){if("auth/missing-recaptcha-token"===k.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const j=yield mC(f,u,d,"getOobCode"===d);return p(f,j)}return Promise.reject(k)});return function(k){return E.apply(this,arguments)}}())}),ve.apply(this,arguments)}function By(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function Pc(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class ba{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return Tn("not implemented")}_getIdTokenResponse(u){return Tn("not implemented")}_linkToIdToken(u,d){return Tn("not implemented")}_getReauthenticationResolver(u){return Tn("not implemented")}}function Uy(f,u){return mt.apply(this,arguments)}function mt(){return(mt=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:resetPassword",de(f,u))})).apply(this,arguments)}function bd(){return(bd=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function cr(f,u){return wd.apply(this,arguments)}function wd(){return(wd=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Wt(){return(Wt=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:update",de(f,u))})).apply(this,arguments)}function yk(f,u){return jy.apply(this,arguments)}function jy(){return(jy=(0,I.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:signInWithPassword",de(f,u))})).apply(this,arguments)}function fe(f,u){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:sendOobCode",de(f,u))})).apply(this,arguments)}function Ed(){return(Ed=(0,I.Z)(function*(f,u){return fe(f,u)})).apply(this,arguments)}function Mp(f,u){return kp.apply(this,arguments)}function kp(){return(kp=(0,I.Z)(function*(f,u){return fe(f,u)})).apply(this,arguments)}function Pp(f,u){return Hy.apply(this,arguments)}function Hy(){return(Hy=(0,I.Z)(function*(f,u){return fe(f,u)})).apply(this,arguments)}function $y(){return($y=(0,I.Z)(function*(f,u){return fe(f,u)})).apply(this,arguments)}function zy(){return(zy=(0,I.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:signInWithEmailLink",de(f,u))})).apply(this,arguments)}function Nc(){return(Nc=(0,I.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:signInWithEmailLink",de(f,u))})).apply(this,arguments)}class Rs extends ba{constructor(u,d,p,v=null){super("password",p),this._email=u,this._password=d,this._tenantId=v}static _fromEmailAndPassword(u,d){return new Rs(u,d,"password")}static _fromEmailAndCode(u,d,p=null){return new Rs(u,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,I.Z)(function*(){switch(d.signInMethod){case"password":return _d(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",yk);case"emailLink":return function bk(f,u){return zy.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:Ft(u,"internal-error")}})()}_linkToIdToken(u,d){var p=this;return(0,I.Z)(function*(){switch(p.signInMethod){case"password":return _d(u,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cr);case"emailLink":return function Oc(f,u){return Nc.apply(this,arguments)}(u,{idToken:d,email:p._email,oobCode:p._password});default:Ft(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function as(f,u){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,I.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:signInWithIdp",de(f,u))})).apply(this,arguments)}class uo extends ba{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new uo(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):Ft("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:v}=d,E=(0,Cn._T)(d,["providerId","signInMethod"]);if(!p||!v)return null;const k=new uo(p,v);return k.idToken=E.idToken||void 0,k.accessToken=E.accessToken||void 0,k.secret=E.secret,k.nonce=E.nonce,k.pendingToken=E.pendingToken||null,k}_getIdTokenResponse(u){return as(u,this.buildRequest())}_linkToIdToken(u,d){const p=this.buildRequest();return p.idToken=d,as(u,p)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,as(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,te.xO)(d)}return u}}function Op(){return(Op=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:sendVerificationCode",de(f,u))})).apply(this,arguments)}function Np(){return(Np=(0,I.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:signInWithPhoneNumber",de(f,u))})).apply(this,arguments)}function Cd(){return(Cd=(0,I.Z)(function*(f,u){const d=yield Ve(f,"POST","/v1/accounts:signInWithPhoneNumber",de(f,u));if(d.temporaryProof)throw oi(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Ie={USER_NOT_FOUND:"user-not-found"};function Fc(){return(Fc=(0,I.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:signInWithPhoneNumber",de(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Ie)})).apply(this,arguments)}class ho extends ba{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new ho({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new ho({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function Os(f,u){return Np.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function B(f,u){return Cd.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function Td(f,u){return Fc.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:p,verificationCode:v}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:p,code:v}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:p,phoneNumber:v,temporaryProof:E}=u;return p||d||v||E?new ho({verificationId:d,verificationCode:p,phoneNumber:v,temporaryProof:E}):null}}class Lc{constructor(u){var d,p,v,E,k,j;const ae=(0,te.zd)((0,te.pd)(u)),Ee=null!==(d=ae.apiKey)&&void 0!==d?d:null,Me=null!==(p=ae.oobCode)&&void 0!==p?p:null,ke=function yC(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(v=ae.mode)&&void 0!==v?v:null);ce(Ee&&Me&&ke,"argument-error"),this.apiKey=Ee,this.operation=ke,this.code=Me,this.continueUrl=null!==(E=ae.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(k=ae.languageCode)&&void 0!==k?k:null,this.tenantId=null!==(j=ae.tenantId)&&void 0!==j?j:null}static parseLink(u){const d=function vC(f){const u=(0,te.zd)((0,te.pd)(f)).link,d=u?(0,te.zd)((0,te.pd)(u)).deep_link_id:null,p=(0,te.zd)((0,te.pd)(f)).deep_link_id;return(p?(0,te.zd)((0,te.pd)(p)).link:null)||p||d||u||f}(u);try{return new Lc(d)}catch{return null}}}let dl=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Rs._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const v=Lc.parseLink(p);return ce(v,"argument-error"),Rs._fromEmailAndCode(d,v.code,v.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class zn{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Gi extends zn{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class bt extends Gi{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return ce("providerId"in d&&"signInMethod"in d,"argument-error"),uo._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ce(u.idToken||u.accessToken,"argument-error"),uo._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return bt.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return bt.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:v,pendingToken:E,nonce:k,providerId:j}=u;if(!p&&!v&&!d&&!E||!j)return null;try{return new bt(j)._credential({idToken:d,accessToken:p,nonce:k,pendingToken:E})}catch{return null}}}let Vc=(()=>{class f extends Gi{constructor(){super("facebook.com")}static credential(d){return uo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Id=(()=>{class f extends Gi{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return uo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:v}=d;if(!p&&!v)return null;try{return f.credential(p,v)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),xd=(()=>{class f extends Gi{constructor(){super("github.com")}static credential(d){return uo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class ur extends ba{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return as(u,this.buildRequest())}_linkToIdToken(u,d){const p=this.buildRequest();return p.idToken=d,as(u,p)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,as(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:v,pendingToken:E}=d;return p&&v&&E&&p===v?new ur(p,E):null}static _create(u,d){return new ur(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Uc extends zn{constructor(u){ce(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Uc.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Uc.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=ur.fromJSON(u);return ce(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:p}=u;if(!d||!p)return null;try{return ur._create(p,d)}catch{return null}}}let Fp=(()=>{class f extends Gi{constructor(){super("twitter.com")}static credential(d,p){return uo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:v}=d;if(!p||!v)return null;try{return f.credential(p,v)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Dd(f,u){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,I.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:signUp",de(f,u))})).apply(this,arguments)}class Mr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,p,v=!1){return(0,I.Z)(function*(){const E=yield ie._fromIdTokenResponse(u,p,v),k=hl(p);return new Mr({user:E,providerId:k,_tokenResponse:p,operationType:d})})()}static _forOperation(u,d,p){return(0,I.Z)(function*(){yield u._updateTokensIfNecessary(p,!0);const v=hl(p);return new Mr({user:u,providerId:v,_tokenResponse:p,operationType:d})})()}}function hl(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function Ad(){return(Ad=(0,I.Z)(function*(f){var u;const d=mn(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Mr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Dd(d,{returnSecureToken:!0}),v=yield Mr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(v.user),v})).apply(this,arguments)}class Md extends te.ZR{constructor(u,d,p,v){var E;super(d.code,d.message),this.operationType=p,this.user=v,Object.setPrototypeOf(this,Md.prototype),this.customData={appName:u.name,tenantId:null!==(E=u.tenantId)&&void 0!==E?E:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(u,d,p,v){return new Md(u,d,p,v)}}function Lp(f,u,d,p){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?Md._fromErrorAndOperation(f,E,u,p):E})}function Wy(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function kr(){return kr=(0,I.Z)(function*(f,u){const d=(0,te.m9)(f);yield Pd(!0,d,u);const{providerUserInfo:p}=yield function Ac(f,u){return ar.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),v=Wy(p||[]);return d.providerData=d.providerData.filter(E=>v.has(E.providerId)),v.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),kr.apply(this,arguments)}function Vp(f,u){return kd.apply(this,arguments)}function kd(){return(kd=(0,I.Z)(function*(f,u,d=!1){const p=yield Sr(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return Mr._forOperation(f,"link",p)})).apply(this,arguments)}function Pd(f,u,d){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,I.Z)(function*(f,u,d){yield qi(u);const v=!1===f?"provider-already-linked":"no-such-provider";ce(Wy(u.providerData).has(d)===f,u.auth,v)})).apply(this,arguments)}function Zy(f,u){return Up.apply(this,arguments)}function Up(){return(Up=(0,I.Z)(function*(f,u,d=!1){const{auth:p}=f,v="reauthenticate";try{const E=yield Sr(f,Lp(p,v,u,f),d);ce(E.idToken,p,"internal-error");const k=rl(E.idToken);ce(k,p,"internal-error");const{sub:j}=k;return ce(f.uid===j,p,"user-mismatch"),Mr._forOperation(f,v,E)}catch(E){throw"auth/user-not-found"===E?.code&&Ft(p,"user-mismatch"),E}})).apply(this,arguments)}function jp(f,u){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,I.Z)(function*(f,u,d=!1){const p="signIn",v=yield Lp(f,p,u),E=yield Mr._fromIdTokenResponse(f,p,v);return d||(yield f._updateCurrentUser(E.user)),E})).apply(this,arguments)}function Rd(f,u){return $p.apply(this,arguments)}function $p(){return($p=(0,I.Z)(function*(f,u){return jp(mn(f),u)})).apply(this,arguments)}function Ut(f,u){return zp.apply(this,arguments)}function zp(){return(zp=(0,I.Z)(function*(f,u){const d=(0,te.m9)(f);return yield Pd(!1,d,u.providerId),Vp(d,u)})).apply(this,arguments)}function Ky(f,u){return qp.apply(this,arguments)}function qp(){return(qp=(0,I.Z)(function*(f,u){return Zy((0,te.m9)(f),u)})).apply(this,arguments)}function Gp(){return(Gp=(0,I.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:signInWithCustomToken",de(f,u))})).apply(this,arguments)}function ze(){return ze=(0,I.Z)(function*(f,u){const d=mn(f),p=yield function nn(f,u){return Gp.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),v=yield Mr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(v.user),v}),ze.apply(this,arguments)}class li{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Et._fromServerResponse(u,d):"totpInfo"in d?Qn._fromServerResponse(u,d):Ft(u,"internal-error")}}class Et extends li{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Et(d)}}class Qn extends li{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Qn(d)}}function ci(f,u,d){var p;ce((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),ce(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ce(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(ce(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Fs(f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,I.Z)(function*(f){const u=mn(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Od(){return(Od=(0,I.Z)(function*(f,u,d){const p=mn(f),v={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&ci(p,v,d),yield _d(p,v,"getOobCode",Mp)})).apply(this,arguments)}function Wp(){return Wp=(0,I.Z)(function*(f,u,d){yield Uy((0,te.m9)(f),{oobCode:u,newPassword:d}).catch(function(){var p=(0,I.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Fs(f),v});return function(v){return p.apply(this,arguments)}}())}),Wp.apply(this,arguments)}function gn(){return gn=(0,I.Z)(function*(f,u){yield function _k(f,u){return Wt.apply(this,arguments)}((0,te.m9)(f),{oobCode:u})}),gn.apply(this,arguments)}function xe(f,u){return et.apply(this,arguments)}function et(){return(et=(0,I.Z)(function*(f,u){const d=(0,te.m9)(f),p=yield Uy(d,{oobCode:u}),v=p.requestType;switch(ce(v,d,"internal-error"),v){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(p.mfaInfo,d,"internal-error");default:ce(p.email,d,"internal-error")}let E=null;return p.mfaInfo&&(E=li._fromServerResponse(mn(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:E},operation:v}})).apply(this,arguments)}function Pr(){return(Pr=(0,I.Z)(function*(f,u){const{data:d}=yield xe((0,te.m9)(f),u);return d.email})).apply(this,arguments)}function ui(){return(ui=(0,I.Z)(function*(f,u,d){const p=mn(f),k=yield _d(p,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dd).catch(ae=>{throw"auth/password-does-not-meet-requirements"===ae.code&&Fs(f),ae}),j=yield Mr._fromIdTokenResponse(p,"signIn",k);return yield p._updateCurrentUser(j.user),j})).apply(this,arguments)}function ko(){return(ko=(0,I.Z)(function*(f,u,d){const p=mn(f),v={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function E(k,j){ce(j.handleCodeInApp,p,"argument-error"),j&&ci(p,k,j)})(v,d),yield _d(p,v,"getOobCode",Pp)})).apply(this,arguments)}function wa(){return(wa=(0,I.Z)(function*(f,u,d){const p=(0,te.m9)(f),v=dl.credentialWithLink(u,d||Yn());return ce(v._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Rd(p,v)})).apply(this,arguments)}function Ls(){return(Ls=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:createAuthUri",de(f,u))})).apply(this,arguments)}function Ea(){return Ea=(0,I.Z)(function*(f,u){const p={identifier:u,continueUri:Do()?Yn():"http://localhost"},{signinMethods:v}=yield function Xy(f,u){return Ls.apply(this,arguments)}((0,te.m9)(f),p);return v||[]}),Ea.apply(this,arguments)}function Kr(){return Kr=(0,I.Z)(function*(f,u){const d=(0,te.m9)(f),v={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&ci(d.auth,v,u);const{email:E}=yield function Ap(f,u){return Ed.apply(this,arguments)}(d.auth,v);E!==f.email&&(yield f.reload())}),Kr.apply(this,arguments)}function Fd(){return Fd=(0,I.Z)(function*(f,u,d){const p=(0,te.m9)(f),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&ci(p.auth,E,d);const{email:k}=yield function vk(f,u){return $y.apply(this,arguments)}(p.auth,E);k!==f.email&&(yield f.reload())}),Fd.apply(this,arguments)}function fo(){return(fo=(0,I.Z)(function*(f,u){return J(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ca(){return Ca=(0,I.Z)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const p=(0,te.m9)(f),E={idToken:yield p.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},k=yield Sr(p,function Vs(f,u){return fo.apply(this,arguments)}(p.auth,E));p.displayName=k.displayName||null,p.photoURL=k.photoUrl||null;const j=p.providerData.find(({providerId:ae})=>"password"===ae);j&&(j.displayName=p.displayName,j.photoURL=p.photoURL),yield p._updateTokensIfNecessary(k)}),Ca.apply(this,arguments)}function Ld(f,u,d){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,I.Z)(function*(f,u,d){const{auth:p}=f,E={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(E.email=u),d&&(E.password=d);const k=yield Sr(f,function Sp(f,u){return bd.apply(this,arguments)}(p,E));yield f._updateTokensIfNecessary(k,!0)}),Vd.apply(this,arguments)}class ls{constructor(u,d,p={}){this.isNewUser=u,this.providerId=d,this.profile=p}}class Ta extends ls{constructor(u,d,p,v){super(u,d,p),this.username=v}}class zc extends ls{constructor(u,d){super(u,"facebook.com",d)}}class Ci extends Ta{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Ek extends ls{constructor(u,d){super(u,"google.com",d)}}class dr extends Ta{constructor(u,d,p){super(u,"twitter.com",d,p)}}function Zi(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function Po(f){var u,d;if(!f)return null;const{providerId:p}=f,v=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},E=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const k=null===(d=null===(u=rl(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(k)return new ls(E,"anonymous"!==k&&"custom"!==k?k:null)}if(!p)return null;switch(p){case"facebook.com":return new zc(E,v);case"github.com":return new Ci(E,v);case"google.com":return new Ek(E,v);case"twitter.com":return new dr(E,v,f.screenName||null);case"custom":case"anonymous":return new ls(E,null);default:return new ls(E,p,v)}}(d)}class _l{constructor(u,d,p){this.type=u,this.credential=d,this.user=p}static _fromIdtoken(u,d){return new _l("enroll",u,d)}static _fromMfaPendingCredential(u){return new _l("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,p;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return _l._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(p=u.multiFactorSession)&&void 0!==p&&p.idToken)return _l._fromIdtoken(u.multiFactorSession.idToken)}return null}}class tv{constructor(u,d,p){this.session=u,this.hints=d,this.signInResolver=p}static _fromError(u,d){const p=mn(u),v=d.customData._serverResponse,E=(v.mfaInfo||[]).map(j=>li._fromServerResponse(p,j));ce(v.mfaPendingCredential,p,"internal-error");const k=_l._fromMfaPendingCredential(v.mfaPendingCredential);return new tv(k,E,function(){var j=(0,I.Z)(function*(ae){const Ee=yield ae._process(p,k);delete v.mfaInfo,delete v.mfaPendingCredential;const Me=Object.assign(Object.assign({},v),{idToken:Ee.idToken,refreshToken:Ee.refreshToken});switch(d.operationType){case"signIn":const ke=yield Mr._fromIdTokenResponse(p,d.operationType,Me);return yield p._updateCurrentUser(ke.user),ke;case"reauthenticate":return ce(d.user,p,"internal-error"),Mr._forOperation(d.user,d.operationType,Me);default:Ft(p,"internal-error")}});return function(ae){return j.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,I.Z)(function*(){return d.signInResolver(u)})()}}class nv{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>li._fromServerResponse(u.auth,p)))})}static _fromUser(u){return new nv(u)}getSession(){var u=this;return(0,I.Z)(function*(){return _l._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var p=this;return(0,I.Z)(function*(){const v=u,E=yield p.getSession(),k=yield Sr(p.user,v._process(p.user.auth,E,d));return yield p.user._updateTokensIfNecessary(k),p.user.reload()})()}unenroll(u){var d=this;return(0,I.Z)(function*(){const p="string"==typeof u?u:u.uid,v=yield d.user.getIdToken();try{const E=yield Sr(d.user,function Mk(f,u){return J(f,"POST","/v2/accounts/mfaEnrollment:withdraw",de(f,u))}(d.user.auth,{idToken:v,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:k})=>k!==p),yield d.user._updateTokensIfNecessary(E),yield d.user.reload()}catch(E){throw E}})()}}const Bd=new WeakMap,Yp="__sak";class CC{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qp=(()=>{class f extends CC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kk(){const f=(0,te.z$)();return Mo(f)||nt(f)}()&&function _t(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ne(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const v=this.storage.getItem(p),E=this.localCache[p];v!==E&&d(p,E,v)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((j,ae,Ee)=>{this.notifyListeners(j,Ee)});const v=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const j=this.storage.getItem(v);if(d.newValue!==j)null!==d.newValue?this.storage.setItem(v,d.newValue):this.storage.removeItem(v);else if(this.localCache[v]===d.newValue&&!p)return}const E=()=>{const j=this.storage.getItem(v);!p&&this.localCache[v]===j||this.notifyListeners(v,j)},k=this.storage.getItem(v);!function Rn(){return(0,te.w1)()&&10===document.documentMode}()||k===d.newValue||d.newValue===d.oldValue?E():setTimeout(E,10)}notifyListeners(d,p){this.localCache[d]=p;const v=this.listeners[d];if(v)for(const E of Array.from(v))E(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,v)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:v}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var v=()=>super._set,E=this;return(0,I.Z)(function*(){yield v().call(E,d,p),E.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,v=this;return(0,I.Z)(function*(){const E=yield p().call(v,d);return v.localCache[d]=JSON.stringify(E),E})()}_remove(d){var p=()=>super._remove,v=this;return(0,I.Z)(function*(){yield p().call(v,d),delete v.localCache[d]})()}}return f.type="LOCAL",f})(),po=(()=>{class f extends CC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let rv=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(E=>E.isListeningto(d));if(p)return p;const v=new f(d);return this.receivers.push(v),v}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,I.Z)(function*(){const v=d,{eventId:E,eventType:k,data:j}=v.data,ae=p.handlersMap[k];if(!ae?.size)return;v.ports[0].postMessage({status:"ack",eventId:E,eventType:k});const Ee=Array.from(ae).map(function(){var ke=(0,I.Z)(function*(Dn){return Dn(v.origin,j)});return function(Dn){return ke.apply(this,arguments)}}()),Me=yield function Yr(f){return Promise.all(f.map(function(){var u=(0,I.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return u.apply(this,arguments)}}()))}(Ee);v.ports[0].postMessage({status:"done",eventId:E,eventType:k,response:Me})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function yl(f="",u=10){let d="";for(let p=0;p<u;p++)d+=Math.floor(10*Math.random());return f+d}class ov{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,p=50){var v=this;return(0,I.Z)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let k,j;return new Promise((ae,Ee)=>{const Me=yl("",20);E.port1.start();const ke=setTimeout(()=>{Ee(new Error("unsupported_event"))},p);j={messageChannel:E,onMessage(Dn){const pr=Dn;if(pr.data.eventId===Me)switch(pr.data.status){case"ack":clearTimeout(ke),k=setTimeout(()=>{Ee(new Error("timeout"))},3e3);break;case"done":clearTimeout(k),ae(pr.data.response);break;default:clearTimeout(ke),clearTimeout(k),Ee(new Error("invalid_response"))}}},v.handlers.add(j),E.port1.addEventListener("message",j.onMessage),v.target.postMessage({eventType:u,eventId:Me,data:d},[E.port2])}).finally(()=>{j&&v.removeMessageHandler(j)})})()}}function Un(){return window}function Ud(){return typeof Un().WorkerGlobalScope<"u"&&"function"==typeof Un().importScripts}function qc(){return(qc=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const em="firebaseLocalStorageDb",Us="firebaseLocalStorage",xa="fbase_key";class vl{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function tm(f,u){return f.transaction([Us],u?"readwrite":"readonly").objectStore(Us)}function lv(){const f=indexedDB.open(em,1);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Us,{keyPath:xa})}catch(v){d(v)}}),f.addEventListener("success",(0,I.Z)(function*(){const p=f.result;p.objectStoreNames.contains(Us)?u(p):(p.close(),yield function Pk(){const f=indexedDB.deleteDatabase(em);return new vl(f).toPromise()}(),u(yield lv()))}))})}function cv(f,u,d){return nm.apply(this,arguments)}function nm(){return(nm=(0,I.Z)(function*(f,u,d){const p=tm(f,!0).put({[xa]:u,value:d});return new vl(p).toPromise()})).apply(this,arguments)}function Hd(){return(Hd=(0,I.Z)(function*(f,u){const d=tm(f,!1).get(u),p=yield new vl(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function $d(f,u){const d=tm(f,!0).delete(u);return new vl(d).toPromise()}const Gc=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,I.Z)(function*(){return d.db||(d.db=yield lv()),d.db})()}_withRetries(d){var p=this;return(0,I.Z)(function*(){let v=0;for(;;)try{const E=yield p._openDb();return yield d(E)}catch(E){if(v++>3)throw E;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,I.Z)(function*(){return Ud()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,I.Z)(function*(){d.receiver=rv._getInstance(function av(){return Ud()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,I.Z)(function*(v,E){return{keyProcessed:(yield d._poll()).includes(E.key)}});return function(v,E){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,I.Z)(function*(v,E){return["keyChanged"]});return function(v,E){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,I.Z)(function*(){var p,v;if(d.activeServiceWorker=yield function Jp(){return qc.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new ov(d.activeServiceWorker);const E=yield d.sender._send("ping",{},800);E&&null!==(p=E[0])&&void 0!==p&&p.fulfilled&&null!==(v=E[0])&&void 0!==v&&v.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,I.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function sv(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const d=yield lv();return yield cv(d,Yp,"1"),yield $d(d,Yp),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,I.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var v=this;return(0,I.Z)(function*(){return v._withPendingWrite((0,I.Z)(function*(){return yield v._withRetries(E=>cv(E,d,p)),v.localCache[d]=p,v.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,I.Z)(function*(){const v=yield p._withRetries(E=>function Rk(f,u){return Hd.apply(this,arguments)}(E,d));return p.localCache[d]=v,v})()}_remove(d){var p=this;return(0,I.Z)(function*(){return p._withPendingWrite((0,I.Z)(function*(){return yield p._withRetries(v=>$d(v,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,I.Z)(function*(){const p=yield d._withRetries(k=>{const j=tm(k,!1).getAll();return new vl(j).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const v=[],E=new Set;if(0!==p.length)for(const{fbase_key:k,value:j}of p)E.add(k),JSON.stringify(d.localCache[k])!==JSON.stringify(j)&&(d.notifyListeners(k,j),v.push(k));for(const k of Object.keys(d.localCache))d.localCache[k]&&!E.has(k)&&(d.notifyListeners(k,null),v.push(k));return v})()}notifyListeners(d,p){this.localCache[d]=p;const v=this.listeners[d];if(v)for(const E of Array.from(v))E(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),zd=1e12;class hv{constructor(u){this.auth=u,this.counter=zd,this._widgets=new Map}render(u,d){const p=this.counter;return this._widgets.set(p,new SC(u,this.auth.name,d||{})),this.counter++,p}reset(u){var d;const p=u||zd;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(u){var d;return(null===(d=this._widgets.get(u||zd))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,I.Z)(function*(){var p;return null===(p=d._widgets.get(u||zd))||void 0===p||p.execute(),""})()}}class SC{constructor(u,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const v="string"==typeof u?document.getElementById(u):u;ce(v,"argument-error",{appName:d}),this.container=v,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function fv(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rm=Ly("rcb"),Ok=new Ao(3e4,6e4);class AC{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Un().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return ce(function Or(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&zi(Un().grecaptcha)?Promise.resolve(Un().grecaptcha):new Promise((p,v)=>{const E=Un().setTimeout(()=>{v(tn(u,"network-request-failed"))},Ok.get());Un()[rm]=()=>{Un().clearTimeout(E),delete Un()[rm];const j=Un().grecaptcha;if(!j||!zi(j))return void v(tn(u,"internal-error"));const ae=j.render;j.render=(Ee,Me)=>{const ke=ae(Ee,Me);return this.counter++,ke},this.hostLanguage=d,p(j)},Fy(`${function fk(){return gd.recaptchaV2Script}()}?${(0,te.xO)({onload:rm,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(E),v(tn(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Un().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pv{load(u){return(0,I.Z)(function*(){return new hv(u)})()}clearedOneInstance(){}}const mv="recaptcha",MC={theme:"light",type:"image"};class gv{constructor(u,d,p=Object.assign({},MC)){this.parameters=p,this.type=mv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(u),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const v="string"==typeof d?document.getElementById(d):d;ce(v,this.auth,"argument-error"),this.container=v,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pv:new AC,this.validateStartingState()}verify(){var u=this;return(0,I.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),p=u.getAssertedRecaptcha();return p.getResponse(d)||new Promise(E=>{const k=j=>{j&&(u.tokenChangeListeners.delete(k),E(j))};u.tokenChangeListeners.add(k),u.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof u)u(d);else if("string"==typeof u){const p=Un()[u];"function"==typeof p&&p(d)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,I.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,I.Z)(function*(){ce(Do()&&!Ud(),u.auth,"internal-error"),yield function _v(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function Dc(f){return os.apply(this,arguments)}(u.auth);ce(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class om{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=ho._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function am(){return(am=(0,I.Z)(function*(f,u,d){const p=mn(f),v=yield bl(p,u,(0,te.m9)(d));return new om(v,E=>Rd(p,E))})).apply(this,arguments)}function qd(){return(qd=(0,I.Z)(function*(f,u,d){const p=(0,te.m9)(f);yield Pd(!1,p,"phone");const v=yield bl(p.auth,u,(0,te.m9)(d));return new om(v,E=>Ut(p,E))})).apply(this,arguments)}function Zt(){return(Zt=(0,I.Z)(function*(f,u,d){const p=(0,te.m9)(f),v=yield bl(p.auth,u,(0,te.m9)(d));return new om(v,E=>Ky(p,E))})).apply(this,arguments)}function bl(f,u,d){return wl.apply(this,arguments)}function wl(){return wl=(0,I.Z)(function*(f,u,d){var p;const v=yield d.verify();try{let E;if(ce("string"==typeof v,f,"argument-error"),ce(d.type===mv,f,"argument-error"),E="string"==typeof u?{phoneNumber:u}:u,"session"in E){const k=E.session;if("phoneNumber"in E)return ce("enroll"===k.type,f,"internal-error"),(yield function Dk(f,u){return J(f,"POST","/v2/accounts/mfaEnrollment:start",de(f,u))}(f,{idToken:k.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:v}})).phoneSessionInfo.sessionInfo;{ce("signin"===k.type,f,"internal-error");const j=(null===(p=E.multiFactorHint)||void 0===p?void 0:p.uid)||E.multiFactorUid;return ce(j,f,"missing-multi-factor-info"),(yield function IC(f,u){return J(f,"POST","/v2/accounts/mfaSignIn:start",de(f,u))}(f,{mfaPendingCredential:k.credential,mfaEnrollmentId:j,phoneSignInInfo:{recaptchaToken:v}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:k}=yield function ul(f,u){return Op.apply(this,arguments)}(f,{phoneNumber:E.phoneNumber,recaptchaToken:v});return k}}finally{d._reset()}}),wl.apply(this,arguments)}function lm(){return(lm=(0,I.Z)(function*(f,u){yield Vp((0,te.m9)(f),u)})).apply(this,arguments)}let El=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=mn(d)}verifyPhoneNumber(d,p){return bl(this.auth,d,(0,te.m9)(p))}static credential(d,p){return ho._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:v}=d;return p&&v?ho._fromTokenResponse(p,v):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Qr(f,u){return u?dt(u):(ce(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Ki extends ba{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return as(u,this._buildIdpRequest())}_linkToIdToken(u,d){return as(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return as(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function kC(f){return jp(f.auth,new Ki(f),f.bypassAuthState)}function PC(f){const{auth:u,user:d}=f;return ce(d,u,"internal-error"),Zy(d,new Ki(f),f.bypassAuthState)}function RC(f){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,I.Z)(function*(f){const{auth:u,user:d}=f;return ce(d,u,"internal-error"),Vp(d,new Ki(f),f.bypassAuthState)})).apply(this,arguments)}class cm{constructor(u,d,p,v,E=!1){this.auth=u,this.resolver=p,this.user=v,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,I.Z)(function*(p,v){u.pendingPromise={resolve:p,reject:v};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(E){u.reject(E)}});return function(p,v){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,I.Z)(function*(){const{urlResponse:p,sessionId:v,postBody:E,tenantId:k,error:j,type:ae}=u;if(j)return void d.reject(j);const Ee={auth:d.auth,requestUri:p,sessionId:v,tenantId:k||void 0,postBody:E||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ae)(Ee))}catch(Me){d.reject(Me)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return kC;case"linkViaPopup":case"linkViaRedirect":return RC;case"reauthViaPopup":case"reauthViaRedirect":return PC;default:Ft(this.auth,"internal-error")}}resolve(u){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OC=new Ao(2e3,1e4);function Gd(){return(Gd=(0,I.Z)(function*(f,u,d){const p=mn(f);ut(f,u,zn);const v=Qr(p,d);return new wv(p,"signInViaPopup",u,v).executeNotNull()})).apply(this,arguments)}function um(){return(um=(0,I.Z)(function*(f,u,d){const p=(0,te.m9)(f);ut(p.auth,u,zn);const v=Qr(p.auth,d);return new wv(p.auth,"reauthViaPopup",u,v,p).executeNotNull()})).apply(this,arguments)}function Wd(){return(Wd=(0,I.Z)(function*(f,u,d){const p=(0,te.m9)(f);ut(p.auth,u,zn);const v=Qr(p.auth,d);return new wv(p.auth,"linkViaPopup",u,v,p).executeNotNull()})).apply(this,arguments)}let wv=(()=>{class f extends cm{constructor(d,p,v,E,k){super(d,p,E,k),this.provider=v,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,I.Z)(function*(){const p=yield d.execute();return ce(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,I.Z)(function*(){fn(1===d.filter.length,"Popup operations only handle one event");const p=yl();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(v=>{d.reject(v)}),d.resolver._isIframeWebStorageSupported(d.auth,v=>{v||d.reject(tn(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,v;this.pollId=null!==(v=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==v&&v.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,OC.get())};d()}}return f.currentPopupAction=null,f})();const NC="pendingRedirect",Wc=new Map;class FC extends cm{constructor(u,d,p=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,I.Z)(function*(){let p=Wc.get(d.auth._key());if(!p){try{const E=(yield function Ev(f,u){return js.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;p=()=>Promise.resolve(E)}catch(v){p=()=>Promise.reject(v)}Wc.set(d.auth._key(),p)}return d.bypassAuthState||Wc.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,p=this;return(0,I.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(p,u);if("unknown"!==u.type){if(u.eventId){const v=yield p.auth._redirectUserForId(u.eventId);if(v)return p.user=v,d().call(p,u);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function js(){return(js=(0,I.Z)(function*(f,u){const d=he(u),p=Cv(f);if(!(yield p._isAvailable()))return!1;const v="true"===(yield p._get(d));return yield p._remove(d),v})).apply(this,arguments)}function dm(f,u){return hm.apply(this,arguments)}function hm(){return(hm=(0,I.Z)(function*(f,u){return Cv(f)._set(he(u),"true")})).apply(this,arguments)}function fm(f,u){Wc.set(f._key(),u)}function Cv(f){return dt(f._redirectPersistence)}function he(f){return ai(NC,f.config.apiKey,f.name)}function St(f,u,d){return function le(f,u,d){return oe.apply(this,arguments)}(f,u,d)}function oe(){return(oe=(0,I.Z)(function*(f,u,d){const p=mn(f);ut(f,u,zn),yield p._initializationPromise;const v=Qr(p,d);return yield dm(v,p),v._openRedirect(p,u,"signInViaRedirect")})).apply(this,arguments)}function Ti(f,u,d){return function Tv(f,u,d){return Da.apply(this,arguments)}(f,u,d)}function Da(){return(Da=(0,I.Z)(function*(f,u,d){const p=(0,te.m9)(f);ut(p.auth,u,zn),yield p.auth._initializationPromise;const v=Qr(p.auth,d);yield dm(v,p.auth);const E=yield Fo(p);return v._openRedirect(p.auth,u,"reauthViaRedirect",E)})).apply(this,arguments)}function No(f,u,d){return function pm(f,u,d){return Zc.apply(this,arguments)}(f,u,d)}function Zc(){return(Zc=(0,I.Z)(function*(f,u,d){const p=(0,te.m9)(f);ut(p.auth,u,zn),yield p.auth._initializationPromise;const v=Qr(p.auth,d);yield Pd(!1,p,u.providerId),yield dm(v,p.auth);const E=yield Fo(p);return v._openRedirect(p.auth,u,"linkViaRedirect",E)})).apply(this,arguments)}function Iv(){return(Iv=(0,I.Z)(function*(f,u){return yield mn(f)._initializationPromise,Kc(f,u,!1)})).apply(this,arguments)}function Kc(f,u){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,I.Z)(function*(f,u,d=!1){const p=mn(f),v=Qr(p,u),k=yield new FC(p,v,d).execute();return k&&!d&&(delete k.user._redirectEventId,yield p._persistUserIfCurrent(k.user),yield p._setRedirectUser(null,u)),k})).apply(this,arguments)}function Fo(f){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,I.Z)(function*(f){const u=yl(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class Lo{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(u,p)&&(d=!0,this.sendToConsumer(u,p),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function BC(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mm(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var p;if(u.error&&!mm(u)){const v=(null===(p=u.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(tn(this.auth,v))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const p=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&p}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(u))}saveEventToCache(u){this.cachedEventUids.add(xv(u)),this.lastProcessedEventTime=Date.now()}}function xv(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function mm({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function Dv(f){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,I.Z)(function*(f,u={}){return J(f,"GET","/v1/projects",u)})).apply(this,arguments)}const gm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sv=/^https?/;function ym(){return(ym=(0,I.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield Dv(f);for(const d of u)try{if(Av(d))return}catch{}Ft(f,"unauthorized-domain")})).apply(this,arguments)}function Av(f){const u=Yn(),{protocol:d,hostname:p}=new URL(u);if(f.startsWith("chrome-extension://")){const k=new URL(f);return""===k.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&k.hostname===p}if(!Sv.test(d))return!1;if(gm.test(f))return p===f;const v=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+v+"|"+v+")$","i").test(p)}const vm=new Ao(3e4,6e4);function bm(){const f=Un().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Qc=null;const wm=new Ao(5e3,15e3),UC="__/auth/iframe",jC="emulator/auth/iframe",Yi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xn(f){const u=f.config;ce(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?Y(u,jC):`https://${f.config.authDomain}/${UC}`,p={apiKey:u.apiKey,appName:f.name,v:Ye.SDK_VERSION},v=Sa.get(f.config.apiHost);v&&(p.eid=v);const E=f._getFrameworks();return E.length&&(p.fw=E.join(",")),`${d}?${(0,te.xO)(p).slice(1)}`}function Em(){return Em=(0,I.Z)(function*(f){const u=yield function kv(f){return Qc=Qc||function Mv(f){return new Promise((u,d)=>{var p,v,E;function k(){bm(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{bm(),d(tn(f,"network-request-failed"))},timeout:vm.get()})}if(null!==(v=null===(p=Un().gapi)||void 0===p?void 0:p.iframes)&&void 0!==v&&v.Iframe)u(gapi.iframes.getContext());else{if(null===(E=Un().gapi)||void 0===E||!E.load){const j=Ly("iframefcb");return Un()[j]=()=>{gapi.load?k():d(tn(f,"network-request-failed"))},Fy(`${function pk(){return gd.gapiScript}()}?onload=${j}`).catch(ae=>d(ae))}k()}}).catch(u=>{throw Qc=null,u})}(f),Qc}(f),d=Un().gapi;return ce(d,f,"internal-error"),u.open({where:document.body,url:xn(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yi,dontclear:!0},p=>new Promise(function(){var v=(0,I.Z)(function*(E,k){yield p.restyle({setHideOnLeave:!1});const j=tn(f,"network-request-failed"),ae=Un().setTimeout(()=>{k(j)},wm.get());function Ee(){Un().clearTimeout(ae),E(p)}p.ping(Ee).then(Ee,()=>{k(j)})});return function(E,k){return v.apply(this,arguments)}}()))}),Em.apply(this,arguments)}const Li={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cs{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qd="__/auth/handler",Xd="emulator/auth/handler",Cm=encodeURIComponent("fac");function Jd(f,u,d,p,v,E){return eh.apply(this,arguments)}function eh(){return(eh=(0,I.Z)(function*(f,u,d,p,v,E){ce(f.config.authDomain,f,"auth-domain-config-required"),ce(f.config.apiKey,f,"invalid-api-key");const k={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:Ye.SDK_VERSION,eventId:v};if(u instanceof zn){u.setDefaultLanguage(f.languageCode),k.providerId=u.providerId||"",(0,te.xb)(u.getCustomParameters())||(k.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Me,ke]of Object.entries(E||{}))k[Me]=ke}if(u instanceof Gi){const Me=u.getScopes().filter(ke=>""!==ke);Me.length>0&&(k.scopes=Me.join(","))}f.tenantId&&(k.tid=f.tenantId);const j=k;for(const Me of Object.keys(j))void 0===j[Me]&&delete j[Me];const ae=yield f._getAppCheckToken(),Ee=ae?`#${Cm}=${encodeURIComponent(ae)}`:"";return`${function zC({config:f}){return f.emulator?Y(f,Xd):`https://${f.authDomain}/${Qd}`}(f)}?${(0,te.xO)(j).slice(1)}${Ee}`})).apply(this,arguments)}const Hs="webStorageSupport",Ov=class Xc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=po,this._completeRedirectFn=Kc,this._overrideRedirectResult=fm}_openPopup(u,d,p,v){var E=this;return(0,I.Z)(function*(){var k;fn(null===(k=E.eventManagers[u._key()])||void 0===k?void 0:k.manager,"_initialize() not called before _openPopup()");const j=yield Jd(u,d,p,Yn(),v);return function $C(f,u,d,p=500,v=600){const E=Math.max((window.screen.availHeight-v)/2,0).toString(),k=Math.max((window.screen.availWidth-p)/2,0).toString();let j="";const ae=Object.assign(Object.assign({},Li),{width:p.toString(),height:v.toString(),top:E,left:k}),Ee=(0,te.z$)().toLowerCase();d&&(j=md(Ee)?"_blank":d),Qt(Ee)&&(u=u||"http://localhost",ae.scrollbars="yes");const Me=Object.entries(ae).reduce((Dn,[pr,su])=>`${Dn}${pr}=${su},`,"");if(function $(f=(0,te.z$)()){var u;return nt(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Ee)&&"_self"!==j)return function Yd(f,u){const d=document.createElement("a");d.href=f,d.target=u;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(u||"",j),new cs(null);const ke=window.open(u||"",j,Me);ce(ke,f,"popup-blocked");try{ke.focus()}catch{}return new cs(ke)}(u,j,yl())})()}_openRedirect(u,d,p,v){var E=this;return(0,I.Z)(function*(){return yield E._originValidation(u),function Xp(f){Un().location.href=f}(yield Jd(u,d,p,Yn(),v)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:v,promise:E}=this.eventManagers[d];return v?Promise.resolve(v):(fn(E,"If manager is not set, promise should be"),E)}const p=this.initAndGetManager(u);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(u){var d=this;return(0,I.Z)(function*(){const p=yield function Fi(f){return Em.apply(this,arguments)}(u),v=new Lo(u);return p.register("authEvent",E=>(ce(E?.authEvent,u,"invalid-auth-event"),{status:v.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:v},d.iframes[u._key()]=p,v})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(Hs,{type:Hs},v=>{var E;const k=null===(E=v?.[0])||void 0===E?void 0:E[Hs];void 0!==k&&d(!!k),Ft(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function _m(f){return ym.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return Ne()||Mo()||nt()}};class Nk{constructor(u){this.factorId=u}_process(u,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,p);case"signin":return this._finalizeSignIn(u,d.credential);default:return Tn("unexpected MultiFactorSessionType")}}}class Jc extends Nk{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Jc(u)}_finalizeEnroll(u,d,p){return function Sk(f,u){return J(f,"POST","/v2/accounts/mfaEnrollment:finalize",de(f,u))}(u,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function uv(f,u){return J(f,"POST","/v2/accounts/mfaSignIn:finalize",de(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fk=(()=>{class f{constructor(){}static assertion(d){return Jc._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var th="@firebase/auth";class GC{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,I.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(p=>{u(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Aa(){return window}(0,te.Pz)("authIdTokenMaxAge"),function hk(f){gd=f}({loadJS:f=>new Promise((u,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=u,p.onerror=v=>{const E=tn("internal-error");E.customData=v,d(E)},p.type="text/javascript",p.charset="UTF-8",function Vo(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function xm(f){(0,Ye._registerComponent)(new Pn.wA("auth",(u,{options:d})=>{const p=u.getProvider("app").getImmediate(),v=u.getProvider("heartbeat"),E=u.getProvider("app-check-internal"),{apiKey:k,authDomain:j}=p.options;ce(k&&!k.includes(":"),"invalid-api-key",{appName:p.name});const ae={apiKey:k,authDomain:j,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cl(f)},Ee=new fC(p,v,E,ae);return function gC(f,u){const d=u?.persistence||[],p=(Array.isArray(d)?d:[d]).map(dt);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(p,u?.popupRedirectResolver)}(Ee,d),Ee},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,p)=>{u.getProvider("auth-internal").initialize()})),(0,Ye._registerComponent)(new Pn.wA("auth-internal",u=>{const d=mn(u.getProvider("auth").getImmediate());return new GC(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ye.registerVersion)(th,"1.6.1",function eu(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,Ye.registerVersion)(th,"1.6.1","esm2017")}("Browser");function rh(){return rh=(0,I.Z)(function*(f,u,d){var p;const{BuildInfo:v}=Aa();fn(u.sessionId,"AuthEvent did not contain a session ID");const E=yield function Vv(f){return Am.apply(this,arguments)}(u.sessionId),k={};return nt()?k.ibi=v.packageName:N()?k.apn=v.packageName:Ft(f,"operation-not-supported-in-this-environment"),v.displayName&&(k.appDisplayName=v.displayName),k.sessionId=E,Jd(f,d,u.type,void 0,null!==(p=u.eventId)&&void 0!==p?p:void 0,k)}),rh.apply(this,arguments)}function tu(){return(tu=(0,I.Z)(function*(f){const{BuildInfo:u}=Aa(),d={};nt()?d.iosBundleId=u.packageName:N()?d.androidPackageName=u.packageName:Ft(f,"operation-not-supported-in-this-environment"),yield Dv(f,d)})).apply(this,arguments)}function sh(){return(sh=(0,I.Z)(function*(f,u,d){const{cordova:p}=Aa();let v=()=>{};try{yield new Promise((E,k)=>{let j=null;function ae(){var ke;E();const Dn=null===(ke=p.plugins.browsertab)||void 0===ke?void 0:ke.close;"function"==typeof Dn&&Dn(),"function"==typeof d?.close&&d.close()}function Ee(){j||(j=window.setTimeout(()=>{k(tn(f,"redirect-cancelled-by-user"))},2e3))}function Me(){"visible"===document?.visibilityState&&Ee()}u.addPassiveListener(ae),document.addEventListener("resume",Ee,!1),N()&&document.addEventListener("visibilitychange",Me,!1),v=()=>{u.removePassiveListener(ae),document.removeEventListener("resume",Ee,!1),document.removeEventListener("visibilitychange",Me,!1),j&&window.clearTimeout(j)}})}finally{v()}})).apply(this,arguments)}function Am(){return(Am=(0,I.Z)(function*(f){const u=function ah(f){if(fn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const u=new ArrayBuffer(f.length),d=new Uint8Array(u);for(let p=0;p<f.length;p++)d[p]=f.charCodeAt(p);return d}(f),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(v=>v.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ZC extends Lo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,I.Z)(function*(){yield u.initPromise})()}}function Il(f){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,I.Z)(function*(f){const u=yield Xn()._get(nu(f));return u&&(yield Xn()._remove(nu(f))),u})).apply(this,arguments)}function KC(){const f=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return f.join("")}function Xn(){return dt(Qp)}function nu(f){return ai("authEvent",f.config.apiKey,f.name)}function ka(f){if(!f?.includes("?"))return{};const[u,...d]=f.split("?");return(0,te.zd)(d.join("?"))}const Sl=class Dl{constructor(){this._redirectPersistence=po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Kc,this._overrideRedirectResult=fm}_initialize(u){var d=this;return(0,I.Z)(function*(){const p=u._key();let v=d.eventManagers.get(p);return v||(v=new ZC(u),d.eventManagers.set(p,v),d.attachCallbackListeners(u,v)),v})()}_openPopup(u){Ft(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,p,v){var E=this;return(0,I.Z)(function*(){!function Lv(f){var u,d,p,v,E,k,j,ae,Ee,Me;const ke=Aa();ce("function"==typeof(null===(u=ke?.universalLinks)||void 0===u?void 0:u.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ce(typeof(null===(d=ke?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ce("function"==typeof(null===(E=null===(v=null===(p=ke?.cordova)||void 0===p?void 0:p.plugins)||void 0===v?void 0:v.browsertab)||void 0===E?void 0:E.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(ae=null===(j=null===(k=ke?.cordova)||void 0===k?void 0:k.plugins)||void 0===j?void 0:j.browsertab)||void 0===ae?void 0:ae.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(Me=null===(Ee=ke?.cordova)||void 0===Ee?void 0:Ee.InAppBrowser)||void 0===Me?void 0:Me.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const k=yield E._initialize(u);yield k.initialized(),k.resetRedirect(),function LC(){Wc.clear()}(),yield E._originValidation(u);const j=function Bv(f,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:KC(),postBody:null,tenantId:f.tenantId,error:tn(f,"no-auth-event")}}(u,p,v);yield function Uv(f,u){return Xn()._set(nu(f),u)}(u,j);const ae=yield function Sm(f,u,d){return rh.apply(this,arguments)}(u,j,d),Ee=yield function WC(f){const{cordova:u}=Aa();return new Promise(d=>{u.plugins.browsertab.isAvailable(p=>{let v=null;p?u.plugins.browsertab.openUrl(f):v=u.InAppBrowser.open(f,function vt(f=(0,te.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(v)})})}(ae);return function Fv(f,u,d){return sh.apply(this,arguments)}(u,k,Ee)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function oh(f){return tu.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:p,handleOpenURL:v,BuildInfo:E}=Aa(),k=setTimeout((0,I.Z)(function*(){yield Il(u),d.onEvent(km())}),500),j=function(){var Me=(0,I.Z)(function*(ke){clearTimeout(k);const Dn=yield Il(u);let pr=null;Dn&&ke?.url&&(pr=function Qi(f,u){var d,p;const v=function jv(f){const u=ka(f),d=u.link?decodeURIComponent(u.link):void 0,p=ka(d).link,v=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return ka(v).link||v||p||d||f}(u);if(v.includes("/__/auth/callback")){const E=ka(v),k=E.firebaseError?function YC(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(E.firebaseError)):null,j=null===(p=null===(d=k?.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],ae=j?tn(j):null;return ae?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:ae,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:v,postBody:null}}return null}(Dn,ke.url)),d.onEvent(pr||km())});return function(Dn){return Me.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,j);const ae=v,Ee=`${E.packageName.toLowerCase()}://`;Aa().handleOpenURL=function(){var Me=(0,I.Z)(function*(ke){if(ke.toLowerCase().startsWith(Ee)&&j({url:ke}),"function"==typeof ae)try{ae(ke)}catch(Dn){console.error(Dn)}});return function(ke){return Me.apply(this,arguments)}}()}};function km(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tn("no-auth-event")}}function lh(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function XC(f=(0,te.z$)()){return!("file:"!==lh()&&"ionic:"!==lh()&&"capacitor:"!==lh()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hv(){try{const f=self.localStorage,u=yl();if(f)return f.setItem(u,"1"),f.removeItem(u),!function Ml(f=(0,te.z$)()){return function $k(){return(0,te.w1)()&&11===document?.documentMode}()||function zk(f=(0,te.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,te.hl)()}catch{return Rm()&&(0,te.hl)()}return!1}function Rm(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jn(){return(function jk(){return"http:"===lh()||"https:"===lh()}()||(0,te.ru)()||XC())&&!function Hk(){return(0,te.b$)()||(0,te.UG)()}()&&Hv()&&!Rm()}function $v(){return XC()&&typeof document<"u"}function Om(){return(Om=(0,I.Z)(function*(){return!!$v()&&new Promise(f=>{const u=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),f(!0)})})})).apply(this,arguments)}const di={LOCAL:"local",NONE:"none",SESSION:"session"},kl=ce,ru="persistence";function Nm(f){return zv.apply(this,arguments)}function zv(){return(zv=(0,I.Z)(function*(f){yield f._initializationPromise;const u=eT(),d=ai(ru,f.config.apiKey,f.name);u&&u.setItem(d,f._getPersistence())})).apply(this,arguments)}function eT(){var f;try{return(null===(f=function Xr(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const Nr=ce;class Bo{constructor(){this.browserResolver=dt(Ov),this.cordovaResolver=dt(Sl),this.underlyingResolver=null,this._redirectPersistence=po,this._completeRedirectFn=Kc,this._overrideRedirectResult=fm}_initialize(u){var d=this;return(0,I.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,p,v){var E=this;return(0,I.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._openPopup(u,d,p,v)})()}_openRedirect(u,d,p,v){var E=this;return(0,I.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._openRedirect(u,d,p,v)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return $v()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,I.Z)(function*(){if(u.underlyingResolver)return;const d=yield function iu(){return Om.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function Pa(f){return f.unwrap()}function qv(f){return Gv(f)}function Gv(f){const{_tokenResponse:u}=f instanceof te.ZR?f.customData:f;if(!u)return null;if(!(f instanceof te.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return El.credentialFromResult(f);const d=u.providerId;if(!d||d===yt.PASSWORD)return null;let p;switch(d){case yt.GOOGLE:p=Id;break;case yt.FACEBOOK:p=Vc;break;case yt.GITHUB:p=xd;break;case yt.TWITTER:p=Fp;break;default:const{oauthIdToken:v,oauthAccessToken:E,oauthTokenSecret:k,pendingToken:j,nonce:ae}=u;return E||k||v||j?j?d.startsWith("saml.")?ur._create(d,j):uo._fromParams({providerId:d,signInMethod:d,pendingToken:j,idToken:v,accessToken:E}):new bt(d).credential({idToken:v,accessToken:E,rawNonce:ae}):null}return f instanceof te.ZR?p.credentialFromError(f):p.credentialFromResult(f)}function fr(f,u){return u.catch(d=>{throw d instanceof te.ZR&&function tT(f,u){var d;const p=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new nT(f,function xk(f,u){var d;const p=(0,te.m9)(f),v=u;return ce(u.customData.operationType,p,"argument-error"),ce(null===(d=v.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),tv._fromError(p,v)}(f,u));else if(p){const v=Gv(u),E=u;v&&(E.credential=v,E.tenantId=p.tenantId||void 0,E.email=p.email||void 0,E.phoneNumber=p.phoneNumber||void 0)}}(f,d),d}).then(d=>{const v=d.user;return{operationType:d.operationType,credential:qv(d),additionalUserInfo:Zi(d),user:mo.getOrCreate(v)}})}function Fm(f,u){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,I.Z)(function*(f,u){const d=yield u;return{verificationId:d.verificationId,confirm:p=>fr(f,d.confirm(p))}})).apply(this,arguments)}class nT{constructor(u,d){this.resolver=d,this.auth=function qk(f){return f.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return fr(Pa(this.auth),this.resolver.resolveSignIn(u))}}class mo{constructor(u){this._delegate=u,this.multiFactor=function iv(f){const u=(0,te.m9)(f);return Bd.has(u)||Bd.set(u,nv._fromUser(u)),Bd.get(u)}(u)}static getOrCreate(u){return mo.USER_MAP.has(u)||mo.USER_MAP.set(u,new mo(u)),mo.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,I.Z)(function*(){return fr(d.auth,Ut(d._delegate,u))})()}linkWithPhoneNumber(u,d){var p=this;return(0,I.Z)(function*(){return Fm(p.auth,function Ro(f,u,d){return qd.apply(this,arguments)}(p._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,I.Z)(function*(){return fr(d.auth,function We(f,u,d){return Wd.apply(this,arguments)}(d._delegate,u,Bo))})()}linkWithRedirect(u){var d=this;return(0,I.Z)(function*(){return yield Nm(mn(d.auth)),No(d._delegate,u,Bo)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,I.Z)(function*(){return fr(d.auth,Ky(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return Fm(this.auth,function yv(f,u,d){return Zt.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return fr(this.auth,function bv(f,u,d){return um.apply(this,arguments)}(this._delegate,u,Bo))}reauthenticateWithRedirect(u){var d=this;return(0,I.Z)(function*(){return yield Nm(mn(d.auth)),Ti(d._delegate,u,Bo)})()}sendEmailVerification(u){return function ml(f,u){return Kr.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,I.Z)(function*(){return yield function bC(f,u){return kr.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function wt(f,u){return Ld((0,te.m9)(f),u,null)}(this._delegate,u)}updatePassword(u){return function wk(f,u){return Ld((0,te.m9)(f),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function hr(f,u){return lm.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function $c(f,u){return Ca.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function Hc(f,u,d){return Fd.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mo.USER_MAP=new WeakMap;const $s=ce;let Wv=(()=>{class f{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:v}=d.options;$s(v,"invalid-api-key",{appName:d.name}),$s(v,"invalid-api-key",{appName:d.name});const E=typeof window<"u"?Bo:void 0;this._delegate=p.initialize({options:{persistence:iT(v,d.name),popupRedirectResolver:E}}),this._delegate._updateErrorMap(vi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function xp(f,u,d){const p=mn(f);ce(p._canInitEmulator,p,"emulator-config-failed"),ce(/^https?:\/\//.test(u),p,"invalid-emulator-scheme");const v=!!d?.disableWarnings,E=By(u),{host:k,port:j}=function vd(f){const u=By(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",v=/^(\[[^\]]+\])(:|$)/.exec(p);if(v){const E=v[1];return{host:E,port:Pc(p.substr(E.length+1))}}{const[E,k]=p.split(":");return{host:E,port:Pc(k)}}}(u);p.config.emulator={url:`${E}//${k}${null===j?"":`:${j}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:k,port:j,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:v})}),v||function Dp(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,p)}applyActionCode(d){return function wC(f,u){return gn.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return xe(this._delegate,d)}confirmPasswordReset(d,p){return function Nd(f,u,d){return Wp.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var v=this;return(0,I.Z)(function*(){return fr(v._delegate,function jc(f,u,d){return ui.apply(this,arguments)}(v._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Bn(f,u){return Ea.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function pl(f,u){const d=Lc.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,I.Z)(function*(){$s(jn(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function VC(f,u){return Iv.apply(this,arguments)}(d._delegate,Bo);return p?fr(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Pm(f,u){mn(f)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,p,v){const{next:E,error:k,complete:j}=Pl(d,p,v);return this._delegate.onAuthStateChanged(E,k,j)}onIdTokenChanged(d,p,v){const{next:E,error:k,complete:j}=Pl(d,p,v);return this._delegate.onIdTokenChanged(E,k,j)}sendSignInLinkToEmail(d,p){return function Vn(f,u,d){return ko.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function Qy(f,u,d){return Od.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,I.Z)(function*(){let v;switch(function ou(f,u){kl(Object.values(di).includes(u),f,"invalid-persistence-type"),(0,te.b$)()?kl(u!==di.SESSION,f,"unsupported-persistence-type"):(0,te.UG)()?kl(u===di.NONE,f,"unsupported-persistence-type"):Rm()?kl(u===di.NONE||u===di.LOCAL&&(0,te.hl)(),f,"unsupported-persistence-type"):kl(u===di.NONE||Hv(),f,"unsupported-persistence-type")}(p._delegate,d),d){case di.SESSION:v=po;break;case di.LOCAL:v=(yield dt(Gc)._isAvailable())?Gc:Qp;break;case di.NONE:v=pn;break;default:return Ft("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(v)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return fr(this._delegate,function Gy(f){return Ad.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return fr(this._delegate,Rd(this._delegate,d))}signInWithCustomToken(d){return fr(this._delegate,function Yy(f,u){return ze.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return fr(this._delegate,function fl(f,u,d){return Rd((0,te.m9)(f),dl.credential(u,d)).catch(function(){var p=(0,I.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Fs(f),v});return function(v){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return fr(this._delegate,function tt(f,u,d){return wa.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return Fm(this._delegate,function sm(f,u,d){return am.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,I.Z)(function*(){return $s(jn(),p._delegate,"operation-not-supported-in-this-environment"),fr(p._delegate,function vv(f,u,d){return Gd.apply(this,arguments)}(p._delegate,d,Bo))})()}signInWithRedirect(d){var p=this;return(0,I.Z)(function*(){return $s(jn(),p._delegate,"operation-not-supported-in-this-environment"),yield Nm(p._delegate),St(p._delegate,d,Bo)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function _n(f,u){return Pr.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=di,f})();function Pl(f,u,d){let p=f;"function"!=typeof f&&({next:p,error:u,complete:d}=f);const v=p;return{next:k=>v(k&&mo.getOrCreate(k)),error:u,complete:d}}function iT(f,u){const d=function JC(f,u){const d=eT();if(!d)return[];const p=ai(ru,f,u);switch(d.getItem(p)){case di.NONE:return[pn];case di.LOCAL:return[Gc,po];case di.SESSION:return[po];default:return[]}}(f,u);if(typeof self<"u"&&!d.includes(Gc)&&d.push(Gc),typeof window<"u")for(const p of[Qp,po])d.includes(p)||d.push(p);return d.includes(pn)||d.push(pn),d}class Rl{constructor(){this.providerId="phone",this._delegate=new El(Pa(Ge.Z.auth()))}static credential(u,d){return El.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}Rl.PHONE_SIGN_IN_METHOD=El.PHONE_SIGN_IN_METHOD,Rl.PROVIDER_ID=El.PROVIDER_ID;const rT=ce;class Zv{constructor(u,d,p=Ge.Z.app()){var v;rT(null===(v=p.options)||void 0===v?void 0:v.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new gv(p.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ch(f){f.INTERNAL.registerComponent(new Pn.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),p=u.getProvider("auth");return new Wv(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:dl,FacebookAuthProvider:Vc,GithubAuthProvider:xd,GoogleAuthProvider:Id,OAuthProvider:bt,SAMLAuthProvider:Uc,PhoneAuthProvider:Rl,PhoneMultiFactorGenerator:Fk,RecaptchaVerifier:Zv,TwitterAuthProvider:Fp,Auth:Wv,AuthCredential:ba,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.3")}(Ge.Z)},861:(rs,_i,rt)=>{function I(te,Ye,Tt,Cn,Pn,yi,yt){try{var ue=te[yi](yt),ye=ue.value}catch(Fe){return void Tt(Fe)}ue.done?Ye(ye):Promise.resolve(ye).then(Cn,Pn)}function Ge(te){return function(){var Ye=this,Tt=arguments;return new Promise(function(Cn,Pn){var yi=te.apply(Ye,Tt);function yt(ye){I(yi,Cn,Pn,yt,ue,"next",ye)}function ue(ye){I(yi,Cn,Pn,yt,ue,"throw",ye)}yt(void 0)})}}rt.d(_i,{Z:()=>Ge})},582:(rs,_i,rt)=>{function Ye(Y,X){var W={};for(var se in Y)Object.prototype.hasOwnProperty.call(Y,se)&&X.indexOf(se)<0&&(W[se]=Y[se]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(se=Object.getOwnPropertySymbols(Y);de<se.length;de++)X.indexOf(se[de])<0&&Object.prototype.propertyIsEnumerable.call(Y,se[de])&&(W[se[de]]=Y[se[de]])}return W}function Fe(Y,X,W,se){return new(W||(W=Promise))(function(J,Te){function It(Dt){try{Ve(se.next(Dt))}catch(In){Te(In)}}function Re(Dt){try{Ve(se.throw(Dt))}catch(In){Te(In)}}function Ve(Dt){Dt.done?J(Dt.value):function de(J){return J instanceof W?J:new W(function(Te){Te(J)})}(Dt.value).then(It,Re)}Ve((se=se.apply(Y,X||[])).next())})}function hn(Y){return this instanceof hn?(this.v=Y,this):new hn(Y)}function Ft(Y,X,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,se=W.apply(Y,X||[]),J=[];return de={},Te("next"),Te("throw"),Te("return"),de[Symbol.asyncIterator]=function(){return this},de;function Te(an){se[an]&&(de[an]=function(Ri){return new Promise(function(oi,zi){J.push([an,Ri,oi,zi])>1||It(an,Ri)})})}function It(an,Ri){try{!function Re(an){an.value instanceof hn?Promise.resolve(an.value.v).then(Ve,Dt):In(J[0][2],an)}(se[an](Ri))}catch(oi){In(J[0][3],oi)}}function Ve(an){It("next",an)}function Dt(an){It("throw",an)}function In(an,Ri){an(Ri),J.shift(),J.length&&It(J[0][0],J[0][1])}}function or(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,X=Y[Symbol.asyncIterator];return X?X.call(Y):(Y=function Nt(Y){var X="function"==typeof Symbol&&Symbol.iterator,W=X&&Y[X],se=0;if(W)return W.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&se>=Y.length&&(Y=void 0),{value:Y&&Y[se++],done:!Y}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),W={},se("next"),se("throw"),se("return"),W[Symbol.asyncIterator]=function(){return this},W);function se(J){W[J]=Y[J]&&function(Te){return new Promise(function(It,Re){!function de(J,Te,It,Re){Promise.resolve(Re).then(function(Ve){J({value:Ve,done:It})},Te)}(It,Re,(Te=Y[J](Te)).done,Te.value)})}}}rt.d(_i,{FC:()=>Ft,KL:()=>or,_T:()=>Ye,mG:()=>Fe,qq:()=>hn}),"function"==typeof SuppressedError&&SuppressedError}},rs=>{rs(rs.s=898)}]);